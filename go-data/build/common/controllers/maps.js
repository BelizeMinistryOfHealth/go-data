"use strict";const app=require("../../server/server"),mapsApi=require("../../components/mapsApi"),appConfig=require("../../server/config.json");module.exports=function(e){app.utils.remote.disableRemoteMethods(e,["create","prototype.patchAttributes","findById","deleteById","count","find"]),e.findGeoLocationForAddress=function(e,r){if(!appConfig.mapsApi.enabled)return r(app.utils.apiError.getError("MAPS_API_DISABLED"));const o=["addressLine1","addressLine2","city","country","postalCode"].filter(r=>e[r]).map(r=>e[r]).join();mapsApi.getGeoLocation(o,function(e,o){e?r(app.utils.apiError.getError("MAPS_GEO_LOCATION_ERROR",e)):r(null,o)})}};