"use strict";const PdfUtils=require("../pdfDoc"),doc=PdfUtils.createPdfDoc({fontSize:8,layout:"landscape",margin:20,lineGap:0,wordSpacing:0,characterSpacing:0,paragraphGap:0});doc.on("pageAdded",()=>{doc.moveDown(2)});const worker={sendData:function(e,o,d=!1){o.forEach((n,c)=>{PdfUtils.addTitle(doc,e.pageTitle);const t=doc.x;doc.moveDown(),PdfUtils.addTitle(doc,e.contactTitle,14),n.contactDetails.forEach(e=>{doc.text(`${e.label}: ${PdfUtils.displayValue(e.value)}`)}),doc.moveDown(2),PdfUtils.createTableInPDFDocument(n.tableHeaders,n.tableData,doc),doc.x=t,PdfUtils.addTitle(doc,e.commentsTitle,12),doc.moveDown(2),(!d||c<o.length-1)&&doc.addPage()}),process.send([null,{readyForNextBatch:!0}])},finish:function(){doc.end()}};let buffers=[],end=!1;!function e(){buffers.length&&(process.send([null,{chunk:Buffer.concat(buffers)}]),buffers=[]),end?process.send([null,{end:!0}]):setTimeout(e,1e3)}(),doc.on("data",function(e){buffers.push(e)}),doc.on("end",function(){end=!0}),process.on("message",function(e){worker[e.fn](...e.args)});