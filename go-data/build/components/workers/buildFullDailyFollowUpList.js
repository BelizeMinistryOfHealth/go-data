"use strict";const pdfUtils=require("../pdfDoc"),doc=pdfUtils.createPdfDoc({fontSize:6,layout:"landscape",margin:20,lineGap:0,wordSpacing:0,characterSpacing:0,paragraphGap:0});doc.on("pageAdded",()=>{doc.moveDown(2)});const worker={sendData:function(o,e=!1){doc.moveDown(2),o.forEach(function(n,c){const d=doc.y,t=doc.x;pdfUtils.addTitle(doc,n.contactInformation.title,14),n.contactInformation.rows.forEach(function(o){doc.text(o)}),doc.x=parseInt(doc.page.width/2),doc.y=d,pdfUtils.addTitle(doc,n.legend.title,14),n.legend.rows.forEach(function(o){doc.text(o)}),doc.x=t,doc.moveDown(3),pdfUtils.createTableInPDFDocument(n.headers,n.data,doc),(!e||c<o.length-1)&&doc.addPage()}),process.send([null,{readyForNextBatch:!0}])},finish:function(){doc.end()}};let buffers=[],end=!1;!function o(){buffers.length&&(process.send([null,{chunk:Buffer.concat(buffers)}]),buffers=[]),end?process.send([null,{end:!0}]):setTimeout(o,1e3)}(),doc.on("data",function(o){buffers.push(o)}),doc.on("end",function(){end=!0}),process.on("message",function(o){worker[o.fn](...o.args)});