"use strict";const aesCrypto=require("./aesCrypto"),fs=require("fs"),path=require("path"),uuid=require("uuid");function encryptSync(e,n,r){return new Promise(function(t,i){fs.readFile(r,function(c,u){return c?i(c):aesCrypto.encrypt(e,u).then(function(e){if(n.keepOriginal){const e=path.extname(r);r=r.replace(e,`-${uuid.v4()}${e}`)}fs.writeFile(r,e,function(e){if(e)return i(e);t(r)})})})})}function decryptSync(e,n,r){return new Promise(function(t,i){fs.readFile(r,function(c,u){return c?i(c):aesCrypto.decrypt(e,u).then(function(e){if(n.keepOriginal){const e=path.extname(r);r=r.replace(e,`-${uuid.v4()}${e}`)}fs.writeFile(r,e,function(e){if(e)return i(e);t(r)})})})})}module.exports={encryptSync:encryptSync,decryptSync:decryptSync};