"use strict";let qrImage=require("qr-image");const TYPES={RESOURCE_LINK:"resource-link"};function encodeDataInQr(i){return qrImage.imageSync(JSON.stringify(i))}function createResourceLink(i,e){return encodeDataInQr({type:TYPES.RESOURCE_LINK,targetResource:i,resourceContext:e})}function addPersonQRCode(i,e,t,o,n){let a=i.x,r=i.y,g={};(n=n||{}).imageSize=n.imageSize||{},n.imageSize.width=n.imageSize.width||100,n.imageSize.height=n.imageSize.height||100,n.imagePosition=n.imagePosition||{},n.imagePosition.x=n.imagePosition.x||465,n.imagePosition.y=n.imagePosition.y||10,n.identifierPosition=n.identifierPosition||{},n.identifierPosition.x=n.identifierPosition.x||400,n.identifierPosition.y=n.identifierPosition.y||110;const s=i._fontSize;n.fontSize&&i.fontSize(n.fontSize),o&&"object"==typeof o?(g=createResourceLink(t,{outbreakId:e,[`${t}Id`]:o.id}),i.image(g,n.imagePosition.x,n.imagePosition.y,{width:n.imageSize.width,height:n.imageSize.height}),i.text(`${o.id}`,n.identifierPosition.x,n.identifierPosition.y,{align:"right"}),i.text(`${o.firstName||""} ${o.middleName||""} ${o.lastName||""}`,{align:"right"})):(g=createResourceLink(t,{outbreakId:e,[`${t}Id`]:o}),i.image(g,n.imagePosition.x,n.imagePosition.y,{width:n.imageSize.width,height:n.imageSize.height}),i.text(o,n.identifierPosition.x,n.identifierPosition.y,{align:"right"}),n.displayDashLines&&i.text("_ ".repeat(52),{align:"right"})),i.x=a,i.y=r,i.fontSize(s)}module.exports={createResourceLink:createResourceLink,addPersonQRCode:addPersonQRCode,encodeDataInQr:encodeDataInQr};