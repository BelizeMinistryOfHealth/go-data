"use strict";const app=require("../../server/server");module.exports=function(t){t.hasController=!1,app.on("started",function(){t.updateAll({status:"LNG_SYNC_STATUS_IN_PROGRESS"},{status:"LNG_SYNC_STATUS_FAILED",error:"Application was restarted before finalizing the sync/export action"}).then(function(t){app.logger.debug(`Startup: ${t.count} sync/export actions that were 'in progress' after application restart. Changed status to failed`)}).catch(function(t){app.logger.debug(`Startup: Update of 'in progress' sync/export actions status failed. Error: ${t}`)})}),t.prototype.addError=function(t){this.error||(this.error=""),this.error+=`${t}; `}};