(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"++lx":function(t,e,n){"use strict";n.r(e);var i=n("CcnG"),a=function(){return function(){}}(),o=n("pMnS"),r=n("xYTU"),l=n("t68o"),s=n("zbXB"),u=n("NcP4"),c=n("4wIn"),d=n("YSfw"),h=n("Z5Hw"),p=n("/k4y"),f=n("HQtj"),g=n("Mdc2"),b=n("tUgS"),m=n("yv8q"),v=n("Uhz4"),x=n("Ip0R"),_=n("mrSG");function y(t,e,n){var i,a,o;n=n||{};var r=null,l=0;function s(){l=!1===n.leading?0:+new Date,r=null,o=t.apply(i,a)}return function(){var u=+new Date;l||!1!==n.leading||(l=u);var c=e-(u-l);return i=this,a=arguments,c<=0?(clearTimeout(r),r=null,l=u,o=t.apply(i,a)):r||!1===n.trailing||(r=setTimeout(s,c)),o}}var S=function(t){return t[t.top="top"]="top",t[t.bottom="bottom"]="bottom",t[t.left="left"]="left",t[t.right="right"]="right",t}({}),C=7;function A(t,e,n){return"top"===n?t.top-C:"bottom"===n?t.top+t.height-e.height+C:"center"===n?t.top+t.height/2-e.height/2:void 0}function w(t,e,n){return"left"===n?t.left-C:"right"===n?t.left+t.width-e.width+C:"center"===n?t.left+t.width/2-e.width/2:void 0}var T=function(){function t(){}return t.calculateVerticalAlignment=function(t,e,n){var i=A(t,e,n);return i+e.height>window.innerHeight&&(i=window.innerHeight-e.height),i},t.calculateVerticalCaret=function(t,e,n,i){var a;"top"===i&&(a=t.height/2-n.height/2+C),"bottom"===i&&(a=e.height-t.height/2-n.height/2-C),"center"===i&&(a=e.height/2-n.height/2);var o=A(t,e,i);return o+e.height>window.innerHeight&&(a+=o+e.height-window.innerHeight),a},t.calculateHorizontalAlignment=function(t,e,n){var i=w(t,e,n);return i+e.width>window.innerWidth&&(i=window.innerWidth-e.width),i},t.calculateHorizontalCaret=function(t,e,n,i){var a;"left"===i&&(a=t.width/2-n.width/2+C),"right"===i&&(a=e.width-t.width/2-n.width/2-C),"center"===i&&(a=e.width/2-n.width/2);var o=w(t,e,i);return o+e.width>window.innerWidth&&(a+=o+e.width-window.innerWidth),a},t.shouldFlip=function(t,e,n,i,a){var o=!1;return"right"===n&&w(t,e,i)+e.width+a>window.innerWidth&&(o=!0),"left"===n&&w(t,e,i)-a<0&&(o=!0),"top"===n&&t.top-e.height-a<0&&(o=!0),"bottom"===n&&A(t,e,i)+e.height+a>window.innerHeight&&(o=!0),o},t.positionCaret=function(e,n,i,a,o){var r=0,l=0;return e===S.right?(l=-7,r=t.calculateVerticalCaret(i,n,a,o)):e===S.left?(l=n.width,r=t.calculateVerticalCaret(i,n,a,o)):e===S.top?(r=n.height,l=t.calculateHorizontalCaret(i,n,a,o)):e===S.bottom&&(r=-7,l=t.calculateHorizontalCaret(i,n,a,o)),{top:r,left:l}},t.positionContent=function(e,n,i,a,o){var r=0,l=0;return e===S.right?(l=i.left+i.width+a,r=t.calculateVerticalAlignment(i,n,o)):e===S.left?(l=i.left-n.width-a,r=t.calculateVerticalAlignment(i,n,o)):e===S.top?(r=i.top-n.height-a,l=t.calculateHorizontalAlignment(i,n,o)):e===S.bottom&&(r=i.top+i.height+a,l=t.calculateHorizontalAlignment(i,n,o)),{top:r,left:l}},t.determinePlacement=function(e,n,i,a,o){if(t.shouldFlip(i,n,e,o,a)){if(e===S.right)return S.left;if(e===S.left)return S.right;if(e===S.top)return S.bottom;if(e===S.bottom)return S.top}return e},t}(),L=function(){function t(t,e){this.element=t,this.renderer=e}return Object.defineProperty(t.prototype,"cssClasses",{get:function(){var t="ngx-charts-tooltip-content";return t+=" position-"+this.placement,(t+=" type-"+this.type)+" "+this.cssClass},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){setTimeout(this.position.bind(this))},t.prototype.position=function(){var t=this,e=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(n.height||n.width){var i=e.getBoundingClientRect();this.checkFlip(n,i),this.positionContent(e,n,i),this.showCaret&&this.positionCaret(n,i),setTimeout(function(){return t.renderer.addClass(e,"animate")},1)}},t.prototype.positionContent=function(t,e,n){var i=T.positionContent(this.placement,n,e,this.spacing,this.alignment),a=i.left;this.renderer.setStyle(t,"top",i.top+"px"),this.renderer.setStyle(t,"left",a+"px")},t.prototype.positionCaret=function(t,e){var n=this.caretElm.nativeElement,i=n.getBoundingClientRect(),a=T.positionCaret(this.placement,e,t,i,this.alignment),o=a.left;this.renderer.setStyle(n,"top",a.top+"px"),this.renderer.setStyle(n,"left",o+"px")},t.prototype.checkFlip=function(t,e){this.placement=T.determinePlacement(this.placement,e,t,this.spacing,this.alignment)},t.prototype.onWindowResize=function(){this.position()},Object(_.__decorate)([Object(i.HostListener)("window:resize"),function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:y(n.value,100,void 0)}),this[e]}}},Object(_.__metadata)("design:type",Function),Object(_.__metadata)("design:paramtypes",[]),Object(_.__metadata)("design:returntype",void 0)],t.prototype,"onWindowResize",null),t}(),E=i["\u0275crt"]({encapsulation:2,styles:[[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate3d(0,0,0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}"]],data:{}});function D(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](0,null,null,0))],null,null)}function I(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,2,null,D)),i["\u0275did"](2,540672,null,0,x.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i["\u0275pod"](3,{model:0})],function(t,e){var n=e.component,i=t(e,3,0,n.context);t(e,2,0,i,n.template)},null)}function O(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.title)})}function R(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{caretElm:0}),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,[[1,0],["caretElm",1]],null,0,"span",[],[[8,"hidden",0],[8,"className",0]],null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,4,"div",[["class","tooltip-content"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,I)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,O)),i["\u0275did"](7,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,!n.title),t(e,7,0,n.title)},function(t,e){var n=e.component;t(e,2,0,!n.showCaret,i["\u0275inlineInterpolate"](1,"tooltip-caret position-",n.placement,""))})}function F(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngx-tooltip-content",[],[[8,"className",0]],[["window","resize"]],function(t,e,n){var a=!0;return"window:resize"===e&&(a=!1!==i["\u0275nov"](t,1).onWindowResize()&&a),a},R,E)),i["\u0275did"](1,4243456,null,0,L,[i.ElementRef,i.Renderer2],null,null)],null,function(t,e){t(e,0,0,i["\u0275nov"](e,1).cssClasses)})}var P=i["\u0275ccf"]("ngx-tooltip-content",L,F,{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},{},[]),k=n("bujt"),N=n("UodH"),V=n("dWZg"),G=n("lLAP"),M=n("wFw1"),B=n("mVsa"),H=n("eDkP"),U=n("Fzqc"),j=n("A7o+"),z=n("fTXP"),Y=n("gIcY"),X=n("adSY"),W=n("x2NK"),q=n("2Q+G"),$=n("lzlj"),Q=n("FVSy"),K=n("21Lb"),Z=n("OzfB"),J=[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus,.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],tt=function(){function t(t){this.sanitizer=t,this.horizontal=!1}return t.prototype.ngOnChanges=function(t){var e=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=this.sanitizer.bypassSecurityTrustStyle("linear-gradient(to "+(this.horizontal?"right":"bottom")+", "+e+")")},t.prototype.gradientString=function(t,e){e.push(1);var n=[];return t.reverse().forEach(function(t,i){n.push(t+" "+Math.round(100*e[i])+"%")}),n.join(", ")},t}(),et=n("ZYjt"),nt=i["\u0275crt"]({encapsulation:2,styles:[[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}"]],data:{}});function it(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,7,"div",[["class","scale-legend"]],[[2,"horizontal-legend",null],[4,"height","px"],[4,"width","px"]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,2,"div",[["class","scale-legend-label"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,["",""])),(t()(),i["\u0275eld"](4,0,null,null,0,"div",[["class","scale-legend-wrap"]],[[4,"background",null]],null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[["class","scale-legend-label"]],null,null,null,null,null)),(t()(),i["\u0275eld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,n.horizontal,n.horizontal?void 0:n.height,n.width),t(e,3,0,n.valueRange[1].toLocaleString()),t(e,4,0,n.gradient),t(e,7,0,n.valueRange[0].toLocaleString())})}var at=function(){function t(){this.isActive=!1,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.toggle=new i.EventEmitter}return Object.defineProperty(t.prototype,"trimmedLabel",{get:function(){return this.formattedLabel||"(empty)"},enumerable:!0,configurable:!0}),t.prototype.onMouseEnter=function(){this.activate.emit({name:this.label})},t.prototype.onMouseLeave=function(){this.deactivate.emit({name:this.label})},t}(),ot=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function rt(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[["tabindex","-1"]],[[8,"title",0],[2,"active",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.select.emit(a.formattedLabel)&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,"span",[["class","legend-label-color"]],[[4,"background-color",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.toggle.emit(a.formattedLabel)&&i),i},null,null)),(t()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","legend-label-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](3,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.formattedLabel,n.isActive),t(e,1,0,n.color),t(e,3,0,n.trimmedLabel)})}function lt(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}var st=function(){function t(t){this.cd=t,this.horizontal=!1,this.labelClick=new i.EventEmitter,this.labelActivate=new i.EventEmitter,this.labelDeactivate=new i.EventEmitter,this.legendEntries=[]}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()},t.prototype.getLegendEntries=function(){for(var t=[],e=function(e){var i=lt(e);-1===t.findIndex(function(t){return t.label===i})&&t.push({label:e,formattedLabel:i,color:n.colors.getColor(e)})},n=this,i=0,a=this.data;i<a.length;i++)e(a[i]);return t},t.prototype.isActive=function(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(function(e){return t.label===e.name})},t.prototype.activate=function(t){this.labelActivate.emit(t)},t.prototype.deactivate=function(t){this.labelDeactivate.emit(t)},t.prototype.trackBy=function(t,e){return e.label},t}(),ut=i["\u0275crt"]({encapsulation:2,styles:[[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend li,.chart-legend ul{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"]],data:{}});function ct(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"header",[["class","legend-title"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"span",[["class","legend-title-text"]],null,null,null,null,null)),(t()(),i["\u0275ted"](2,null,["",""]))],null,function(t,e){t(e,2,0,e.component.title)})}function dt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"li",[["class","legend-label"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"ngx-charts-legend-entry",[],null,[[null,"select"],[null,"activate"],[null,"deactivate"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var a=!0,o=t.component;return"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,2).onMouseEnter()&&a),"mouseleave"===e&&(a=!1!==i["\u0275nov"](t,2).onMouseLeave()&&a),"select"===e&&(a=!1!==o.labelClick.emit(n)&&a),"activate"===e&&(a=!1!==o.activate(n)&&a),"deactivate"===e&&(a=!1!==o.deactivate(n)&&a),a},rt,ot)),i["\u0275did"](2,49152,null,0,at,[],{color:[0,"color"],label:[1,"label"],formattedLabel:[2,"formattedLabel"],isActive:[3,"isActive"]},{select:"select",activate:"activate",deactivate:"deactivate"})],function(t,e){t(e,2,0,e.context.$implicit.color,e.context.$implicit.label,e.context.$implicit.formattedLabel,e.component.isActive(e.context.$implicit))},null)}function ht(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[],[[4,"width","px"]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,ct)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](3,0,null,null,3,"div",[["class","legend-wrap"]],null,null,null,null,null)),(t()(),i["\u0275eld"](4,0,null,null,2,"ul",[["class","legend-labels"]],[[2,"horizontal-legend",null],[4,"max-height","px"]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,dt)),i["\u0275did"](6,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){var n=e.component;t(e,2,0,(null==n.title?null:n.title.length)>0),t(e,6,0,n.legendEntries,n.trackBy)},function(t,e){var n=e.component;t(e,0,0,n.width),t(e,4,0,n.horizontal,n.height-45)})}var pt=function(){function t(t,e,n){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=n}var e;return e=t,t.setGlobalRootViewContainer=function(t){e.globalRootViewContainer=t},t.prototype.getRootViewContainer=function(){var t=this.applicationRef.components;if(t&&t.length)return t[0];if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer.")},t.prototype.setRootViewContainer=function(t){this._container=t},t.prototype.getComponentRootNode=function(t){return t.hostView?t.hostView.rootNodes[0]:t.element.nativeElement},t.prototype.getRootViewContainerNode=function(){return this.getComponentRootNode(this.getRootViewContainer())},t.prototype.projectComponentBindings=function(t,e){if(e){if(void 0!==e.inputs)for(var n=0,i=Object.getOwnPropertyNames(e.inputs);n<i.length;n++){var a=i[n];t.instance[a]=e.inputs[a]}if(void 0!==e.outputs)for(var o=0,r=Object.getOwnPropertyNames(e.outputs);o<r.length;o++){var l=r[o];t.instance[l]=e.outputs[l]}}return t},t.prototype.appendComponent=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=this.getRootViewContainerNode());var i=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector),a=this.applicationRef,o=this.getComponentRootNode(i);return this.projectComponentBindings(i,e),a.attachView(i.hostView),i.onDestroy(function(){a.detachView(i.hostView)}),i.instance.renderer.appendChild(n,o),i},t.globalRootViewContainer=null,t}(),ft=function(t){function e(e){var n=t.call(this,e)||this;return n.injectionService=e,n.type=L,n}return Object(_.__extends)(e,t),e}(function(){function t(t){this.injectionService=t,this.defaults={},this.components=new Map}return t.prototype.getByType=function(t){return void 0===t&&(t=this.type),this.components.get(t)},t.prototype.create=function(t){return this.createByType(this.type,t)},t.prototype.createByType=function(t,e){e=this.assignDefaults(e);var n=this.injectComponent(t,e);return this.register(t,n),n},t.prototype.destroy=function(t){var e=this.components.get(t.componentType);if(e){var n=e.indexOf(t);n>-1&&(e[n].destroy(),e.splice(n,1))}},t.prototype.destroyAll=function(){this.destroyByType(this.type)},t.prototype.destroyByType=function(t){var e=this.components.get(t);if(e)for(var n=0,i=e;n<i.length;n++)this.destroy(i[n])},t.prototype.assignDefaults=function(t){var e=this.defaults,n=e.inputs,i=e.outputs;return t.inputs||t.outputs||(t={inputs:t}),n&&(t.inputs=Object.assign(n,t.inputs)),i&&(t.outputs=Object.assign(i,t.outputs)),t},t.prototype.injectComponent=function(t,e){return this.injectionService.appendComponent(t,e)},t.prototype.register=function(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)},t}()),gt=function(t){return t[t.popover="popover"]="popover",t[t.tooltip="tooltip"]="tooltip",t}({}),bt=function(t){return t[t.left="left"]="left",t[t.center="center"]="center",t[t.right="right"]="right",t}({}),mt=function(t){return t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",t}({}),vt=function(){function t(t,e,n){this.tooltipService=t,this.viewContainerRef=e,this.renderer=n,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=S.top,this.tooltipAlignment=bt.center,this.tooltipType=gt.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=mt.all,this.tooltipImmediateExit=!1,this.show=new i.EventEmitter,this.hide=new i.EventEmitter}return Object.defineProperty(t.prototype,"listensForFocus",{get:function(){return this.tooltipShowEvent===mt.all||this.tooltipShowEvent===mt.focus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listensForHover",{get:function(){return this.tooltipShowEvent===mt.all||this.tooltipShowEvent===mt.mouseover},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.hideTooltip(!0)},t.prototype.onFocus=function(){this.listensForFocus&&this.showTooltip()},t.prototype.onBlur=function(){this.listensForFocus&&this.hideTooltip(!0)},t.prototype.onMouseEnter=function(){this.listensForHover&&this.showTooltip()},t.prototype.onMouseLeave=function(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}},t.prototype.onMouseClick=function(){this.listensForHover&&this.hideTooltip(!0)},t.prototype.showTooltip=function(t){var e=this;if(!this.component&&!this.tooltipDisabled){var n=t?0:this.tooltipShowTimeout;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.tooltipService.destroyAll();var t=e.createBoundOptions();e.component=e.tooltipService.create(t),setTimeout(function(){e.component&&e.addHideListeners(e.component.instance.element.nativeElement)},10),e.show.emit(!0)},n)}},t.prototype.addHideListeners=function(t){var e=this;this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",function(){clearTimeout(e.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",function(){e.hideTooltip(e.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen(document,"click",function(n){t.contains(n.target)||e.hideTooltip()}))},t.prototype.hideTooltip=function(t){var e=this;if(void 0===t&&(t=!1),this.component){var n=function(){e.mouseLeaveContentEvent&&e.mouseLeaveContentEvent(),e.mouseEnterContentEvent&&e.mouseEnterContentEvent(),e.documentClickEvent&&e.documentClickEvent(),e.hide.emit(!0),e.tooltipService.destroy(e.component),e.component=void 0};clearTimeout(this.timeout),t?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}},t.prototype.createBoundOptions=function(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}},t}(),xt=function(){return function(){}}(),_t=function(){function t(t,e){this.vcr=t,this.tooltipService=e,this.showLegend=!1,this.animations=!0,this.legendLabelClick=new i.EventEmitter,this.legendLabelActivate=new i.EventEmitter,this.legendLabelDeactivate=new i.EventEmitter,this.tooltipService.injectionService.setRootViewContainer(this.vcr)}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){var t=0;this.showLegend&&(this.legendType=this.getLegendType(),this.legendOptions&&"right"!==this.legendOptions.position||(t="scaleLegend"===this.legendType?1:2)),this.chartWidth=~~(this.view[0]*(12-t)/12),this.legendWidth=this.legendOptions&&"right"!==this.legendOptions.position?this.chartWidth:~~(this.view[0]*t/12)},t.prototype.getLegendType=function(){return"linear"===this.legendOptions.scaleType?"scaleLegend":"legend"},t}(),yt=i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"animationState",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"500ms 100ms"}],options:null}],options:{}}]}});function St(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngx-charts-scale-legend",[["class","chart-legend"]],null,null,null,it,nt)),i["\u0275did"](1,573440,null,0,tt,[et.c],{valueRange:[0,"valueRange"],colors:[1,"colors"],height:[2,"height"],width:[3,"width"],horizontal:[4,"horizontal"]},null)],function(t,e){var n=e.component;t(e,1,0,n.legendOptions.domain,n.legendOptions.colors,n.view[1],n.legendWidth,n.legendOptions&&"below"===n.legendOptions.position)},null)}function Ct(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"ngx-charts-legend",[["class","chart-legend"]],null,[[null,"labelClick"],[null,"labelActivate"],[null,"labelDeactivate"]],function(t,e,n){var i=!0,a=t.component;return"labelClick"===e&&(i=!1!==a.legendLabelClick.emit(n)&&i),"labelActivate"===e&&(i=!1!==a.legendLabelActivate.emit(n)&&i),"labelDeactivate"===e&&(i=!1!==a.legendLabelDeactivate.emit(n)&&i),i},ht,ut)),i["\u0275did"](1,573440,null,0,st,[i.ChangeDetectorRef],{data:[0,"data"],title:[1,"title"],colors:[2,"colors"],height:[3,"height"],width:[4,"width"],activeEntries:[5,"activeEntries"],horizontal:[6,"horizontal"]},{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"})],function(t,e){var n=e.component;t(e,1,0,n.legendOptions.domain,n.legendOptions.title,n.legendOptions.colors,n.view[1],n.legendWidth,n.activeEntries,n.legendOptions&&"below"===n.legendOptions.position)},null)}function At(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[["class","ngx-charts-outer"]],[[4,"width","px"],[24,"@animationState",0],[24,"@.disabled",0]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,":svg:svg",[["class","ngx-charts"]],[[1,"width",0],[1,"height",0]],null,null,null,null)),i["\u0275ncd"](null,0),(t()(),i["\u0275and"](16777216,null,null,1,null,St)),i["\u0275did"](4,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ct)),i["\u0275did"](6,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,4,0,n.showLegend&&"scaleLegend"===n.legendType),t(e,6,0,n.showLegend&&"legend"===n.legendType)},function(t,e){var n=e.component;t(e,0,0,n.view[0],"active",!n.animations),t(e,1,0,n.chartWidth,n.view[1])})}var wt=n("8d86");function Tt(t,e){return void 0===e&&(e=16),"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=e?t:t.slice(0,e)+"..."}var Lt=function(){function t(){this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.isIE=/(edge|msie|trident)/i.test(navigator.userAgent),this.trimLabel=Tt}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){var t=this.radius;this.explodeSlices&&(t=this.radius*this.value/this.max);var e=Object(wt.a)().innerRadius(t).outerRadius(t).centroid(this.data),n=this.data.pos[1]/e[1];0!==this.data.pos[1]&&0!==e[1]||(n=1),this.line="M"+e+"L"+[n*e[0],n*e[1]]+"L"+this.data.pos},Object.defineProperty(t.prototype,"textX",{get:function(){return this.data.pos[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textY",{get:function(){return this.data.pos[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styleTransform",{get:function(){return this.isIE?null:"translate3d("+this.textX+"px,"+this.textY+"px, 0)"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attrTransform",{get:function(){return this.isIE?"translate("+this.textX+","+this.textY+")":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textTransition",{get:function(){return this.isIE||!this.animations?null:"transform 0.75s"},enumerable:!0,configurable:!0}),t.prototype.textAnchor=function(){return this.midAngle(this.data)<Math.PI?"start":"end"},t.prototype.midAngle=function(t){return t.startAngle+(t.endAngle-t.startAngle)/2},t}(),Et=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Dt(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,1,"title",[],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,["",""])),(t()(),i["\u0275eld"](2,0,null,null,2,":svg:g",[],[[1,"transform",0],[4,"transform",null],[4,"transition",null]],null,null,null,null)),(t()(),i["\u0275eld"](3,0,null,null,1,":svg:text",[["class","pie-label"],["dy",".35em"]],[[2,"animation",null],[4,"textAnchor",null],[4,"shapeRendering",null]],null,null,null,null)),(t()(),i["\u0275ted"](4,null,[" "," "])),(t()(),i["\u0275eld"](5,0,null,null,0,":svg:path",[["class","pie-label-line line"],["fill","none"]],[[1,"d",0],[1,"stroke",0],[2,"animation",null]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,1,0,n.label),t(e,2,0,n.attrTransform,n.styleTransform,n.textTransition),t(e,3,0,n.animations,n.textAnchor(),"crispEdges"),t(e,4,0,n.labelTrim?n.trimLabel(n.label,n.labelTrimSize):n.label),t(e,5,0,n.line,n.color,n.animations)})}var It=function(){function t(){this.endOpacity=1,this.cx=0,this.cy=0}return Object.defineProperty(t.prototype,"stops",{get:function(){return this.stopsInput||this.stopsDefault},set:function(t){this.stopsInput=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.r="30%",("color"in t||"startOpacity"in t||"endOpacity"in t)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])},t}(),Ot=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Rt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,":svg:stop",[],[[1,"offset",0],[4,"stop-color",null],[4,"stop-opacity",null]],null,null,null,null))],null,function(t,e){t(e,0,0,e.context.$implicit.offset+"%",e.context.$implicit.color,e.context.$implicit.opacity)})}function Ft(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,2,":svg:radialGradient",[["gradientUnits","userSpaceOnUse"]],[[8,"id",0],[1,"cx",0],[1,"cy",0],[1,"r",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Rt)),i["\u0275did"](2,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.stops)},function(t,e){var n=e.component;t(e,0,0,n.name,n.cx,n.cy,n.r)})}var Pt=n("pD2Y"),kt=n("/TIM"),Nt={};function Vt(){var t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return Nt[t="a"+t]?Vt():(Nt[t]=!0,t)}var Gt=function(){function t(t){this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.dblclick=new i.EventEmitter,this.initialized=!1,this.element=t.nativeElement}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.getGradient=function(){return this.gradient?this.gradientFill:this.fill},t.prototype.getPointerEvents=function(){return this.pointerEvents?"auto":"none"},t.prototype.update=function(){var t=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+Vt().toString(),this.gradientFill="url(#"+this.radialGradientId+")",this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=t.startAngle(this.startAngle).endAngle(this.endAngle)()},t.prototype.calculateArc=function(){var t=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(t=this.outerRadius*this.value/this.max),Object(wt.a)().innerRadius(this.innerRadius).outerRadius(t).cornerRadius(this.cornerRadius)},t.prototype.loadAnimation=function(){var t=Object(kt.k)(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),e=this.calculateArc();t.transition().attrTween("d",function(t){this._current=this._current||t;var n=Object.assign({},t);n.endAngle=n.startAngle;var i=Object(Pt.a)(n,n);return this._current=i(0),function(t){return e(i(t))}}).transition().duration(750).attrTween("d",function(t){this._current=this._current||t;var n=Object(Pt.a)(this._current,t);return this._current=n(0),function(t){return e(n(t))}})},t.prototype.updateAnimation=function(){var t=Object(kt.k)(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),e=this.calculateArc();t.transition().duration(750).attrTween("d",function(t){this._current=this._current||t;var n=Object(Pt.a)(this._current,t);return this._current=n(0),function(t){return e(n(t))}})},t.prototype.onClick=function(){var t=this;clearTimeout(this._timeout),this._timeout=setTimeout(function(){return t.select.emit(t.data)},200)},t.prototype.onDblClick=function(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:t})},t}(),Mt=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Bt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,":svg:g",[["ngx-charts-svg-radial-gradient",""],["orientation","vertical"]],null,null,null,Ft,Ot)),i["\u0275did"](2,573440,null,0,It,[],{color:[0,"color"],name:[1,"name"],startOpacity:[2,"startOpacity"]},null)],function(t,e){var n=e.component;t(e,2,0,n.fill,n.radialGradientId,n.startOpacity)},null)}function Ht(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,3,":svg:g",[["class","arc-group"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Bt)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](3,0,null,null,0,":svg:path",[["class","arc"]],[[1,"d",0],[2,"active",null],[1,"fill",0],[4,"pointer-events",null]],[[null,"click"],[null,"dblclick"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.onClick()&&i),"dblclick"===e&&(i=!1!==a.onDblClick(n)&&i),"mouseenter"===e&&(i=!1!==a.activate.emit(a.data)&&i),"mouseleave"===e&&(i=!1!==a.deactivate.emit(a.data)&&i),i},null,null))],function(t,e){t(e,2,0,e.component.gradient)},function(t,e){var n=e.component;t(e,3,0,n.path,n.isActive,n.getGradient(),n.getPointerEvents())})}var Ut=n("vBe5"),jt=function(){function t(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.dblclick=new i.EventEmitter}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){var t=Object(wt.A)().value(function(t){return t.value}).sort(null)(this.series);this.max=Object(Ut.k)(t,function(t){return t.value}),this.data=this.calculateLabelPositions(t),this.tooltipText=this.tooltipText||this.defaultTooltipText},t.prototype.midAngle=function(t){return t.startAngle+(t.endAngle-t.startAngle)/2},t.prototype.outerArc=function(){return Object(wt.a)().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)},t.prototype.calculateLabelPositions=function(t){var e=this,n=t;n.forEach(function(t){t.pos=e.outerArc().centroid(t),t.pos[0]=1.5*e.outerRadius*(e.midAngle(t)<Math.PI?1:-1)});for(var i=0;i<n.length-1;i++){var a=n[i];if(this.labelVisible(a))for(var o=i+1;o<n.length;o++){var r=n[o];if(this.labelVisible(r)&&r.pos[0]*a.pos[0]>0){var l=10-Math.abs(r.pos[1]-a.pos[1]);l>0&&(r.pos[1]+=Math.sign(r.pos[0])*l)}}}return n},t.prototype.labelVisible=function(t){return this.showLabels&&t.endAngle-t.startAngle>Math.PI/30},t.prototype.getTooltipTitle=function(t){return this.tooltipTemplate?void 0:this.tooltipText(t)},t.prototype.labelText=function(t){return this.labelFormatting?this.labelFormatting(t.data.name):this.label(t)},t.prototype.label=function(t){return lt(t.data.name)},t.prototype.defaultTooltipText=function(t){return'\n      <span class="tooltip-label">'+this.label(t)+'</span>\n      <span class="tooltip-val">'+lt(t.data.value)+"</span>\n    "},t.prototype.color=function(t){return this.colors.getColor(this.label(t))},t.prototype.trackBy=function(t,e){return e.data.name},t.prototype.onClick=function(t){this.select.emit(t)},t.prototype.isActive=function(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(function(e){return t.name===e.name&&t.series===e.series})},t}(),zt=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Yt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[["ngx-charts-pie-label",""]],null,null,null,Dt,Et)),i["\u0275did"](1,573440,null,0,Lt,[],{data:[0,"data"],radius:[1,"radius"],label:[2,"label"],color:[3,"color"],max:[4,"max"],value:[5,"value"],explodeSlices:[6,"explodeSlices"],animations:[7,"animations"],labelTrim:[8,"labelTrim"],labelTrimSize:[9,"labelTrimSize"]},null)],function(t,e){var n=e.component;t(e,1,0,e.parent.context.$implicit,n.outerRadius,n.labelText(e.parent.context.$implicit),n.color(e.parent.context.$implicit),n.max,e.parent.context.$implicit.value,n.explodeSlices,n.animations,n.trimLabels,n.maxLabelLength)},null)}function Xt(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,":svg:g",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Yt)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](3,16777216,null,null,2,":svg:g",[["ngx-charts-pie-arc",""],["ngx-tooltip",""]],null,[[null,"select"],[null,"activate"],[null,"deactivate"],[null,"dblclick"],[null,"focusin"],[null,"blur"],[null,"mouseenter"],[null,"mouseleave"],[null,"click"]],function(t,e,n){var a=!0,o=t.component;return"focusin"===e&&(a=!1!==i["\u0275nov"](t,4).onFocus()&&a),"blur"===e&&(a=!1!==i["\u0275nov"](t,4).onBlur()&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,4).onMouseEnter()&&a),"mouseleave"===e&&(a=!1!==i["\u0275nov"](t,4).onMouseLeave(n.target)&&a),"click"===e&&(a=!1!==i["\u0275nov"](t,4).onMouseClick()&&a),"select"===e&&(a=!1!==o.onClick(n)&&a),"activate"===e&&(a=!1!==o.activate.emit(n)&&a),"deactivate"===e&&(a=!1!==o.deactivate.emit(n)&&a),"dblclick"===e&&(a=!1!==o.dblclick.emit(n)&&a),a},Ht,Mt)),i["\u0275did"](4,147456,null,0,vt,[ft,i.ViewContainerRef,i.Renderer2],{tooltipTitle:[0,"tooltipTitle"],tooltipDisabled:[1,"tooltipDisabled"],tooltipPlacement:[2,"tooltipPlacement"],tooltipType:[3,"tooltipType"],tooltipTemplate:[4,"tooltipTemplate"],tooltipContext:[5,"tooltipContext"]},null),i["\u0275did"](5,573440,null,0,Gt,[i.ElementRef],{fill:[0,"fill"],startAngle:[1,"startAngle"],endAngle:[2,"endAngle"],innerRadius:[3,"innerRadius"],outerRadius:[4,"outerRadius"],value:[5,"value"],max:[6,"max"],data:[7,"data"],explodeSlices:[8,"explodeSlices"],gradient:[9,"gradient"],animate:[10,"animate"],isActive:[11,"isActive"]},{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"})],function(t,e){var n=e.component;t(e,2,0,n.labelVisible(e.context.$implicit)),t(e,4,0,n.getTooltipTitle(e.context.$implicit),n.tooltipDisabled,"top","tooltip",n.tooltipTemplate,e.context.$implicit.data),t(e,5,1,[n.color(e.context.$implicit),e.context.$implicit.startAngle,e.context.$implicit.endAngle,n.innerRadius,n.outerRadius,e.context.$implicit.data.value,n.max,e.context.$implicit.data,n.explodeSlices,n.gradient,n.animations,n.isActive(e.context.$implicit.data)])},null)}function Wt(t){return i["\u0275vid"](2,[(t()(),i["\u0275and"](16777216,null,null,1,null,Xt)),i["\u0275did"](1,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){var n=e.component;t(e,1,0,n.data,n.trackBy)},null)}function qt(t){var e,n=t.margins,i=t.showXAxis,a=t.showYAxis,o=t.xAxisHeight,r=t.yAxisWidth,l=void 0===r?0:r,s=t.showXLabel,u=t.showYLabel,c=t.showLegend,d=t.legendType,h=t.legendPosition,p=t.columns,f=void 0===p?12:p,g=n[3],b=t.width,m=t.height-n[0]-n[2];return void 0!==c&&c&&"right"===(void 0===h?"right":h)&&(f-="ordinal"===(void 0===d?"ordinal":d)?2:1),b=(b=b*f/12)-n[1]-n[3],void 0!==i&&i&&(m-=5,m-=void 0===o?0:o,void 0!==s&&s&&(m-=e=30)),void 0!==a&&a&&(b-=5,b-=l,g+=l,g+=10,void 0!==u&&u&&(b-=e=30,g+=e)),{width:~~(b=Math.max(0,b)),height:~~(m=Math.max(0,m)),xOffset:~~g}}var $t=n("2UC5"),Qt=Array.prototype,Kt=Qt.map,Zt=Qt.slice,Jt={name:"implicit"};function te(t){var e=Object($t.c)(),n=[],i=Jt;function a(a){var o=a+"",r=e.get(o);if(!r){if(i!==Jt)return i;e.set(o,r=n.push(a))}return t[(r-1)%t.length]}return t=null==t?[]:Zt.call(t),a.domain=function(t){if(!arguments.length)return n.slice();n=[],e=Object($t.c)();for(var i,o,r=-1,l=t.length;++r<l;)e.has(o=(i=t[r])+"")||e.set(o,n.push(i));return a},a.range=function(e){return arguments.length?(t=Zt.call(e),a):t.slice()},a.unknown=function(t){return arguments.length?(i=t,a):i},a.copy=function(){return te().domain(n).range(t).unknown(i)},a}function ee(){var t,e,n=te().unknown(void 0),i=n.domain,a=n.range,o=[0,1],r=!1,l=0,s=0,u=.5;function c(){var n=i().length,c=o[1]<o[0],d=o[c-0],h=o[1-c];t=(h-d)/Math.max(1,n-l+2*s),r&&(t=Math.floor(t)),d+=(h-d-t*(n-l))*u,e=t*(1-l),r&&(d=Math.round(d),e=Math.round(e));var p=Object(Ut.s)(n).map(function(e){return d+t*e});return a(c?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),c()):i()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],c()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],r=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(r=!!t,c()):r},n.padding=function(t){return arguments.length?(l=s=Math.max(0,Math.min(1,t)),c()):l},n.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},n.paddingOuter=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),c()):s},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u},n.copy=function(){return ee().domain(i()).range(o).round(r).paddingInner(l).paddingOuter(s).align(u)},c()}var ne=function(t){return function(){return t}},ie=function(t){return+t},ae=[0,1];function oe(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ne(e)}function re(t,e,n,i){var a=t[0],o=t[1],r=e[0],l=e[1];return o<a?(a=n(o,a),r=i(l,r)):(a=n(a,o),r=i(r,l)),function(t){return r(a(t))}}function le(t,e,n,i){var a=Math.min(t.length,e.length)-1,o=new Array(a),r=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<a;)o[l]=n(t[l],t[l+1]),r[l]=i(e[l],e[l+1]);return function(e){var n=Object(Ut.b)(t,e,1,a)-1;return r[n](o[n](e))}}var se=n("rWgG"),ue=function(t,e,n){var i,a=t[0],o=t[t.length-1],r=Object(Ut.A)(a,o,null==e?10:e);switch((n=Object(se.f)(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(a),Math.abs(o));return null!=n.precision||isNaN(i=Object(se.h)(r,l))||(n.precision=i),Object(se.e)(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Object(se.i)(r,Math.max(Math.abs(a),Math.abs(o))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=Object(se.g)(r))||(n.precision=i-2*("%"===n.type))}return Object(se.b)(n)};function ce(){var t=function(t,e){var n,i,a,o=ae,r=ae,l=Pt.a,s=!1;function u(){return n=Math.min(o.length,r.length)>2?le:re,i=a=null,c}function c(e){return(i||(i=n(o,r,s?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}(t):t,l)))(+e)}return c.invert=function(t){return(a||(a=n(r,o,oe,s?function(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}(e):e)))(+t)},c.domain=function(t){return arguments.length?(o=Kt.call(t,ie),u()):o.slice()},c.range=function(t){return arguments.length?(r=Zt.call(t),u()):r.slice()},c.rangeRound=function(t){return r=Zt.call(t),l=Pt.t,u()},c.clamp=function(t){return arguments.length?(s=!!t,u()):s},c.interpolate=function(t){return arguments.length?(l=t,u()):l},u()}(oe,Pt.o);return t.copy=function(){return e=t,ce().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp());var e},function(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(Ut.B)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return ue(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,a=e(),o=0,r=a.length-1,l=a[o],s=a[r];return s<l&&(i=l,l=s,s=i,i=o,o=r,r=i),(i=Object(Ut.z)(l,s,n))>0?(l=Math.floor(l/i)*i,s=Math.ceil(s/i)*i,i=Object(Ut.z)(l,s,n)):i<0&&(l=Math.ceil(l*i)/i,s=Math.floor(s*i)/i,i=Object(Ut.z)(l,s,n)),i>0?(a[o]=Math.floor(l/i)*i,a[r]=Math.ceil(s/i)*i,e(a)):i<0&&(a[o]=Math.ceil(l*i)/i,a[r]=Math.floor(s*i)/i,e(a)),t},t}(t)}n("8FRN"),n("cOGN");var de=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},he=(de("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),de("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),de("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),de("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),n("SC+/"));function pe(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}Object(Pt.f)(Object(he.b)(300,.5,0),Object(he.b)(-240,.5,1)),Object(Pt.f)(Object(he.b)(-100,.75,.35),Object(he.b)(80,1.5,.8)),Object(Pt.f)(Object(he.b)(260,.75,.35),Object(he.b)(80,1.5,.8)),Object(he.b)(),pe(de("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),pe(de("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),pe(de("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),pe(de("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var fe=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],ge=function(){function t(t,e,n,i){"string"==typeof t&&(t=fe.find(function(e){return e.name===t})),this.colorDomain=t.domain,this.scaleType=e,this.domain=n,this.customColors=i,this.scale=this.generateColorScheme(t,e,this.domain)}return t.prototype.generateColorScheme=function(t,e,n){var i;if("string"==typeof t&&(t=fe.find(function(e){return e.name===t})),"quantile"===e)i=function t(){var e=[],n=[],i=[];function a(){var t=0,a=Math.max(1,n.length);for(i=new Array(a-1);++t<a;)i[t-1]=Object(Ut.r)(e,t/a);return o}function o(t){if(!isNaN(t=+t))return n[Object(Ut.b)(i,t)]}return o.invertExtent=function(t){var a=n.indexOf(t);return a<0?[NaN,NaN]:[a>0?i[a-1]:e[0],a<i.length?i[a]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,o=t.length;i<o;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(Ut.a),a()},o.range=function(t){return arguments.length?(n=Zt.call(t),a()):n.slice()},o.quantiles=function(){return i.slice()},o.copy=function(){return t().domain(e).range(n)},o}().range(t.domain).domain(n);else if("ordinal"===e)i=te().range(t.domain).domain(n);else if("linear"===e){var a=t.domain.slice();1===a.length&&(a.push(a[0]),this.colorDomain=a);var o=Object(Ut.s)(0,1,1/a.length);i=ce().domain(o).range(a)}return i},t.prototype.getColor=function(t){if("linear"===this.scaleType){var e=ce().domain(this.domain).range([0,1]);return this.scale(e(t))}if("function"==typeof this.customColors)return this.customColors(t);var n=t.toString(),i=void 0;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(function(t){return t.name.toLowerCase()===n.toLowerCase()})),i?i.value:this.scale(t)},t.prototype.getLinearGradientStops=function(t,e){void 0===e&&(e=this.domain[0]);var n=ce().domain(this.domain).range([0,1]),i=ee().domain(this.colorDomain).range([0,1]),a=this.getColor(t),o=n(e),r=this.getColor(e),l=n(t),s=1,u=o,c=[];for(c.push({color:r,offset:o,originalOffset:o,opacity:1});u<l&&s<this.colorDomain.length;){var d=this.colorDomain[s],h=i(d);if(h<=o)s++;else{if(h.toFixed(4)>=(l-i.bandwidth()).toFixed(4))break;c.push({color:d,offset:h,opacity:1}),u=h,s++}}if(c[c.length-1].offset<100&&c.push({color:a,offset:l,opacity:1}),l===o)c[0].offset=0,c[1].offset=100;else if(100!==c[c.length-1].offset)for(var p=0,f=c;p<f.length;p++){var g=f[p];g.offset=(g.offset-o)/(l-o)*100}return c},t}(),be=n("bne5"),me=n("Gi3i"),ve=function(){function t(t,e){this.element=t,this.zone=e,this.visible=new i.EventEmitter,this.isVisible=!1,this.runCheck()}return t.prototype.destroy=function(){clearTimeout(this.timeout)},t.prototype.onVisibilityChange=function(){var t=this;this.zone.run(function(){t.isVisible=!0,t.visible.emit(!0)})},t.prototype.runCheck=function(){var t=this,e=function(){if(t.element){var n=t.element.nativeElement;n.offsetHeight&&n.offsetWidth?(clearTimeout(t.timeout),t.onVisibilityChange()):(clearTimeout(t.timeout),t.zone.runOutsideAngular(function(){t.timeout=setTimeout(function(){return e()},100)}))}};this.zone.runOutsideAngular(function(){t.timeout=setTimeout(function(){return e()})})},t}(),xe=function(){function t(t,e,n){this.chartElement=t,this.zone=e,this.cd=n,this.scheme="cool",this.schemeType="ordinal",this.animations=!0,this.select=new i.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.bindWindowResizeEvent(),this.visibilityObserver=new ve(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))},t.prototype.ngOnDestroy=function(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())},t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{var t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=~~this.width,this.height=~~this.height,this.cd&&this.cd.markForCheck()},t.prototype.getContainerDims=function(){var t,e,n=this.chartElement.nativeElement;if(null!==n.parentNode){var i=n.parentNode.getBoundingClientRect();t=i.width,e=i.height}return t&&e?{width:t,height:e}:null},t.prototype.formatDates=function(){for(var t=0;t<this.results.length;t++){var e=this.results[t];if(e.name instanceof Date&&(e.name=e.name.toLocaleDateString()),e.series)for(var n=0;n<e.series.length;n++){var i=e.series[n];i.name instanceof Date&&(i.name=i.name.toLocaleDateString())}}},t.prototype.unbindEvents=function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()},t.prototype.bindWindowResizeEvent=function(){var t=this,e=Object(be.a)(window,"resize").pipe(Object(me.a)(200)).subscribe(function(e){t.update(),t.cd&&t.cd.markForCheck()});this.resizeSubscription=e},t.prototype.cloneData=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var a=i[n],o={name:a.name};if(void 0!==a.value&&(o.value=a.value),void 0!==a.series){o.series=[];for(var r=0,l=a.series;r<l.length;r++){var s=Object.assign({},l[r]);o.series.push(s)}}void 0!==a.extra&&(o.extra=JSON.parse(JSON.stringify(a.extra))),e.push(o)}return e},t}(),_e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labels=!1,e.legend=!1,e.legendTitle="Legend",e.legendPosition="right",e.explodeSlices=!1,e.doughnut=!1,e.arcWidth=.25,e.activeEntries=[],e.tooltipDisabled=!1,e.trimLabels=!0,e.maxLabelLength=10,e.dblclick=new i.EventEmitter,e.select=new i.EventEmitter,e.activate=new i.EventEmitter,e.deactivate=new i.EventEmitter,e.margin=[20,20,20,20],e}return Object(_.__extends)(e,t),e.prototype.update=function(){var e=this;t.prototype.update.call(this),this.labels&&(this.margin=[30,80,30,80]),this.dims=qt({width:this.width,height:this.height,margins:this.margin,showLegend:this.legend,legendPosition:this.legendPosition}),this.translation="translate("+(this.margin[3]+this.dims.width/2)+", "+(this.margin[0]+this.dims.height/2)+")",this.outerRadius=Math.min(this.dims.width,this.dims.height),this.outerRadius/=this.labels?3:2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort(function(t,n){return e.domain.indexOf(t.name)-e.domain.indexOf(n.name)}),this.setColors(),this.legendOptions=this.getLegendOptions()},e.prototype.getDomain=function(){var t=[];return this.results.map(function(e){var n=e.name;n="Date"===n.constructor.name?n.toLocaleDateString():n.toLocaleString(),-1===t.indexOf(n)&&t.push(n)}),t},e.prototype.onClick=function(t){this.select.emit(t)},e.prototype.setColors=function(){this.colors=new ge(this.scheme,"ordinal",this.domain,this.customColors)},e.prototype.getLegendOptions=function(){return{scaleType:"ordinal",domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}},e.prototype.onActivate=function(t){this.activeEntries.findIndex(function(e){return e.name===t.name&&e.value===t.value})>-1||(this.activeEntries=[t].concat(this.activeEntries),this.activate.emit({value:t,entries:this.activeEntries}))},e.prototype.onDeactivate=function(t){var e=this.activeEntries.findIndex(function(e){return e.name===t.name&&e.value===t.value});this.activeEntries.splice(e,1),this.activeEntries=this.activeEntries.slice(),this.deactivate.emit({value:t,entries:this.activeEntries})},e}(xe),ye=i["\u0275crt"]({encapsulation:2,styles:[J,[".pie-label{font-size:11px}.pie-label.animation{-webkit-animation:750ms ease-in fadeIn;animation:750ms ease-in fadeIn}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{-webkit-animation:3s linear drawOut;animation:3s linear drawOut;transition:d 750ms}@-webkit-keyframes drawOut{from{stroke-dashoffset:100%}to{stroke-dashoffset:0}}@keyframes drawOut{from{stroke-dashoffset:100%}to{stroke-dashoffset:0}}"]],data:{}});function Se(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,16777216,null,null,6,"ngx-charts-chart",[],null,[[null,"legendLabelActivate"],[null,"legendLabelDeactivate"],[null,"legendLabelClick"]],function(t,e,n){var i=!0,a=t.component;return"legendLabelActivate"===e&&(i=!1!==a.onActivate(n)&&i),"legendLabelDeactivate"===e&&(i=!1!==a.onDeactivate(n)&&i),"legendLabelClick"===e&&(i=!1!==a.onClick(n)&&i),i},At,yt)),i["\u0275prd"](512,null,ft,ft,[pt]),i["\u0275did"](2,573440,null,0,_t,[i.ViewContainerRef,ft],{view:[0,"view"],showLegend:[1,"showLegend"],legendOptions:[2,"legendOptions"],activeEntries:[3,"activeEntries"],animations:[4,"animations"]},{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"}),i["\u0275pad"](3,2),(t()(),i["\u0275eld"](4,0,null,0,2,":svg:g",[["class","pie-chart chart"]],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,1,":svg:g",[["ngx-charts-pie-series",""]],null,[[null,"dblclick"],[null,"select"],[null,"activate"],[null,"deactivate"]],function(t,e,n){var i=!0,a=t.component;return"dblclick"===e&&(i=!1!==a.dblclick.emit(n)&&i),"select"===e&&(i=!1!==a.onClick(n)&&i),"activate"===e&&(i=!1!==a.onActivate(n)&&i),"deactivate"===e&&(i=!1!==a.onDeactivate(n)&&i),i},Wt,zt)),i["\u0275did"](6,573440,null,0,jt,[],{colors:[0,"colors"],series:[1,"series"],innerRadius:[2,"innerRadius"],outerRadius:[3,"outerRadius"],explodeSlices:[4,"explodeSlices"],showLabels:[5,"showLabels"],gradient:[6,"gradient"],activeEntries:[7,"activeEntries"],labelFormatting:[8,"labelFormatting"],trimLabels:[9,"trimLabels"],maxLabelLength:[10,"maxLabelLength"],tooltipText:[11,"tooltipText"],tooltipDisabled:[12,"tooltipDisabled"],tooltipTemplate:[13,"tooltipTemplate"],animations:[14,"animations"]},{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"})],function(t,e){var n=e.component,i=t(e,3,0,n.width,n.height);t(e,2,0,i,n.legend,n.legendOptions,n.activeEntries,n.animations),t(e,6,1,[n.colors,n.data,n.innerRadius,n.outerRadius,n.explodeSlices,n.labels,n.gradient,n.activeEntries,n.labelFormatting,n.trimLabels,n.maxLabelLength,n.tooltipText,n.tooltipDisabled,n.tooltipTemplate,n.animations])},function(t,e){t(e,4,0,e.component.translation)})}var Ce=n("NvT6"),Ae=n("Blfk"),we=n("nvx9"),Te=n("t6It"),Le=n("2iYl"),Ee=n("A+lM"),De=n("LvDl"),Ie=function(){return function(t){void 0===t&&(t=null),this.name=De.get(t,"name",""),this.value=De.get(t,"value",0),this.extra=De.get(t,"extra","")}}(),Oe=n("Bc3S"),Re=n("UVam"),Fe=n("FFOo"),Pe=n("7wwK"),ke=n("Ok0U"),Ne=n("qoQu"),Ve=n("sXNB"),Ge=function(){function t(t,e,n,i,a,o){var r=this;this.outbreakDataService=t,this.referenceDataDataService=e,this.caseDataService=n,this.i18nService=i,this.router=a,this.authDataService=o,this.caseSummaryResults=[],this.customColors=[],this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){r.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.authUser=this.authDataService.getAuthenticatedUser(),this.displayLoading=!0,this.caseClassificationSubscriber=this.referenceDataDataService.getReferenceDataByCategory(Te.a.CASE_CLASSIFICATION).subscribe(function(e){t.setCustomColors(e)}),this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.caseClassificationSubscriber&&(this.caseClassificationSubscriber.unsubscribe(),this.caseClassificationSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.buildChartData=function(t){var e=this;return De.transform(t,function(t,n,i){i!==ke.b.CASE_CLASSIFICATION.NOT_A_CASE&&t.push(new Ie({name:e.i18nService.instant(i),value:n.count,extra:i}))},[])},t.prototype.onDoughnutPress=function(t){if(Ne.a.canList(this.authUser)){var e={};De.isEmpty(this.globalFilterDate)||(e.date=this.globalFilterDate),De.isEmpty(this.globalFilterLocationId)||(e.locationId=this.globalFilterLocationId),this.router.navigate(["cases"],{queryParams:{global:JSON.stringify(e),applyListFilter:ke.b.APPLY_LIST_FILTER.CASE_SUMMARY,x:t.extra}})}},t.prototype.setCustomColors=function(t){var e=this,n=[];De.isEmpty(t)||De.forEach(t.entries,function(t){var i=new Ie;i.name=e.i18nService.instant(t.value),i.value=t.colorCode,n.push(i)}),this.customColors=n},t.prototype.refreshData=function(){var t=this;if(this.outbreakId){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;this.globalFilterDate&&e.filter.byDateRange("dateOfOnset",{endDate:this.globalFilterDate.endOf("day").format()}),this.globalFilterLocationId&&e.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesGroupedByClassification(this.outbreakId,e).subscribe(function(e){t.caseSummaryResults=t.buildChartData(e.classification),t.displayLoading=!1})}},t}(),Me=n("ZYCi"),Be=i["\u0275crt"]({encapsulation:2,styles:[["app-case-summary-dashlet .pie-label{font-size:12px}app-case-summary-dashlet .dashlet-loading,app-case-summary-dashlet .dashlet-no-data{height:250px}app-case-summary-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:absolute;top:calc(50% - 16px)}app-case-summary-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function He(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,5,"ngx-charts-pie-chart",[],null,[[null,"select"]],function(t,e,n){var i=!0;return"select"===e&&(i=!1!==t.component.onDoughnutPress(n)&&i),i},Se,ye)),i["\u0275did"](2,4898816,null,1,_e,[i.ElementRef,i.NgZone,i.ChangeDetectorRef],{results:[0,"results"],view:[1,"view"],scheme:[2,"scheme"],customColors:[3,"customColors"],labels:[4,"labels"],legend:[5,"legend"],doughnut:[6,"doughnut"],trimLabels:[7,"trimLabels"]},{select:"select"}),i["\u0275qud"](335544320,1,{tooltipTemplate:0}),i["\u0275pad"](4,2),i["\u0275pad"](5,1),i["\u0275pod"](6,{domain:0})],function(t,e){var n=e.component,i=n.caseSummaryResults,a=t(e,4,0,315,250),o=t(e,6,0,t(e,5,0,"#4DB0A0"));t(e,2,0,i,a,o,n.customColors,!0,!1,!0,!1)},null)}function Ue(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_CASE_SUMMARY_NO_DATA_LABEL")))})}function je(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function ze(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,He)),i["\u0275did"](1,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ue)),i["\u0275did"](3,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,je)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.caseSummaryResults?null:n.caseSummaryResults.length)>0),t(e,3,0,!n.displayLoading&&(null==n.caseSummaryResults?null:n.caseSummaryResults.length)<1),t(e,5,0,n.displayLoading)},null)}var Ye=function(){function t(t,e,n,i){var a=this;this.outbreakDataService=t,this.caseDataService=e,this.router=n,this.authDataService=i,this.casesLocationResults=[],this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){a.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.authUser=this.authDataService.getAuthenticatedUser(),this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.buildChartData=function(t){var e=[];return De.forEach(t,function(t){if(t.casesCount>0){var n=new Ie;n.name=t.location.name,n.value=t.casesCount,n.extra=t.location.id,e.push(n)}}),e},t.prototype.onDoughnutPress=function(t){if(Ne.a.canList(this.authUser)){var e={};De.isEmpty(this.globalFilterDate)||(e.date=this.globalFilterDate),De.isEmpty(this.globalFilterLocationId)||(e.locationId=this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||(e.classificationId=this.globalFilterClassificationId),this.router.navigate(["cases"],{queryParams:{global:JSON.stringify(e),applyListFilter:ke.b.APPLY_LIST_FILTER.CASES_BY_LOCATION,locationId:t.extra}})}},t.prototype.refreshData=function(){var t=this;if(this.outbreakId){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;this.globalFilterDate&&e.filter.byDateRange("dateOfOnset",{endDate:this.globalFilterDate.endOf("day").format()}),this.globalFilterLocationId&&e.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesPerLocation(this.outbreakId,e).subscribe(function(e){t.casesLocationResults=t.buildChartData(e.locations),t.displayLoading=!1})}},t}(),Xe=i["\u0275crt"]({encapsulation:2,styles:[["app-case-by-geographic-location-dashlet .pie-label{font-size:12px}app-case-by-geographic-location-dashlet .dashlet-loading,app-case-by-geographic-location-dashlet .dashlet-no-data{height:250px}app-case-by-geographic-location-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:absolute;top:calc(50% - 16px)}app-case-by-geographic-location-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function We(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,3,"ngx-charts-pie-chart",[],null,[[null,"select"]],function(t,e,n){var i=!0;return"select"===e&&(i=!1!==t.component.onDoughnutPress(n)&&i),i},Se,ye)),i["\u0275did"](2,4898816,null,1,_e,[i.ElementRef,i.NgZone,i.ChangeDetectorRef],{results:[0,"results"],view:[1,"view"],labels:[2,"labels"],legend:[3,"legend"],doughnut:[4,"doughnut"],trimLabels:[5,"trimLabels"]},{select:"select"}),i["\u0275qud"](335544320,1,{tooltipTemplate:0}),i["\u0275pad"](4,2)],function(t,e){var n=e.component.casesLocationResults,i=t(e,4,0,315,250);t(e,2,0,n,i,!0,!1,!0,!1)},null)}function qe(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_CASES_BY_GEOGRAPHIC_LOCATION_NO_DATA_LABEL")))})}function $e(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function Qe(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,We)),i["\u0275did"](1,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,qe)),i["\u0275did"](3,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,$e)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.casesLocationResults?null:n.casesLocationResults.length)>0),t(e,3,0,!n.displayLoading&&(null==n.casesLocationResults?null:n.casesLocationResults.length)<1),t(e,5,0,n.displayLoading)},null)}var Ke=n("VNr4"),Ze=n("XlPw"),Je=n("QD4U"),tn=n("9Z1F"),en=function(){function t(t,e,n,i,a,o){var r=this;this.outbreakDataService=t,this.caseDataService=e,this.i18nService=n,this.snackbarService=i,this.router=a,this.authDataService=o,this.caseHospitalizationSummaryResults=[],this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){r.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.authUser=this.authDataService.getAuthenticatedUser(),this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.onDoughnutPress=function(t){if(Ne.a.canList(this.authUser)){var e={};De.isEmpty(this.globalFilterDate)||(e.date=this.globalFilterDate),De.isEmpty(this.globalFilterLocationId)||(e.locationId=this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||(e.classificationId=this.globalFilterClassificationId),this.router.navigate(["cases"],{queryParams:{global:JSON.stringify(e),applyListFilter:t.extra}})}},t.prototype.buildChartData=function(t,e,n){var i=[];return 0===t&&0===e&&0===n?i:(i.push(new Ie({value:t,name:this.i18nService.instant("LNG_PAGE_DASHBOARD_CASE_HOSPITALIZATION_CASES_HOSPITALIZED_LABEL"),extra:ke.b.APPLY_LIST_FILTER.CASES_HOSPITALISED})),i.push(new Ie({value:e,name:this.i18nService.instant("LNG_PAGE_DASHBOARD_CASE_HOSPITALIZATION_CASES_ISOLATED_LABEL"),extra:ke.b.APPLY_LIST_FILTER.CASES_ISOLATED})),i.push(new Ie({value:n,name:this.i18nService.instant("LNG_PAGE_DASHBOARD_CASE_HOSPITALIZATION_CASES_NOT_HOSPITALIZED_LABEL"),extra:ke.b.APPLY_LIST_FILTER.CASES_NOT_HOSPITALISED})),i)},t.prototype.refreshData=function(){var t=this;if(this.outbreakId){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;this.globalFilterDate&&e.filter.byDateRange("dateOfOnset",{endDate:this.globalFilterDate.endOf("day").format()}),this.globalFilterLocationId&&e.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.displayLoading=!0,this.previousSubscriber=Object(Ke.a)(this.caseDataService.getHospitalisedCasesCount(this.outbreakId,this.globalFilterDate,e),this.caseDataService.getIsolatedCasesCount(this.outbreakId,this.globalFilterDate,e),this.caseDataService.getNotHospitalisedCasesCount(this.outbreakId,this.globalFilterDate,e)).pipe(Object(tn.a)(function(e){return t.snackbarService.showError(e.message),Object(Ze.a)(e)})).subscribe(function(e){t.caseHospitalizationSummaryResults=t.buildChartData(e[0].count,e[1].count,e[2].count),t.displayLoading=!1})}},t}(),nn=i["\u0275crt"]({encapsulation:2,styles:[["app-cases-hospitalized-pie-chart-dashlet .pie-label{font-size:12px}app-cases-hospitalized-pie-chart-dashlet .dashlet-loading,app-cases-hospitalized-pie-chart-dashlet .dashlet-no-data{height:250px}app-cases-hospitalized-pie-chart-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:absolute;top:calc(50% - 16px)}app-cases-hospitalized-pie-chart-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function an(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,5,"ngx-charts-pie-chart",[],null,[[null,"select"]],function(t,e,n){var i=!0;return"select"===e&&(i=!1!==t.component.onDoughnutPress(n)&&i),i},Se,ye)),i["\u0275did"](2,4898816,null,1,_e,[i.ElementRef,i.NgZone,i.ChangeDetectorRef],{results:[0,"results"],view:[1,"view"],scheme:[2,"scheme"],labels:[3,"labels"],legend:[4,"legend"],doughnut:[5,"doughnut"],trimLabels:[6,"trimLabels"]},{select:"select"}),i["\u0275qud"](335544320,1,{tooltipTemplate:0}),i["\u0275pad"](4,2),i["\u0275pad"](5,3),i["\u0275pod"](6,{domain:0})],function(t,e){var n=e.component.caseHospitalizationSummaryResults,i=t(e,4,0,315,250),a=t(e,6,0,t(e,5,0,"#4DB0A0","#1DF0A0","#00FFE0"));t(e,2,0,n,i,a,!0,!1,!0,!1)},null)}function on(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_HOSPITALIZATION_SUMMARY_NO_DATA_LABEL")))})}function rn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function ln(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,an)),i["\u0275did"](1,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,on)),i["\u0275did"](3,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,rn)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.caseHospitalizationSummaryResults?null:n.caseHospitalizationSummaryResults.length)>0),t(e,3,0,!n.displayLoading&&(null==n.caseHospitalizationSummaryResults?null:n.caseHospitalizationSummaryResults.length)<1),t(e,5,0,n.displayLoading)},null)}var sn=n("jlZm"),un=n("YhbO"),cn=n("4c35"),dn=n("YlbQ"),hn=i["\u0275crt"]({encapsulation:2,styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(.4,0,.2,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (-ms-high-contrast:active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel._mat-animation-noopable,.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"bodyExpansion",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"0px",visibility:"hidden"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{height:"*",visibility:"visible"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}});function pn(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](0,null,null,0))],null,null)}function fn(t){return i["\u0275vid"](2,[i["\u0275qud"](402653184,1,{_body:0}),i["\u0275ncd"](null,0),(t()(),i["\u0275eld"](2,0,[[1,0],["body",1]],null,5,"div",[["class","mat-expansion-panel-content"],["role","region"]],[[24,"@bodyExpansion",0],[1,"aria-labelledby",0],[8,"id",0]],[[null,"@bodyExpansion.done"]],function(t,e,n){var i=!0;return"@bodyExpansion.done"===e&&(i=!1!==t.component._bodyAnimationDone.next(n)&&i),i},null,null)),(t()(),i["\u0275eld"](3,0,null,null,3,"div",[["class","mat-expansion-panel-body"]],null,null,null,null,null)),i["\u0275ncd"](null,1),(t()(),i["\u0275and"](16777216,null,null,1,null,pn)),i["\u0275did"](6,212992,null,0,cn.c,[i.ComponentFactoryResolver,i.ViewContainerRef],{portal:[0,"portal"]},null),i["\u0275ncd"](null,2)],function(t,e){t(e,6,0,e.component._portal)},function(t,e){var n=e.component;t(e,2,0,n._getExpandedState(),n._headerId,n.id)})}var gn=i["\u0275crt"]({encapsulation:2,styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],data:{animation:[{type:7,name:"indicatorRotate",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{transform:"rotate(0deg)"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{transform:"rotate(180deg)"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}},{type:7,name:"expansionHeight",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"{{collapsedHeight}}"},offset:null},options:{params:{collapsedHeight:"48px"}}},{type:0,name:"expanded",styles:{type:6,styles:{height:"{{expandedHeight}}"},offset:null},options:{params:{expandedHeight:"64px"}}},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:3,steps:[{type:11,selector:"@indicatorRotate",animation:{type:9,options:null},options:{optional:!0}},{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"}],options:null},options:null}],options:{}}]}});function bn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"span",[["class","mat-expansion-indicator"]],[[24,"@indicatorRotate",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component._getExpandedState())})}function mn(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[["class","mat-content"]],null,null,null,null,null)),i["\u0275ncd"](null,0),i["\u0275ncd"](null,1),i["\u0275ncd"](null,2),(t()(),i["\u0275and"](16777216,null,null,1,null,bn)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,5,0,e.component._showToggle())},null)}function vn(t,e){if(t.length>e){for(var n=[],i=Math.floor(t.length/e),a=0;a<t.length;a++)a%i==0&&n.push(t[a]);t=n}return t}var xn=function(){function t(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.dimensionsChanged=new i.EventEmitter,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor="middle",this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){return t.updateDims()})},t.prototype.updateDims=function(){var t=this,e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:e}),setTimeout(function(){return t.updateDims()}))},t.prototype.update=function(){var t=this,e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(t){return"Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString()};var n=this.getRotationAngle(this.ticks);this.adjustedScale=this.scale.bandwidth?function(t){return this.scale(t)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",0!==n?(this.textTransform="rotate("+n+")",this.textAnchor="end",this.verticalSpacing=10):this.textAnchor="middle",setTimeout(function(){return t.updateDims()})},t.prototype.getRotationAngle=function(t){var e=0;this.maxTicksLength=0;for(var n=0;n<t.length;n++){var i=this.tickFormat(t[n]).toString(),a=i.length;this.trimTicks&&(a=this.tickTrim(i).length),a>this.maxTicksLength&&(this.maxTicksLength=a)}for(var o=8*Math.min(this.maxTicksLength,this.maxAllowedLength),r=o,l=Math.floor(this.width/t.length);r>l&&e>-90;)e-=30,r=Math.cos(e*(Math.PI/180))*o;return e},t.prototype.getTicks=function(){var t=this.getMaxTicks(20),e=this.getMaxTicks(100);return this.tickValues?this.tickValues:this.scale.ticks?this.scale.ticks.apply(this.scale,[e]):vn(this.scale.domain(),t)},t.prototype.getMaxTicks=function(t){return Math.floor(this.width/t)},t.prototype.tickTransform=function(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"},t.prototype.gridLineTransform=function(){return"translate(0,"+(-this.verticalSpacing-5)+")"},t.prototype.tickTrim=function(t){return this.trimTicks?Tt(t,this.maxTickLength):t},t}(),_n=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function yn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,":svg:g",[["class","tick"]],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,":svg:title",[],null,null,null,null,null)),(t()(),i["\u0275ted"](2,null,["",""])),(t()(),i["\u0275eld"](3,0,null,null,1,":svg:text",[["stroke-width","0.01"]],[[1,"text-anchor",0],[1,"transform",0],[4,"font-size",null]],null,null,null,null)),(t()(),i["\u0275ted"](4,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.tickTransform(e.context.$implicit)),t(e,2,0,n.tickFormat(e.context.$implicit)),t(e,3,0,n.textAnchor,n.textTransform,"12px"),t(e,4,0,n.tickTrim(n.tickFormat(e.context.$implicit)))})}function Sn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,":svg:line",[["class","gridline-path gridline-path-vertical"],["y2","0"]],[[1,"y1",0]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n.gridLineTransform()),t(e,1,0,0-n.gridLineHeight)})}function Cn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,":svg:g",[],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Sn)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.showGridLines)},function(t,e){t(e,0,0,e.component.tickTransform(e.context.$implicit))})}function An(t){return i["\u0275vid"](2,[i["\u0275qud"](402653184,1,{ticksElement:0}),(t()(),i["\u0275eld"](1,0,[[1,0],["ticksel",1]],null,2,":svg:g",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,yn)),i["\u0275did"](3,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Cn)),i["\u0275did"](5,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.ticks),t(e,5,0,n.ticks)},null)}var wn=function(){function t(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case"top":case"bottom":this.y=this.offset,this.x=this.width/2;break;case"left":this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case"right":this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}},t}(),Tn=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Ln(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:text",[],[[1,"stroke-width",0],[1,"x",0],[1,"y",0],[1,"text-anchor",0],[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275ted"](1,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.strokeWidth,n.x,n.y,n.textAnchor,n.transform),t(e,1,0,n.label)})}var En=function(){function t(){this.showGridLines=!1,this.xOrient="bottom",this.xAxisOffset=0,this.dimensionsChanged=new i.EventEmitter,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){this.transform="translate(0,"+(this.xAxisOffset+this.padding+this.dims.height)+")",void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])},t.prototype.emitTicksHeight=function(t){var e=this,n=t.height,i=n+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(function(){e.dimensionsChanged.emit({height:n})},0))},t}(),Dn=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function In(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[["ngx-charts-x-axis-ticks",""]],null,[[null,"dimensionsChanged"]],function(t,e,n){var i=!0;return"dimensionsChanged"===e&&(i=!1!==t.component.emitTicksHeight(n)&&i),i},An,_n)),i["\u0275did"](1,4767744,[[1,4]],0,xn,[],{scale:[0,"scale"],orient:[1,"orient"],tickArguments:[2,"tickArguments"],tickValues:[3,"tickValues"],tickStroke:[4,"tickStroke"],trimTicks:[5,"trimTicks"],maxTickLength:[6,"maxTickLength"],tickFormatting:[7,"tickFormatting"],showGridLines:[8,"showGridLines"],gridLineHeight:[9,"gridLineHeight"],width:[10,"width"]},{dimensionsChanged:"dimensionsChanged"})],function(t,e){var n=e.component;t(e,1,1,[n.xScale,n.xOrient,n.tickArguments,n.ticks,n.tickStroke,n.trimTicks,n.maxTickLength,n.tickFormatting,n.showGridLines,n.dims.height,n.dims.width])},null)}function On(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[["ngx-charts-axis-label",""]],null,null,null,Ln,Tn)),i["\u0275did"](1,573440,null,0,wn,[i.ElementRef],{orient:[0,"orient"],label:[1,"label"],offset:[2,"offset"],width:[3,"width"],height:[4,"height"]},null)],function(t,e){var n=e.component;t(e,1,0,"bottom",n.labelText,n.labelOffset,n.dims.width,n.dims.height)},null)}function Rn(t){return i["\u0275vid"](2,[i["\u0275qud"](671088640,1,{ticksComponent:0}),(t()(),i["\u0275eld"](1,0,null,null,4,":svg:g",[],[[1,"class",0],[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,In)),i["\u0275did"](3,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,On)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.xScale),t(e,5,0,n.showLabel)},function(t,e){var n=e.component;t(e,1,0,n.xAxisClassName,n.transform)})}function Fn(t,e,n,i,a,o){var r=o[0],l=o[1],s=o[2],u=o[3],c="";return c="M"+[t+a,e],c+="h"+((n=0===(n=Math.floor(n))?1:n)-2*a),c+=l?"a"+[a,a]+" 0 0 1 "+[a,a]:"h"+a+"v"+a,c+="v"+((i=0===(i=Math.floor(i))?1:i)-2*a),c+=u?"a"+[a,a]+" 0 0 1 "+[-a,a]:"v"+a+"h"+-a,c+="h"+(2*a-n),c+=s?"a"+[a,a]+" 0 0 1 "+[-a,-a]:"h"+-a+"v"+-a,c+="v"+(2*a-i),(c+=r?"a"+[a,a]+" 0 0 1 "+[a,-a]:"v"+-a+"h"+a)+"z"}var Pn=function(){function t(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new i.EventEmitter,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor="middle",this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){return t.updateDims()})},t.prototype.updateDims=function(){var t=this,e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(function(){return t.updateDims()}))},t.prototype.update=function(){var t,e=this,n="top"===this.orient||"right"===this.orient?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,t=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(t){return"Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString()},this.adjustedScale=t.bandwidth?function(e){return t(e)+.5*t.bandwidth()}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case"top":case"bottom":this.transform=function(t){return"translate("+this.adjustedScale(t)+",0)"},this.textAnchor="middle",this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case"left":this.transform=function(t){return"translate(0,"+this.adjustedScale(t)+")"},this.textAnchor="end",this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;case"right":this.transform=function(t){return"translate(0,"+this.adjustedScale(t)+")"},this.textAnchor="start",this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em"}setTimeout(function(){return e.updateDims()})},t.prototype.setReferencelines=function(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(function(t){return t.value}))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(function(t){return t.value}))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Fn(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])},t.prototype.getTicks=function(){var t=this.getMaxTicks(20),e=this.getMaxTicks(50);return this.tickValues?this.tickValues:this.scale.ticks?this.scale.ticks.apply(this.scale,[e]):vn(this.scale.domain(),t)},t.prototype.getMaxTicks=function(t){return Math.floor(this.height/t)},t.prototype.tickTransform=function(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"},t.prototype.gridLineTransform=function(){return"translate(5,0)"},t.prototype.tickTrim=function(t){return this.trimTicks?Tt(t,this.maxTickLength):t},t}(),kn=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Nn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,":svg:g",[["class","tick"]],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,":svg:title",[],null,null,null,null,null)),(t()(),i["\u0275ted"](2,null,["",""])),(t()(),i["\u0275eld"](3,0,null,null,1,":svg:text",[["stroke-width","0.01"]],[[1,"dy",0],[1,"x",0],[1,"y",0],[1,"text-anchor",0],[4,"font-size",null]],null,null,null,null)),(t()(),i["\u0275ted"](4,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.transform(e.context.$implicit)),t(e,2,0,n.tickFormat(e.context.$implicit)),t(e,3,0,n.dy,n.x1,n.y1,n.textAnchor,"12px"),t(e,4,0,n.tickTrim(n.tickFormat(e.context.$implicit)))})}function Vn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,":svg:path",[["class","reference-area"]],[[1,"d",0],[1,"transform",0]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,n.referenceAreaPath,n.gridLineTransform())})}function Gn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,":svg:line",[["class","gridline-path gridline-path-horizontal"],["x1","0"]],[[1,"x2",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.gridLineWidth)})}function Mn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,":svg:line",[["class","gridline-path gridline-path-horizontal"],["x1","0"]],[[1,"x2",0]],null,null,null,null))],null,function(t,e){t(e,0,0,0-e.component.gridLineWidth)})}function Bn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,":svg:g",[],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Gn)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Mn)),i["\u0275did"](4,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,"left"===n.orient),t(e,4,0,"right"===n.orient)},function(t,e){t(e,0,0,e.component.gridLineTransform())})}function Hn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,":svg:g",[],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Bn)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.showGridLines)},function(t,e){t(e,0,0,e.component.transform(e.context.$implicit))})}function Un(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,":svg:g",[],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,":svg:title",[],null,null,null,null,null)),(t()(),i["\u0275ted"](2,null,["",""])),(t()(),i["\u0275eld"](3,0,null,null,1,":svg:text",[["class","refline-label"]],[[1,"dy",0],[1,"y",0],[1,"x",0],[1,"text-anchor",0]],null,null,null,null)),(t()(),i["\u0275ted"](4,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,2,0,n.tickTrim(n.tickFormat(e.parent.parent.context.$implicit.value))),t(e,3,0,n.dy,-6,n.gridLineWidth,n.textAnchor),t(e,4,0,e.parent.parent.context.$implicit.name)})}function jn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,":svg:g",[],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,0,":svg:line",[["class","refline-path gridline-path-horizontal"],["x1","0"]],[[1,"x2",0],[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Un)),i["\u0275did"](3,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.component.showRefLabels)},function(t,e){var n=e.component;t(e,0,0,n.transform(e.parent.context.$implicit.value)),t(e,1,0,n.gridLineWidth,n.gridLineTransform())})}function zn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,":svg:g",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,jn)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.showRefLines)},null)}function Yn(t){return i["\u0275vid"](2,[i["\u0275qud"](402653184,1,{ticksElement:0}),(t()(),i["\u0275eld"](1,0,[[1,0],["ticksel",1]],null,2,":svg:g",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Nn)),i["\u0275did"](3,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Vn)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Hn)),i["\u0275did"](7,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,zn)),i["\u0275did"](9,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.ticks),t(e,5,0,n.referenceLineLength>1&&n.refMax&&n.refMin&&n.showRefLines),t(e,7,0,n.ticks),t(e,9,0,n.referenceLines)},null)}var Xn=function(){function t(){this.showGridLines=!1,this.yOrient="left",this.yAxisOffset=0,this.dimensionsChanged=new i.EventEmitter,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){this.offset=-(this.yAxisOffset+this.padding),"right"===this.yOrient?(this.labelOffset=65,this.transform="translate("+(this.offset+this.dims.width)+" , 0)"):(this.offset=this.offset,this.transform="translate("+this.offset+" , 0)"),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])},t.prototype.emitTicksWidth=function(t){var e=this,n=t.width;n!==this.labelOffset&&"right"===this.yOrient?(this.labelOffset=n+this.labelOffset,setTimeout(function(){e.dimensionsChanged.emit({width:n})},0)):n!==this.labelOffset&&(this.labelOffset=n,setTimeout(function(){e.dimensionsChanged.emit({width:n})},0))},t}(),Wn=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function qn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[["ngx-charts-y-axis-ticks",""]],null,[[null,"dimensionsChanged"]],function(t,e,n){var i=!0;return"dimensionsChanged"===e&&(i=!1!==t.component.emitTicksWidth(n)&&i),i},Yn,kn)),i["\u0275did"](1,4767744,[[1,4]],0,Pn,[],{scale:[0,"scale"],orient:[1,"orient"],tickArguments:[2,"tickArguments"],tickValues:[3,"tickValues"],tickStroke:[4,"tickStroke"],trimTicks:[5,"trimTicks"],maxTickLength:[6,"maxTickLength"],tickFormatting:[7,"tickFormatting"],showGridLines:[8,"showGridLines"],gridLineWidth:[9,"gridLineWidth"],height:[10,"height"],referenceLines:[11,"referenceLines"],showRefLabels:[12,"showRefLabels"],showRefLines:[13,"showRefLines"]},{dimensionsChanged:"dimensionsChanged"})],function(t,e){var n=e.component;t(e,1,1,[n.yScale,n.yOrient,n.tickArguments,n.ticks,n.tickStroke,n.trimTicks,n.maxTickLength,n.tickFormatting,n.showGridLines,n.dims.width,n.dims.height,n.referenceLines,n.showRefLabels,n.showRefLines])},null)}function $n(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[["ngx-charts-axis-label",""]],null,null,null,Ln,Tn)),i["\u0275did"](1,573440,null,0,wn,[i.ElementRef],{orient:[0,"orient"],label:[1,"label"],offset:[2,"offset"],width:[3,"width"],height:[4,"height"]},null)],function(t,e){var n=e.component;t(e,1,0,n.yOrient,n.labelText,n.labelOffset,n.dims.width,n.dims.height)},null)}function Qn(t){return i["\u0275vid"](2,[i["\u0275qud"](671088640,1,{ticksComponent:0}),(t()(),i["\u0275eld"](1,0,null,null,4,":svg:g",[],[[1,"class",0],[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,qn)),i["\u0275did"](3,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,$n)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.yScale),t(e,5,0,n.showLabel)},function(t,e){var n=e.component;t(e,1,0,n.yAxisClassName,n.transform)})}var Kn=function(){function t(){this.orientation="vertical"}return t.prototype.ngOnChanges=function(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%","horizontal"===this.orientation?this.x2="100%":"vertical"===this.orientation&&(this.y1="100%")},t}(),Zn=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Jn(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,":svg:stop",[],[[1,"offset",0],[4,"stop-color",null],[4,"stop-opacity",null]],null,null,null,null))],null,function(t,e){t(e,0,0,e.context.$implicit.offset+"%",e.context.$implicit.color,e.context.$implicit.opacity)})}function ti(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,2,":svg:linearGradient",[],[[8,"id",0],[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Jn)),i["\u0275did"](2,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.stops)},function(t,e){var n=e.component;t(e,0,0,n.name,n.x1,n.y1,n.x2,n.y2)})}var ei=function(){function t(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.initialized=!1,this.hasGradient=!1,this.element=t.nativeElement}return t.prototype.ngOnChanges=function(t){this.initialized?this.update():(this.loadAnimation(),this.initialized=!0)},t.prototype.update=function(){this.gradientId="grad"+Vt().toString(),this.gradientFill="url(#"+this.gradientId+")",this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()},t.prototype.loadAnimation=function(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)},t.prototype.updatePathEl=function(){var t=Object(kt.k)(this.element).select(".bar"),e=this.getPath();this.animations?t.transition().duration(500).attr("d",e):t.attr("d",e)},t.prototype.getGradient=function(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]},t.prototype.getStartingPath=function(){if(!this.animations)return this.getPath();var t,e=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(e=Math.min(this.height,e),t=Fn(this.x,this.y+this.height,this.width,1,0,this.edges)):"horizontal"===this.orientation&&(e=Math.min(this.width,e),t=Fn(this.x,this.y,1,this.height,0,this.edges)):"vertical"===this.orientation?t=Fn(this.x,this.y+this.height,this.width,1,0,this.edges):"horizontal"===this.orientation&&(t=Fn(this.x,this.y,1,this.height,0,this.edges)),t},t.prototype.getPath=function(){var t,e=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(e=Math.min(this.height,e),t=Fn(this.x,this.y,this.width,this.height,e,this.edges)):"horizontal"===this.orientation&&(e=Math.min(this.width,e),t=Fn(this.x,this.y,this.width,this.height,e,this.edges)):t=Fn(this.x,this.y,this.width,this.height,e,this.edges),t},t.prototype.getRadius=function(){var t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t},t.prototype.getStartOpacity=function(){return this.roundEdges?.2:.5},Object.defineProperty(t.prototype,"edges",{get:function(){var t=[!1,!1,!1,!1];return this.roundEdges&&("vertical"===this.orientation?t=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:"horizontal"===this.orientation&&(t=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),t},enumerable:!0,configurable:!0}),t.prototype.onMouseEnter=function(){this.activate.emit(this.data)},t.prototype.onMouseLeave=function(){this.deactivate.emit(this.data)},t}(),ni=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ii(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,":svg:g",[["ngx-charts-svg-linear-gradient",""]],null,null,null,ti,Zn)),i["\u0275did"](2,573440,null,0,Kn,[],{orientation:[0,"orientation"],name:[1,"name"],stops:[2,"stops"]},null)],function(t,e){var n=e.component;t(e,2,0,n.orientation,n.gradientId,n.gradientStops)},null)}function ai(t){return i["\u0275vid"](2,[(t()(),i["\u0275and"](16777216,null,null,1,null,ii)),i["\u0275did"](1,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](2,0,null,null,0,":svg:path",[["class","bar"],["role","img"],["stroke","none"],["tabIndex","-1"]],[[2,"active",null],[1,"d",0],[1,"aria-label",0],[1,"fill",0]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.select.emit(a.data)&&i),i},null,null))],function(t,e){t(e,1,0,e.component.hasGradient)},function(t,e){var n=e.component;t(e,2,0,n.isActive,n.path,n.ariaLabel,n.hasGradient?n.gradientFill:n.fill)})}var oi,ri=function(){function t(t){this.dimensionsChanged=new i.EventEmitter,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.getSize=function(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}},t.prototype.ngAfterViewInit=function(){this.dimensionsChanged.emit(this.getSize())},t.prototype.update=function(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):lt(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform="rotate(-45, "+this.x+" , "+this.y+")")},t}(),li=i["\u0275crt"]({encapsulation:0,styles:[[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"]],data:{}});function si(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:text",[["alignment-baseline","middle"],["class","textDataLabel"]],[[1,"text-anchor",0],[1,"transform",0],[1,"x",0],[1,"y",0]],null,null,null,null)),(t()(),i["\u0275ted"](1,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.textAnchor,n.transform,n.x,n.y),t(e,1,0,n.formatedValue)})}!function(t){t.positive="positive",t.negative="negative"}(oi||(oi={}));var ui=function(){function t(){this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.select=new i.EventEmitter,this.activate=new i.EventEmitter,this.deactivate=new i.EventEmitter,this.dataLabelHeightChanged=new i.EventEmitter,this.barsForDataLabels=[]}return t.prototype.ngOnChanges=function(t){this.update()},t.prototype.update=function(){var t,e,n=this;this.updateTooltipSettings(),this.series.length&&(e=this.xScale.bandwidth());var i,a=Math.max(this.yScale.domain()[0],0),o=((t={})[oi.positive]=0,t[oi.negative]=0,t),r=oi.positive;"normalized"===this.type&&(i=this.series.map(function(t){return t.value}).reduce(function(t,e){return t+e},0)),this.bars=this.series.map(function(t,l){var s=t.value,u=t.name,c=lt(u);r=s>0?oi.positive:oi.negative;var d={value:s,label:u,roundEdges:n.roundEdges,data:t,width:e,formattedLabel:c,height:0,x:0,y:0};if("standard"===n.type)d.height=Math.abs(n.yScale(s)-n.yScale(a)),d.x=n.xScale(u),d.y=n.yScale(s<0?0:s);else if("stacked"===n.type){var h=(p=o[r])+s;o[r]+=s,d.height=n.yScale(p)-n.yScale(h),d.x=0,d.y=n.yScale(h),d.offset0=p,d.offset1=h}else if("normalized"===n.type){var p;h=(p=o[r])+s,o[r]+=s,i>0?(p=100*p/i,h=100*h/i):(p=0,h=0),d.height=n.yScale(p)-n.yScale(h),d.x=0,d.y=n.yScale(h),d.offset0=p,d.offset1=h,s=(h-p).toFixed(2)+"%"}"ordinal"===n.colors.scaleType?d.color=n.colors.getColor(u):"standard"===n.type?(d.color=n.colors.getColor(s),d.gradientStops=n.colors.getLinearGradientStops(s)):(d.color=n.colors.getColor(d.offset1),d.gradientStops=n.colors.getLinearGradientStops(d.offset1,d.offset0));var f=c;return d.ariaLabel=c+" "+s.toLocaleString(),n.seriesName&&(f=n.seriesName+" \u2022 "+c,d.data.series=n.seriesName,d.ariaLabel=n.seriesName+" "+d.ariaLabel),d.tooltipText=n.tooltipDisabled?void 0:'\n        <span class="tooltip-label">'+f+'</span>\n        <span class="tooltip-val">'+s.toLocaleString()+"</span>\n      ",d}),this.updateDataLabels()},t.prototype.updateDataLabels=function(){var t=this;if("stacked"===this.type){this.barsForDataLabels=[];var e={};e.series=this.seriesName;var n=this.series.map(function(t){return t.value}).reduce(function(t,e){return e>0?t+e:t},0),i=this.series.map(function(t){return t.value}).reduce(function(t,e){return e<0?t+e:t},0);e.total=n+i,e.x=0,e.y=0,e.height=this.yScale(e.total>0?n:i),e.width=this.xScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(function(e){var n={};return n.series=t.seriesName?t.seriesName:e.name,n.total=e.value,n.x=t.xScale(e.name),n.y=t.yScale(0),n.height=t.yScale(n.total)-t.yScale(0),n.width=t.xScale.bandwidth(),n})},t.prototype.updateTooltipSettings=function(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"},t.prototype.isActive=function(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(function(e){return t.name===e.name&&t.series===e.series})},t.prototype.onClick=function(t){this.select.emit(t)},t.prototype.trackBy=function(t,e){return e.label},t.prototype.trackDataLabelBy=function(t,e){return t+"#"+e.series+"#"+e.total},t}(),ci=i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"animationState",definitions:[{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:500}],options:null}],options:{}}]}});function di(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,2,":svg:g",[["ngx-charts-bar",""],["ngx-tooltip",""]],[[24,"@animationState",0],[24,"@.disabled",0]],[[null,"select"],[null,"activate"],[null,"deactivate"],[null,"focusin"],[null,"blur"],[null,"mouseenter"],[null,"mouseleave"],[null,"click"]],function(t,e,n){var a=!0,o=t.component;return"focusin"===e&&(a=!1!==i["\u0275nov"](t,1).onFocus()&&a),"blur"===e&&(a=!1!==i["\u0275nov"](t,1).onBlur()&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,1).onMouseEnter()&&a),"mouseleave"===e&&(a=!1!==i["\u0275nov"](t,1).onMouseLeave(n.target)&&a),"click"===e&&(a=!1!==i["\u0275nov"](t,1).onMouseClick()&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,2).onMouseEnter()&&a),"mouseleave"===e&&(a=!1!==i["\u0275nov"](t,2).onMouseLeave()&&a),"select"===e&&(a=!1!==o.onClick(n)&&a),"activate"===e&&(a=!1!==o.activate.emit(n)&&a),"deactivate"===e&&(a=!1!==o.deactivate.emit(n)&&a),a},ai,ni)),i["\u0275did"](1,147456,null,0,vt,[ft,i.ViewContainerRef,i.Renderer2],{tooltipTitle:[0,"tooltipTitle"],tooltipDisabled:[1,"tooltipDisabled"],tooltipPlacement:[2,"tooltipPlacement"],tooltipType:[3,"tooltipType"],tooltipTemplate:[4,"tooltipTemplate"],tooltipContext:[5,"tooltipContext"]},null),i["\u0275did"](2,573440,null,0,ei,[i.ElementRef],{fill:[0,"fill"],data:[1,"data"],width:[2,"width"],height:[3,"height"],x:[4,"x"],y:[5,"y"],orientation:[6,"orientation"],roundEdges:[7,"roundEdges"],gradient:[8,"gradient"],isActive:[9,"isActive"],stops:[10,"stops"],animations:[11,"animations"],ariaLabel:[12,"ariaLabel"]},{select:"select",activate:"activate",deactivate:"deactivate"}),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,n.tooltipTemplate?void 0:e.context.$implicit.tooltipText,n.tooltipDisabled,n.tooltipPlacement,n.tooltipType,n.tooltipTemplate,e.context.$implicit.data),t(e,2,1,[e.context.$implicit.color,e.context.$implicit.data,e.context.$implicit.width,e.context.$implicit.height,e.context.$implicit.x,e.context.$implicit.y,"vertical",e.context.$implicit.roundEdges,n.gradient,n.isActive(e.context.$implicit.data),e.context.$implicit.gradientStops,n.animations,e.context.$implicit.ariaLabel])},function(t,e){t(e,0,0,"active",!e.component.animations)})}function hi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[["ngx-charts-bar-label",""]],null,[[null,"dimensionsChanged"]],function(t,e,n){var i=!0;return"dimensionsChanged"===e&&(i=!1!==t.component.dataLabelHeightChanged.emit({size:n,index:t.context.index})&&i),i},si,li)),i["\u0275did"](1,4767744,null,0,ri,[i.ElementRef],{value:[0,"value"],valueFormatting:[1,"valueFormatting"],barX:[2,"barX"],barY:[3,"barY"],barWidth:[4,"barWidth"],barHeight:[5,"barHeight"],orientation:[6,"orientation"]},{dimensionsChanged:"dimensionsChanged"})],function(t,e){t(e,1,0,e.context.$implicit.total,e.component.dataLabelFormatting,e.context.$implicit.x,e.context.$implicit.y,e.context.$implicit.width,e.context.$implicit.height,"vertical")},null)}function pi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,":svg:g",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,hi)),i["\u0275did"](2,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){var n=e.component;t(e,2,0,n.barsForDataLabels,n.trackDataLabelBy)},null)}function fi(t){return i["\u0275vid"](2,[(t()(),i["\u0275and"](16777216,null,null,1,null,di)),i["\u0275did"](1,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,pi)),i["\u0275did"](3,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.bars,n.trackBy),t(e,3,0,n.showDataLabel)},null)}var gi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.legend=!1,e.legendTitle="Legend",e.legendPosition="right",e.tooltipDisabled=!1,e.showGridLines=!0,e.activeEntries=[],e.trimXAxisTicks=!0,e.trimYAxisTicks=!0,e.maxXAxisTickLength=16,e.maxYAxisTickLength=16,e.barPadding=8,e.roundDomains=!1,e.roundEdges=!0,e.showDataLabel=!1,e.activate=new i.EventEmitter,e.deactivate=new i.EventEmitter,e.margin=[10,20,10,20],e.xAxisHeight=0,e.yAxisWidth=0,e.dataLabelMaxHeight={negative:0,positive:0},e}return Object(_.__extends)(e,t),e.prototype.update=function(){t.prototype.update.call(this),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=qt({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform="translate("+this.dims.xOffset+" , "+(this.margin[0]+this.dataLabelMaxHeight.negative)+")"},e.prototype.getXScale=function(){this.xDomain=this.getXDomain();var t=this.xDomain.length/(this.dims.width/this.barPadding+1);return ee().rangeRound([0,this.dims.width]).paddingInner(t).domain(this.xDomain)},e.prototype.getYScale=function(){this.yDomain=this.getYDomain();var t=ce().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?t.nice():t},e.prototype.getXDomain=function(){return this.results.map(function(t){return t.name})},e.prototype.getYDomain=function(){var t=this.results.map(function(t){return t.value});return[this.yScaleMin?Math.min.apply(Math,[this.yScaleMin].concat(t)):Math.min.apply(Math,[0].concat(t)),this.yScaleMax?Math.max.apply(Math,[this.yScaleMax].concat(t)):Math.max.apply(Math,[0].concat(t))]},e.prototype.onClick=function(t){this.select.emit(t)},e.prototype.setColors=function(){this.colors=new ge(this.scheme,this.schemeType,"ordinal"===this.schemeType?this.xDomain:this.yDomain,this.customColors)},e.prototype.getLegendOptions=function(){var t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===t.scaleType?(t.domain=this.xDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t},e.prototype.updateYAxisWidth=function(t){this.yAxisWidth=t.width,this.update()},e.prototype.updateXAxisHeight=function(t){this.xAxisHeight=t.height,this.update()},e.prototype.onDataLabelMaxHeightChanged=function(t){var e=this;t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),t.index===this.results.length-1&&setTimeout(function(){return e.update()})},e.prototype.onActivate=function(t){this.activeEntries.findIndex(function(e){return e.name===t.name&&e.value===t.value&&e.series===t.series})>-1||(this.activeEntries=[t].concat(this.activeEntries),this.activate.emit({value:t,entries:this.activeEntries}))},e.prototype.onDeactivate=function(t){var e=this.activeEntries.findIndex(function(e){return e.name===t.name&&e.value===t.value&&e.series===t.series});this.activeEntries.splice(e,1),this.activeEntries=this.activeEntries.slice(),this.deactivate.emit({value:t,entries:this.activeEntries})},e}(xe),bi=i["\u0275crt"]({encapsulation:2,styles:[J],data:{}});function mi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[["ngx-charts-x-axis",""]],null,[[null,"dimensionsChanged"]],function(t,e,n){var i=!0;return"dimensionsChanged"===e&&(i=!1!==t.component.updateXAxisHeight(n)&&i),i},Rn,Dn)),i["\u0275did"](1,573440,null,0,En,[],{xScale:[0,"xScale"],dims:[1,"dims"],trimTicks:[2,"trimTicks"],maxTickLength:[3,"maxTickLength"],tickFormatting:[4,"tickFormatting"],showLabel:[5,"showLabel"],labelText:[6,"labelText"],ticks:[7,"ticks"],xAxisOffset:[8,"xAxisOffset"]},{dimensionsChanged:"dimensionsChanged"})],function(t,e){var n=e.component;t(e,1,0,n.xScale,n.dims,n.trimXAxisTicks,n.maxXAxisTickLength,n.xAxisTickFormatting,n.showXAxisLabel,n.xAxisLabel,n.xAxisTicks,n.dataLabelMaxHeight.negative)},null)}function vi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:g",[["ngx-charts-y-axis",""]],null,[[null,"dimensionsChanged"]],function(t,e,n){var i=!0;return"dimensionsChanged"===e&&(i=!1!==t.component.updateYAxisWidth(n)&&i),i},Qn,Wn)),i["\u0275did"](1,573440,null,0,Xn,[],{yScale:[0,"yScale"],dims:[1,"dims"],trimTicks:[2,"trimTicks"],maxTickLength:[3,"maxTickLength"],tickFormatting:[4,"tickFormatting"],ticks:[5,"ticks"],showGridLines:[6,"showGridLines"],showLabel:[7,"showLabel"],labelText:[8,"labelText"]},{dimensionsChanged:"dimensionsChanged"})],function(t,e){var n=e.component;t(e,1,0,n.yScale,n.dims,n.trimYAxisTicks,n.maxYAxisTickLength,n.yAxisTickFormatting,n.yAxisTicks,n.showGridLines,n.showYAxisLabel,n.yAxisLabel)},null)}function xi(t){return i["\u0275vid"](2,[(t()(),i["\u0275eld"](0,16777216,null,null,10,"ngx-charts-chart",[],null,[[null,"legendLabelClick"],[null,"legendLabelActivate"],[null,"legendLabelDeactivate"]],function(t,e,n){var i=!0,a=t.component;return"legendLabelClick"===e&&(i=!1!==a.onClick(n)&&i),"legendLabelActivate"===e&&(i=!1!==a.onActivate(n)&&i),"legendLabelDeactivate"===e&&(i=!1!==a.onDeactivate(n)&&i),i},At,yt)),i["\u0275prd"](512,null,ft,ft,[pt]),i["\u0275did"](2,573440,null,0,_t,[i.ViewContainerRef,ft],{view:[0,"view"],showLegend:[1,"showLegend"],legendOptions:[2,"legendOptions"],activeEntries:[3,"activeEntries"],animations:[4,"animations"]},{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"}),i["\u0275pad"](3,2),(t()(),i["\u0275eld"](4,0,null,0,6,":svg:g",[["class","bar-chart chart"]],[[1,"transform",0]],null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,mi)),i["\u0275did"](6,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,vi)),i["\u0275did"](8,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](9,0,null,null,1,":svg:g",[["ngx-charts-series-vertical",""]],null,[[null,"activate"],[null,"deactivate"],[null,"select"],[null,"dataLabelHeightChanged"]],function(t,e,n){var i=!0,a=t.component;return"activate"===e&&(i=!1!==a.onActivate(n)&&i),"deactivate"===e&&(i=!1!==a.onDeactivate(n)&&i),"select"===e&&(i=!1!==a.onClick(n)&&i),"dataLabelHeightChanged"===e&&(i=!1!==a.onDataLabelMaxHeightChanged(n)&&i),i},fi,ci)),i["\u0275did"](10,573440,null,0,ui,[],{dims:[0,"dims"],series:[1,"series"],xScale:[2,"xScale"],yScale:[3,"yScale"],colors:[4,"colors"],gradient:[5,"gradient"],activeEntries:[6,"activeEntries"],tooltipDisabled:[7,"tooltipDisabled"],tooltipTemplate:[8,"tooltipTemplate"],roundEdges:[9,"roundEdges"],animations:[10,"animations"],showDataLabel:[11,"showDataLabel"],dataLabelFormatting:[12,"dataLabelFormatting"]},{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"})],function(t,e){var n=e.component,i=t(e,3,0,n.width,n.height);t(e,2,0,i,n.legend,n.legendOptions,n.activeEntries,n.animations),t(e,6,0,n.xAxis),t(e,8,0,n.yAxis),t(e,10,1,[n.dims,n.results,n.xScale,n.yScale,n.colors,n.gradient,n.activeEntries,n.tooltipDisabled,n.tooltipTemplate,n.roundEdges,n.animations,n.showDataLabel,n.dataLabelFormatting])},function(t,e){t(e,4,0,e.component.transform)})}var _i=n("HSup"),yi=n("BORx"),Si=n("wbA3"),Ci=function(){return(Ci=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Ai=function(){function t(t,e,n,i,a){var o=this;this.transmissionChainDataService=t,this.referenceDataDataService=e,this.outbreakDataService=n,this.router=i,this.authDataService=a,this.histogramResults=[],this.caseRefDataColor="",this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){o.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.authUser=this.authDataService.getAuthenticatedUser(),this.refdataSubscriber=this.referenceDataDataService.getReferenceDataByCategory(Te.a.PERSON_TYPE).subscribe(function(e){var n=De.find(e.entries,{value:yi.a.CASE});n&&(t.caseRefDataColor=n.colorCode)}),this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refdataSubscriber&&(this.refdataSubscriber.unsubscribe(),this.refdataSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.setHistogramResults=function(t){var e=this,n={};this.histogramResults=[],De.forEach(t,function(t){!De.isEmpty(n)&&n[t.size]?n[t.size]++:n[t.size]=1}),De.forEach(n,function(t,n){e.histogramResults.push({name:n,value:t})})},t.prototype.axisFormat=function(t){return t%1==0?t.toLocaleString():""},t.prototype.onSelectChart=function(t){if(Si.a.canViewBubbleNetwork(this.authUser)){var e={sizeOfChainsFilter:t.name},n={};De.isEmpty(this.globalFilterDate)||(n.date=this.globalFilterDate),De.isEmpty(this.globalFilterLocationId)||(n.locationId=this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||(n.classificationId=this.globalFilterClassificationId),De.isEmpty(n)?this.router.navigate(["/transmission-chains"],{queryParams:e}):this.router.navigate(["/transmission-chains"],{queryParams:Ci({global:JSON.stringify(n)},e)})}},t.prototype.refreshData=function(){var t=this;if(this.outbreakId){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;if(e.filter.firstLevelConditions(),this.globalFilterDate&&e.filter.byEquality("endDate",this.globalFilterDate.toISOString()),this.globalFilterLocationId&&e.addChildQueryBuilder("person").filter.where({or:[{type:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_EVENT","address.parentLocationIdFilter":this.globalFilterLocationId},{type:{inq:["LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE","LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CONTACT"]},"addresses.parentLocationIdFilter":this.globalFilterLocationId}]}),!De.isEmpty(this.globalFilterClassificationId)){var n={or:[{type:{neq:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE"}},{type:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE",classification:{inq:this.globalFilterClassificationId}}]};e.filter.where(n),e.addChildQueryBuilder("person").filter.where(n)}this.displayLoading=!0,this.previousSubscriber=this.transmissionChainDataService.getCountIndependentTransmissionChains(this.outbreakId,e).subscribe(function(e){t.setHistogramResults(e.chains?e.chains:[]),t.displayLoading=!1})}},t}(),wi=i["\u0275crt"]({encapsulation:2,styles:[["app-histogram-transmission-chains-size-dashlet .dashlet-no-data{height:150px}app-histogram-transmission-chains-size-dashlet .dashlet-loading{height:150px;width:100%;text-align:center}app-histogram-transmission-chains-size-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:relative;top:calc(50% - 16px)}app-histogram-transmission-chains-size-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function Ti(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,[" ",": "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](3,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](4,null,[" ",": "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){t(e,1,0,i["\u0275unv"](e,1,0,i["\u0275nov"](e,2).transform("LNG_PAGE_DASHBOARD_HISTOGRAM_CHAINS_OF_TRANSMISSION_SIZE_LABEL")),e.context.model.name),t(e,4,0,i["\u0275unv"](e,4,0,i["\u0275nov"](e,5).transform("LNG_PAGE_DASHBOARD_HISTOGRAM_CHAINS_OF_TRANSMISSION_NUMBER_LABEL")),e.context.model.value)})}function Li(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,12,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,11,"div",[["fxFlex",""],["fxLayout","column"],["fxLayoutAlign","center"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,7,"ngx-charts-bar-vertical",[["class","histogram-size-chains"]],null,[[null,"select"]],function(t,e,n){var i=!0;return"select"===e&&(i=!1!==t.component.onSelectChart(n)&&i),i},xi,bi)),i["\u0275did"](6,4898816,null,1,gi,[i.ElementRef,i.NgZone,i.ChangeDetectorRef],{results:[0,"results"],scheme:[1,"scheme"],legend:[2,"legend"],xAxis:[3,"xAxis"],yAxis:[4,"yAxis"],showXAxisLabel:[5,"showXAxisLabel"],showYAxisLabel:[6,"showYAxisLabel"],xAxisLabel:[7,"xAxisLabel"],yAxisLabel:[8,"yAxisLabel"],gradient:[9,"gradient"],yAxisTickFormatting:[10,"yAxisTickFormatting"]},{select:"select"}),i["\u0275qud"](335544320,1,{tooltipTemplate:0}),i["\u0275pad"](8,1),i["\u0275pod"](9,{domain:0}),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](0,null,null,0,null,Ti))],function(t,e){var n=e.component;t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"");var a=n.histogramResults,o=t(e,9,0,t(e,8,0,n.caseRefDataColor));t(e,6,1,[a,o,!1,!0,!0,!0,!0,i["\u0275unv"](e,6,7,i["\u0275nov"](e,10).transform("LNG_PAGE_DASHBOARD_HISTOGRAM_CHAINS_OF_TRANSMISSION_SIZE_LABEL")),i["\u0275unv"](e,6,8,i["\u0275nov"](e,11).transform("LNG_PAGE_DASHBOARD_HISTOGRAM_CHAINS_OF_TRANSMISSION_NUMBER_LABEL")),!1,n.axisFormat])},null)}function Ei(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_SIZE_OF_CHAINS_OF_TRANSMISSION_NO_DATA_LABEL")))})}function Di(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function Ii(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,Li)),i["\u0275did"](1,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ei)),i["\u0275did"](3,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Di)),i["\u0275did"](5,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.histogramResults?null:n.histogramResults.length)>0),t(e,3,0,!n.displayLoading&&(null==n.histogramResults?null:n.histogramResults.length)<1),t(e,5,0,n.displayLoading)},null)}var Oi=n("hUWP"),Ri=n("LV99"),Fi=function(){function t(){this.showLabels=!1,this.xLabel="",this.yLabel="",this.colorPattern=[],this.maxTickCulling=1}return t.prototype.ngOnInit=function(){this.render()},t.prototype.ngOnDestroy=function(){this.destroyChart()},t.prototype.ngOnChanges=function(){this.render()},t.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.render=function(){var t=this;this.destroyChart(),this.chart=Ri.generate({bindto:"#chart",onrendered:function(){t.configureNumberOfTicks(t.chartDataCategories.length)},zoom:{enabled:!0,rescale:!1,onzoom:function(e){e&&t.configureNumberOfTicks(e[1]-e[0])}},interaction:{enabled:!1},tooltip:{show:!0},transition:{duration:0},data:{columns:this.chartData,type:"bar",groups:[this.chartDataColumns],labels:this.showLabels},bar:{width:{ratio:.9}},axis:{x:{label:{text:this.xLabel,position:"outer-right"},type:"category",categories:this.chartDataCategories,tick:{width:100,culling:{max:this.maxTickCulling},rotate:70}},y:{inner:!0,label:{text:this.yLabel,position:"outer-middle"},tick:{format:function(t){return t%1==0?String(t):""}}}},legend:{item:{onclick:function(t){return!1}}},padding:{left:25,right:25},color:{pattern:this.colorPattern}})},t.prototype.configureNumberOfTicks=function(t){var e=document.getElementsByClassName("c3-axis-x");if(e&&!(e.length<1)){var n=e[0];n&&n.classList&&(t<70?(n.classList.add("c3-axis-x-n"),n.classList.remove("c3-axis-x-2n"),n.classList.remove("c3-axis-x-3n"),n.classList.remove("c3-axis-x-5n")):t<150?(n.classList.add("c3-axis-x-2n"),n.classList.remove("c3-axis-x-n"),n.classList.remove("c3-axis-x-3n"),n.classList.remove("c3-axis-x-5n")):t<250?(n.classList.add("c3-axis-x-3n"),n.classList.remove("c3-axis-x-n"),n.classList.remove("c3-axis-x-2n"),n.classList.remove("c3-axis-x-5n")):(n.classList.add("c3-axis-x-5n"),n.classList.remove("c3-axis-x-n"),n.classList.remove("c3-axis-x-2n"),n.classList.remove("c3-axis-x-3n")))}},t}(),Pi=i["\u0275crt"]({encapsulation:2,styles:[["app-c3-stacked-bar-chart .c3-legend-item{cursor:default!important}app-c3-stacked-bar-chart .tick{font-size:12px}app-c3-stacked-bar-chart .c3-axis{fill:#000}app-c3-stacked-bar-chart .c3-axis line,app-c3-stacked-bar-chart .c3-axis path{stroke:#ccc;fill:none!important}app-c3-stacked-bar-chart .c3-axis-y .tick line{stroke:#fff;fill:#fff}app-c3-stacked-bar-chart .c3-axis-x-5n .tick text{display:none!important}app-c3-stacked-bar-chart .c3-axis-x-5n .tick:nth-child(5n) text{display:block!important}app-c3-stacked-bar-chart .c3-axis-x-3n .tick text{display:none!important}app-c3-stacked-bar-chart .c3-axis-x-3n .tick:nth-child(3n) text{display:block!important}app-c3-stacked-bar-chart .c3-axis-x-2n .tick text{display:none!important}app-c3-stacked-bar-chart .c3-axis-x-2n .tick:nth-child(2n) text{display:block!important}app-c3-stacked-bar-chart .c3-axis-x-n .tick text{display:none!important}app-c3-stacked-bar-chart .c3-axis-x-n .tick:nth-child(n) text{display:block!important}"]],data:{}});function ki(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[["id","chart"]],null,null,null,null,null))],null,null)}var Ni=n("j3IS"),Vi=function(){function t(t,e,n,i){var a=this;this.caseDataService=t,this.outbreakDataService=e,this.referenceDataDataService=n,this.i18nService=i,this.chartData=[],this.chartDataCategories=[],this.chartDataColumns=[],this.viewType=ke.b.EPI_CURVE_VIEW_TYPE.WEEK.value,this.mapCaseClassifications={},this.colorPattern=[],this.Constants=ke.b,this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){a.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.refdataSubscriber=this.referenceDataDataService.getReferenceDataByCategory(Te.a.CASE_CLASSIFICATION).subscribe(function(e){t.mapCaseClassifications={},De.forEach(e.entries,function(e){t.mapCaseClassifications[e.value]={},t.mapCaseClassifications[e.value].valueTranslated=t.i18nService.instant(e.value),t.mapCaseClassifications[e.value].colorCode=e.colorCode}),t.outbreakSubscriber&&(t.outbreakSubscriber.unsubscribe(),t.outbreakSubscriber=null),t.outbreakSubscriber=t.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refdataSubscriber&&(this.refdataSubscriber.unsubscribe(),this.refdataSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.setEpiCurveResults=function(t){var e=this;this.colorPattern=[],this.chartDataCategories=[],this.chartDataColumns=[];var n={};return De.forEach(t,function(t){e.chartDataCategories.push(t.start.format(ke.b.DEFAULT_DATE_DISPLAY_FORMAT)),De.each(t.classification,function(t,i){if(i!==ke.b.CASE_CLASSIFICATION.NOT_A_CASE&&e.mapCaseClassifications[i]){var a=e.mapCaseClassifications[i].valueTranslated;n[a]?n[a].push(t):(e.chartDataColumns.push(a),e.colorPattern.push(e.mapCaseClassifications[i].colorCode),n[a]=[],n[a].push(a),n[a].push(t))}})}),n},t.prototype.changeView=function(t){this.viewType=t,this.refreshDataCaller.call()},t.prototype.refreshData=function(){var t=this;if(this.outbreakId&&!De.isEmpty(this.mapCaseClassifications)){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;e.filter.firstLevelConditions(),e.filter.byEquality("endDate",this.globalFilterDate?this.globalFilterDate.clone().endOf("day").toISOString():Object(Ni.a)().endOf("day").toISOString()),this.globalFilterLocationId&&e.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),e.filter.byEquality("periodType",this.viewType),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesStratifiedByClassificationOverTime(this.outbreakId,e).subscribe(function(e){t.chartData=[];var n=t.setEpiCurveResults(e);De.each(n,function(e){t.chartData.push(e)}),t.displayLoading=!1})}},t}(),Gi=i["\u0275crt"]({encapsulation:2,styles:[["app-epi-curve-dashlet .dashlet-no-data{height:356px}app-epi-curve-dashlet .dashlet-loading{height:356px;width:100%;text-align:center}app-epi-curve-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:relative;top:calc(50% - 16px)}app-epi-curve-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function Mi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.MONTH.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.MONTH.label)))})}function Bi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.WEEK.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.WEEK.label)))})}function Hi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.DAY.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.DAY.label)))})}function Ui(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_CASES_COUNT_OVER_TIME_NO_DATA_LABEL")))})}function ji(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function zi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),i["\u0275did"](1,4866048,null,0,Oi.b,[i.ElementRef,Oi.e,Z.i,Z.f,Z.e,i.PLATFORM_ID,[2,Z.g]],{fxShow:[0,"fxShow"]},null),(t()(),i["\u0275eld"](2,0,null,null,3,"app-c3-stacked-bar-chart",[],null,null,null,ki,Pi)),i["\u0275did"](3,770048,null,0,Fi,[],{chartData:[0,"chartData"],chartDataColumns:[1,"chartDataColumns"],chartDataCategories:[2,"chartDataCategories"],showLabels:[3,"showLabels"],xLabel:[4,"xLabel"],yLabel:[5,"yLabel"],colorPattern:[6,"colorPattern"]},null),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](6,0,null,null,9,"div",[["fxLayout","row"],["fxLayoutAlign","center"],["fxLayoutGap","10px"]],null,null,null,null,null)),i["\u0275did"](7,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](8,1720320,null,0,K.f,[i.ElementRef,i.NgZone,U.b,Z.i,[2,K.l],Z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),i["\u0275did"](9,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Mi)),i["\u0275did"](11,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Bi)),i["\u0275did"](13,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Hi)),i["\u0275did"](15,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ui)),i["\u0275did"](17,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ji)),i["\u0275did"](19,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)>0),t(e,3,0,n.chartData,n.chartDataColumns,n.chartDataCategories,!1,i["\u0275unv"](e,3,4,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_EPI_CURVE_DATE_OF_ONSET_LABEL")),i["\u0275unv"](e,3,5,i["\u0275nov"](e,5).transform("LNG_PAGE_DASHBOARD_EPI_CURVE_NO_CASES_LABEL")),n.colorPattern),t(e,7,0,"row"),t(e,8,0,"10px"),t(e,9,0,"center"),t(e,11,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.MONTH.value),t(e,13,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.WEEK.value),t(e,15,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.DAY.value),t(e,17,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)<1),t(e,19,0,n.displayLoading)},null)}var Yi=function(){function t(t,e,n,i){var a=this;this.caseDataService=t,this.outbreakDataService=e,this.referenceDataDataService=n,this.i18nService=i,this.chartData=[],this.chartDataCategories=[],this.chartDataColumns=[],this.viewType=ke.b.EPI_CURVE_VIEW_TYPE.WEEK.value,this.mapOutcomes={},this.colorPattern=[],this.Constants=ke.b,this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){a.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.refdataSubscriber=this.referenceDataDataService.getReferenceDataByCategory(Te.a.OUTCOME).subscribe(function(e){t.mapOutcomes={},De.forEach(e.entries,function(e){t.mapOutcomes[e.value]={},t.mapOutcomes[e.value].valueTranslated=t.i18nService.instant(e.value),t.mapOutcomes[e.value].colorCode=e.colorCode}),t.outbreakSubscriber&&(t.outbreakSubscriber.unsubscribe(),t.outbreakSubscriber=null),t.outbreakSubscriber=t.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refdataSubscriber&&(this.refdataSubscriber.unsubscribe(),this.refdataSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.setEpiCurveResults=function(t){var e=this;this.colorPattern=[],this.chartDataCategories=[],this.chartDataColumns=[];var n={};return De.forEach(t,function(t){e.chartDataCategories.push(t.start.format(ke.b.DEFAULT_DATE_DISPLAY_FORMAT)),De.each(t.outcome,function(t,i){if(i!==ke.b.CASE_CLASSIFICATION.NOT_A_CASE&&e.mapOutcomes[i]){var a=e.mapOutcomes[i].valueTranslated;n[a]?n[a].push(t):(e.chartDataColumns.push(a),e.colorPattern.push(e.mapOutcomes[i].colorCode),n[a]=[],n[a].push(a),n[a].push(t))}})}),n},t.prototype.changeView=function(t){this.viewType=t,this.refreshDataCaller.call()},t.prototype.refreshData=function(){var t=this;if(this.outbreakId&&!De.isEmpty(this.mapOutcomes)){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;e.filter.firstLevelConditions(),e.filter.byEquality("endDate",this.globalFilterDate?this.globalFilterDate.clone().endOf("day").toISOString():Object(Ni.a)().endOf("day").toISOString()),this.globalFilterLocationId&&e.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),e.filter.byEquality("periodType",this.viewType),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesStratifiedByOutcomeOverTime(this.outbreakId,e).subscribe(function(e){t.chartData=[];var n=t.setEpiCurveResults(e);De.each(n,function(e){t.chartData.push(e)}),t.displayLoading=!1})}},t}(),Xi=i["\u0275crt"]({encapsulation:2,styles:[["app-epi-curve-outcome-dashlet .dashlet-no-data{height:356px}app-epi-curve-outcome-dashlet .dashlet-loading{height:356px;width:100%;text-align:center}app-epi-curve-outcome-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:relative;top:calc(50% - 16px)}app-epi-curve-outcome-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function Wi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.MONTH.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.MONTH.label)))})}function qi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.WEEK.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.WEEK.label)))})}function $i(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.DAY.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.DAY.label)))})}function Qi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_CASES_COUNT_OVER_TIME_NO_DATA_LABEL")))})}function Ki(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function Zi(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),i["\u0275did"](1,4866048,null,0,Oi.b,[i.ElementRef,Oi.e,Z.i,Z.f,Z.e,i.PLATFORM_ID,[2,Z.g]],{fxShow:[0,"fxShow"]},null),(t()(),i["\u0275eld"](2,0,null,null,3,"app-c3-stacked-bar-chart",[],null,null,null,ki,Pi)),i["\u0275did"](3,770048,null,0,Fi,[],{chartData:[0,"chartData"],chartDataColumns:[1,"chartDataColumns"],chartDataCategories:[2,"chartDataCategories"],showLabels:[3,"showLabels"],xLabel:[4,"xLabel"],yLabel:[5,"yLabel"],colorPattern:[6,"colorPattern"]},null),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](6,0,null,null,9,"div",[["fxLayout","row"],["fxLayoutAlign","center"],["fxLayoutGap","10px"]],null,null,null,null,null)),i["\u0275did"](7,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](8,1720320,null,0,K.f,[i.ElementRef,i.NgZone,U.b,Z.i,[2,K.l],Z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),i["\u0275did"](9,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Wi)),i["\u0275did"](11,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,qi)),i["\u0275did"](13,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,$i)),i["\u0275did"](15,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Qi)),i["\u0275did"](17,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ki)),i["\u0275did"](19,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)>0),t(e,3,0,n.chartData,n.chartDataColumns,n.chartDataCategories,!1,i["\u0275unv"](e,3,4,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_EPI_CURVE_DATE_OF_ONSET_LABEL")),i["\u0275unv"](e,3,5,i["\u0275nov"](e,5).transform("LNG_PAGE_DASHBOARD_EPI_CURVE_NO_CASES_LABEL")),n.colorPattern),t(e,7,0,"row"),t(e,8,0,"10px"),t(e,9,0,"center"),t(e,11,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.MONTH.value),t(e,13,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.WEEK.value),t(e,15,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.DAY.value),t(e,17,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)<1),t(e,19,0,n.displayLoading)},null)}var Ji=function(){function t(t,e,n,i){var a=this;this.caseDataService=t,this.outbreakDataService=e,this.referenceDataDataService=n,this.i18nService=i,this.chartData=[],this.chartDataCategories=[],this.chartDataColumns=[],this.viewType=ke.b.EPI_CURVE_VIEW_TYPE.WEEK.value,this.mapCaseClassifications={},this.colorPattern=[],this.Constants=ke.b,this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){a.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.refdataSubscriber=this.referenceDataDataService.getReferenceDataByCategory(Te.a.CASE_CLASSIFICATION).subscribe(function(e){t.mapCaseClassifications={},De.forEach(e.entries,function(e){t.mapCaseClassifications[e.value]={},t.mapCaseClassifications[e.value].valueTranslated=t.i18nService.instant(e.value),t.mapCaseClassifications[e.value].colorCode=e.colorCode}),t.outbreakSubscriber&&(t.outbreakSubscriber.unsubscribe(),t.outbreakSubscriber=null),t.outbreakSubscriber=t.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refdataSubscriber&&(this.refdataSubscriber.unsubscribe(),this.refdataSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.setEpiCurveResults=function(t){var e=this;this.colorPattern=[],this.chartDataCategories=[],this.chartDataColumns=[];var n={};return De.forEach(t,function(t){e.chartDataCategories.push(t.start.format(ke.b.DEFAULT_DATE_DISPLAY_FORMAT)),De.each(t.classification,function(t,i){if(i!==ke.b.CASE_CLASSIFICATION.NOT_A_CASE&&e.mapCaseClassifications[i]){var a=e.mapCaseClassifications[i].valueTranslated;n[a]?n[a].push(t):(e.chartDataColumns.push(a),e.colorPattern.push(e.mapCaseClassifications[i].colorCode),n[a]=[],n[a].push(a),n[a].push(t))}})}),n},t.prototype.changeView=function(t){this.viewType=t,this.refreshDataCaller.call()},t.prototype.refreshData=function(){var t=this;if(this.outbreakId&&!De.isEmpty(this.mapCaseClassifications)){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;e.filter.firstLevelConditions(),e.filter.byEquality("endDate",this.globalFilterDate?this.globalFilterDate.clone().endOf("day").toISOString():Object(Ni.a)().endOf("day").toISOString()),this.globalFilterLocationId&&e.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),e.filter.byEquality("periodType",this.viewType),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesStratifiedByClassificationOverReportingTime(this.outbreakId,e).subscribe(function(e){t.chartData=[];var n=t.setEpiCurveResults(e);De.each(n,function(e){t.chartData.push(e)}),t.displayLoading=!1})}},t}(),ta=i["\u0275crt"]({encapsulation:2,styles:[["app-epi-curve-reporting-dashlet .dashlet-no-data{height:356px}app-epi-curve-reporting-dashlet .dashlet-loading{height:356px;width:100%;text-align:center}app-epi-curve-reporting-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:relative;top:calc(50% - 16px)}app-epi-curve-reporting-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function ea(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.MONTH.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.MONTH.label)))})}function na(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.WEEK.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.WEEK.label)))})}function ia(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0,a=t.component;return"click"===e&&(i=!1!==a.changeView(a.Constants.EPI_CURVE_VIEW_TYPE.DAY.value)&&i),i},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],null,null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.Constants.EPI_CURVE_VIEW_TYPE.DAY.label)))})}function aa(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_CASES_COUNT_OVER_TIME_NO_DATA_LABEL")))})}function oa(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function ra(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),i["\u0275did"](1,4866048,null,0,Oi.b,[i.ElementRef,Oi.e,Z.i,Z.f,Z.e,i.PLATFORM_ID,[2,Z.g]],{fxShow:[0,"fxShow"]},null),(t()(),i["\u0275eld"](2,0,null,null,3,"app-c3-stacked-bar-chart",[],null,null,null,ki,Pi)),i["\u0275did"](3,770048,null,0,Fi,[],{chartData:[0,"chartData"],chartDataColumns:[1,"chartDataColumns"],chartDataCategories:[2,"chartDataCategories"],showLabels:[3,"showLabels"],xLabel:[4,"xLabel"],yLabel:[5,"yLabel"],colorPattern:[6,"colorPattern"]},null),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](6,0,null,null,9,"div",[["fxLayout","row"],["fxLayoutAlign","center"],["fxLayoutGap","10px"]],null,null,null,null,null)),i["\u0275did"](7,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](8,1720320,null,0,K.f,[i.ElementRef,i.NgZone,U.b,Z.i,[2,K.l],Z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),i["\u0275did"](9,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ea)),i["\u0275did"](11,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,na)),i["\u0275did"](13,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ia)),i["\u0275did"](15,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,aa)),i["\u0275did"](17,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,oa)),i["\u0275did"](19,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)>0),t(e,3,0,n.chartData,n.chartDataColumns,n.chartDataCategories,!1,i["\u0275unv"](e,3,4,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_EPI_CURVE_DATE_OF_ONSET_LABEL")),i["\u0275unv"](e,3,5,i["\u0275nov"](e,5).transform("LNG_PAGE_DASHBOARD_EPI_CURVE_NO_CASES_LABEL")),n.colorPattern),t(e,7,0,"row"),t(e,8,0,"10px"),t(e,9,0,"center"),t(e,11,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.MONTH.value),t(e,13,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.WEEK.value),t(e,15,0,n.viewType!==n.Constants.EPI_CURVE_VIEW_TYPE.DAY.value),t(e,17,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)<1),t(e,19,0,n.displayLoading)},null)}var la=n("ezpp"),sa=n("+jNO"),ua=n("VphZ"),ca=function(){function t(){this.showLabels=!1,this.xLabel="",this.yLabel="",this.y2Label="",this.colorPattern=[],this.maxTickCulling=1}return t.prototype.ngOnInit=function(){this.render()},t.prototype.ngOnDestroy=function(){this.destroyChart()},t.prototype.ngOnChanges=function(){this.render()},t.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.render=function(){var t,e,n=this;this.destroyChart(),this.chart=Ri.generate({bindto:"#"+this.chartId,oninit:function(){n.initialZoomRanges&&setTimeout(function(){n.chart.zoom(n.initialZoomRanges)})},onrendered:function(){n.configureNumberOfTicks(n.chartDataCategories.length),ua.selectAll("app-c3-combination-stacked-bar-chart .c3-chart-texts .c3-chart-text:nth-of-type(3) .c3-texts .c3-text").attr("y","15px"),ua.selectAll("app-c3-combination-stacked-bar-chart .c3-chart-texts .c3-chart-text:nth-of-type(1) .c3-texts .c3-text").attr("y","31px"),ua.selectAll("app-c3-combination-stacked-bar-chart .c3-chart-texts .c3-chart-text:nth-of-type(2) .c3-texts .c3-text").attr("y","47px")},zoom:{enabled:!0,rescale:!1,onzoom:function(t){t&&n.configureNumberOfTicks(t[1]-t[0])},initialRange:this.initialZoomRanges?this.initialZoomRanges:void 0},interaction:{enabled:!1},tooltip:{show:!0},transition:{duration:0},data:{columns:this.chartData,type:"bar",types:(t={},t[this.lineData]="spline",t),groups:[this.chartDataColumns],labels:this.showLabels,axes:(e={},e[this.lineData]="y2",e)},point:{show:!1},bar:{width:{ratio:.9}},axis:{x:{label:{text:this.xLabel,position:"outer-right"},type:"category",categories:this.chartDataCategories,tick:{width:100,culling:{max:this.maxTickCulling},rotate:70}},y:{inner:!0,label:{text:this.yLabel,position:"outer-middle"},padding:{top:0,bottom:0}},y2:{show:!0,inner:!0,label:{text:this.y2Label,position:"outer-middle"},max:this.y2Max,min:this.y2Min,padding:{top:0,bottom:0}}},legend:{item:{onclick:function(t){return!1}}},padding:{left:25,right:25},color:{pattern:this.colorPattern}})},t.prototype.configureNumberOfTicks=function(t){var e=document.getElementById(this.chartId);if(e){var n=e.querySelectorAll(".c3-axis-x");if(n&&!(n.length<1)){var i=n[0];i&&i.classList&&(t<70?(i.classList.add("c3-axis-x-n"),i.classList.remove("c3-axis-x-2n"),i.classList.remove("c3-axis-x-3n"),i.classList.remove("c3-axis-x-5n"),i.classList.remove("c3-axis-x-8n"),i.classList.remove("c3-axis-x-10n")):t<150?(i.classList.add("c3-axis-x-2n"),i.classList.remove("c3-axis-x-n"),i.classList.remove("c3-axis-x-3n"),i.classList.remove("c3-axis-x-5n"),i.classList.remove("c3-axis-x-8n"),i.classList.remove("c3-axis-x-10n")):t<250?(i.classList.add("c3-axis-x-3n"),i.classList.remove("c3-axis-x-n"),i.classList.remove("c3-axis-x-2n"),i.classList.remove("c3-axis-x-5n"),i.classList.remove("c3-axis-x-8n"),i.classList.remove("c3-axis-x-10n")):t<300?(i.classList.add("c3-axis-x-5n"),i.classList.remove("c3-axis-x-n"),i.classList.remove("c3-axis-x-2n"),i.classList.remove("c3-axis-x-3n"),i.classList.remove("c3-axis-x-8n"),i.classList.remove("c3-axis-x-10n")):t<350?(i.classList.add("c3-axis-x-8n"),i.classList.remove("c3-axis-x-n"),i.classList.remove("c3-axis-x-2n"),i.classList.remove("c3-axis-x-3n"),i.classList.remove("c3-axis-x-5n"),i.classList.remove("c3-axis-x-10n")):(i.classList.add("c3-axis-x-10n"),i.classList.remove("c3-axis-x-n"),i.classList.remove("c3-axis-x-2n"),i.classList.remove("c3-axis-x-3n"),i.classList.remove("c3-axis-x-5n"),i.classList.remove("c3-axis-x-8n")))}}},t}(),da=i["\u0275crt"]({encapsulation:2,styles:[["app-c3-combination-stacked-bar-chart .c3 line,app-c3-combination-stacked-bar-chart .c3 path{fill:none}app-c3-combination-stacked-bar-chart .c3-legend-item{cursor:default!important}app-c3-combination-stacked-bar-chart .tick{font-size:12px}app-c3-combination-stacked-bar-chart .c3-axis{fill:#000}app-c3-combination-stacked-bar-chart .c3-axis line,app-c3-combination-stacked-bar-chart .c3-axis path{stroke:#ccc;fill:none!important}app-c3-combination-stacked-bar-chart .c3-axis-y .tick line{stroke:#fff;fill:#fff}app-c3-combination-stacked-bar-chart .c3-axis-x-10n .tick text{display:none!important}app-c3-combination-stacked-bar-chart .c3-axis-x-10n .tick:nth-child(10n) text{display:block!important}app-c3-combination-stacked-bar-chart .c3-axis-x-8n .tick text{display:none!important}app-c3-combination-stacked-bar-chart .c3-axis-x-8n .tick:nth-child(8n) text{display:block!important}app-c3-combination-stacked-bar-chart .c3-axis-x-5n .tick text{display:none!important}app-c3-combination-stacked-bar-chart .c3-axis-x-5n .tick:nth-child(5n) text{display:block!important}app-c3-combination-stacked-bar-chart .c3-axis-x-3n .tick text{display:none!important}app-c3-combination-stacked-bar-chart .c3-axis-x-3n .tick:nth-child(3n) text{display:block!important}app-c3-combination-stacked-bar-chart .c3-axis-x-2n .tick text{display:none!important}app-c3-combination-stacked-bar-chart .c3-axis-x-2n .tick:nth-child(2n) text{display:block!important}app-c3-combination-stacked-bar-chart .c3-axis-x-n .tick text{display:none!important}app-c3-combination-stacked-bar-chart .c3-axis-x-n .tick:nth-child(n) text{display:block!important}app-c3-combination-stacked-bar-chart .c3-chart-texts .c3-chart-text .c3-texts .c3-text{text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,-1px 1px 0 #fff}"]],data:{}});function ha(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.component.chartId)})}var pa=n("8LjV"),fa=function(){function t(t,e,n){var i=this;this.contactDataService=t,this.outbreakDataService=e,this.i18nService=n,this.chartData=[],this.chartDataCategories=[],this.chartDataColumns=[],this.lineData="",this.viewType=ke.b.EPI_CURVE_VIEW_TYPE.MONTH.value,this.colorPattern=[],this.Constants=ke.b,this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){i.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.outbreak=e,t.refreshDataCaller.call())})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.setContactFollowUpReportResults=function(t){var e,n=this;this.colorPattern=[],this.chartDataCategories=[],this.chartDataColumns=[];var i={},a=this.i18nService.instant("LNG_PAGE_DASHBOARD_CONTACT_FOLLOW_UP_REPORT_FOLLOWED_UP_LABEL"),o=this.i18nService.instant("LNG_PAGE_DASHBOARD_CONTACT_FOLLOW_UP_REPORT_NOT_FOLLOWED_UP_LABEL"),r=this.i18nService.instant("LNG_PAGE_DASHBOARD_CONTACT_FOLLOW_UP_REPORT_NOT_PERCENTAGE_LABEL");this.showLabels={format:(e={},e[a]=function(t){return t.toString()},e[o]=function(t){return t.toString()},e[r]=function(t){return t.toString()+" %"},e)},De.forEach(t,function(t){n.chartDataCategories.push(Object(Ni.a)(t.day).format(ke.b.DEFAULT_DATE_DISPLAY_FORMAT)),i[a]?i[a].push(t.followedUp):(n.chartDataColumns.push(a),n.colorPattern.push(ke.b.DEFAULT_COLOR_CHART_CONTACTS_FOLLOWED),i[a]=[],i[a].push(a),i[a].push(t.followedUp)),i[o]?i[o].push(t.notFollowedUp):(n.chartDataColumns.push(o),n.colorPattern.push(ke.b.DEFAULT_COLOR_CHART_CONTACTS_NOT_FOLLOWED),i[o]=[],i[o].push(o),i[o].push(t.notFollowedUp)),i[r]?i[r].push(Math.round(t.percentage)):(n.colorPattern.push(ke.b.DEFAULT_COLOR_CHART_CONTACTS_PERCENTAGE),i[r]=[],i[r].push(r),i[r].push(Math.round(t.percentage)))});var l=i[a].length;return this.dashletZoomRanges=[l-this.outbreak.periodOfFollowup,l],this.lineData=r,i},t.prototype.refreshData=function(){var t=this;if(this.outbreakId){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;e.filter.firstLevelConditions(),e.filter.byEquality("endDate",this.globalFilterDate?this.globalFilterDate.clone().endOf("day").toISOString():Object(Ni.a)().endOf("day").toISOString()),this.globalFilterLocationId&&e.filter.byEquality("address.parentLocationIdFilter",this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null);var n={startDate:this.outbreak.startDate};this.displayLoading=!0,this.previousSubscriber=this.contactDataService.getContactsFollowedUpReport(this.outbreakId,n,e).subscribe(function(e){t.chartData=[];var n=t.setContactFollowUpReportResults(e);De.each(n,function(e){t.chartData.push(e)}),t.displayLoading=!1})}},t}(),ga=i["\u0275crt"]({encapsulation:2,styles:[["app-contact-follow-up-overview-dashlet .c3-area{opacity:1!important}app-contact-follow-up-overview-dashlet .dashlet-no-data{height:356px}app-contact-follow-up-overview-dashlet .dashlet-loading{height:356px;width:100%;text-align:center}app-contact-follow-up-overview-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:relative;top:calc(50% - 16px)}app-contact-follow-up-overview-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function ba(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_CASES_COUNT_OVER_TIME_NO_DATA_LABEL")))})}function ma(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function va(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),i["\u0275did"](1,4866048,null,0,Oi.b,[i.ElementRef,Oi.e,Z.i,Z.f,Z.e,i.PLATFORM_ID,[2,Z.g]],{fxShow:[0,"fxShow"]},null),(t()(),i["\u0275eld"](2,0,null,null,4,"app-c3-combination-stacked-bar-chart",[["chartId","c3FollowedUpReport"]],null,null,null,ha,da)),i["\u0275did"](3,770048,null,0,ca,[],{chartData:[0,"chartData"],chartDataColumns:[1,"chartDataColumns"],chartDataCategories:[2,"chartDataCategories"],showLabels:[3,"showLabels"],xLabel:[4,"xLabel"],yLabel:[5,"yLabel"],y2Label:[6,"y2Label"],colorPattern:[7,"colorPattern"],lineData:[8,"lineData"],chartId:[9,"chartId"],y2Max:[10,"y2Max"],y2Min:[11,"y2Min"],initialZoomRanges:[12,"initialZoomRanges"]},null),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](16777216,null,null,1,null,ba)),i["\u0275did"](8,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ma)),i["\u0275did"](10,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)>0),t(e,3,1,[n.chartData,n.chartDataColumns,n.chartDataCategories,n.showLabels,i["\u0275unv"](e,3,4,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_CONTACT_FOLLOW_UP_REPORT_X_AXIS_LABEL")),i["\u0275unv"](e,3,5,i["\u0275nov"](e,5).transform("LNG_PAGE_DASHBOARD_CONTACT_FOLLOW_UP_REPORT_Y_AXIS_LABEL")),i["\u0275unv"](e,3,6,i["\u0275nov"](e,6).transform("LNG_PAGE_DASHBOARD_CONTACT_FOLLOW_UP_REPORT_Y2_AXIS_LABEL")),n.colorPattern,n.lineData,"c3FollowedUpReport",100,0,n.dashletZoomRanges]),t(e,8,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)<1),t(e,10,0,n.displayLoading)},null)}var xa=function(){function t(t,e,n){var i=this;this.caseDataService=t,this.outbreakDataService=e,this.i18nService=n,this.chartData=[],this.chartDataCategories=[],this.chartDataColumns=[],this.lineData="",this.colorPattern=[],this.Constants=ke.b,this.displayLoading=!0,this.refreshDataCaller=new Re.a(new Fe.a(function(){i.refreshData()}),100)}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.outbreak=e,t.refreshDataCaller.call())})},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t.prototype.setCasesBasedOnContactStatusReportResults=function(t){var e=this;this.colorPattern=[],this.chartDataCategories=[],this.chartDataColumns=[];var n={},i=this.i18nService.instant("LNG_PAGE_DASHBOARD_CASES_CONTACT_STATUS_REPORT_NOT_FROM_CONTACT_LABEL"),a=this.i18nService.instant("LNG_PAGE_DASHBOARD_CASES_CONTACT_STATUS_REPORT_FROM_CONTACT_WITH_FOLLOW_UP_COMPLETE_LABEL"),o=this.i18nService.instant("LNG_PAGE_DASHBOARD_CASES_CONTACT_STATUS_REPORT_FROM_CONTACT_WITH_FOLLOW_UP_LOST_LABEL"),r=this.i18nService.instant("LNG_PAGE_DASHBOARD_CASES_CONTACT_STATUS_REPORT_PERCENTAGE_LABEL");return De.forEach(t,function(t){e.chartDataCategories.push(Object(Ni.a)(t.start).format(ke.b.DEFAULT_DATE_DISPLAY_FORMAT)),n[i]?n[i].push(t.totalCasesNotFromContact):(e.chartDataColumns.push(i),e.colorPattern.push(ke.b.DEFAULT_COLOR_CHART_CASE_NOT_FROM_CONTACT),n[i]=[],n[i].push(i),n[i].push(t.totalCasesNotFromContact)),n[a]?n[a].push(t.totalCasesFromContactWithFollowupComplete):(e.chartDataColumns.push(a),e.colorPattern.push(ke.b.DEFAULT_COLOR_CHART_CASE_FROM_CONTACT_FOLLOW_UP_COMPLETE),n[a]=[],n[a].push(a),n[a].push(t.totalCasesFromContactWithFollowupComplete)),n[o]?n[o].push(t.totalCasesFromContactWithFollowupLostToFollowup):(e.chartDataColumns.push(o),e.colorPattern.push(ke.b.DEFAULT_COLOR_CHART_CASE_FROM_CONTACT_LOST_TO_FOLLOW_UP),n[o]=[],n[o].push(o),n[o].push(t.totalCasesFromContactWithFollowupLostToFollowup)),n[r]?n[r].push(t.percentageOfCasesWithFollowupData):(e.colorPattern.push(ke.b.DEFAULT_COLOR_CHART_CASE_FROM_CONTACT_PERCENTAGE),n[r]=[],n[r].push(r),n[r].push(t.percentageOfCasesWithFollowupData))}),this.lineData=r,n},t.prototype.refreshData=function(){var t=this;if(this.outbreakId){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null);var e=new Pe.d;e.filter.firstLevelConditions();var n=Object(Ni.a)().endOf("day").toISOString();this.globalFilterDate&&(n=this.globalFilterDate.clone().endOf("day").toISOString()),this.globalFilterLocationId&&e.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),e.filter.byEquality("periodType","day");var i=Object(Ni.a)(this.outbreak.startDate).startOf("day");e.filter.where({periodInterval:[i,n]}),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),De.isEmpty(this.globalFilterClassificationId)||e.filter.where({and:[{classification:{inq:this.globalFilterClassificationId}}]}),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesBasedOnContactStatusReport(this.outbreakId,e).subscribe(function(e){t.chartData=[];var n=t.setCasesBasedOnContactStatusReportResults(e);De.each(n,function(e){t.chartData.push(e)}),t.displayLoading=!1})}},t}(),_a=i["\u0275crt"]({encapsulation:2,styles:[["app-cases-based-on-contact-status-dashlet .dashlet-no-data{height:356px}app-cases-based-on-contact-status-dashlet .dashlet-loading{height:356px;width:100%;text-align:center}app-cases-based-on-contact-status-dashlet .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important;position:relative;top:calc(50% - 16px)}app-cases-based-on-contact-status-dashlet .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}"]],data:{}});function ya(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,6,"div",[["class","dashlet-no-data"],["fxFlex",""],["fxFlexAlign","center"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](2,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](3,671744,null,0,K.a,[i.ElementRef,Z.i,[2,K.g],Z.f],{fxFlexAlign:[0,"fxFlexAlign"]},null),i["\u0275did"](4,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](5,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](6,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,2,0,"column"),t(e,3,0,"center"),t(e,4,0,"")},function(t,e){t(e,6,0,i["\u0275unv"](e,6,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHLET_CASES_COUNT_OVER_TIME_NO_DATA_LABEL")))})}function Sa(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function Ca(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),i["\u0275did"](1,4866048,null,0,Oi.b,[i.ElementRef,Oi.e,Z.i,Z.f,Z.e,i.PLATFORM_ID,[2,Z.g]],{fxShow:[0,"fxShow"]},null),(t()(),i["\u0275eld"](2,0,null,null,4,"app-c3-combination-stacked-bar-chart",[["chartId","c3CasesBasedOnContactStatusReport"]],null,null,null,ha,da)),i["\u0275did"](3,770048,null,0,ca,[],{chartData:[0,"chartData"],chartDataColumns:[1,"chartDataColumns"],chartDataCategories:[2,"chartDataCategories"],showLabels:[3,"showLabels"],xLabel:[4,"xLabel"],yLabel:[5,"yLabel"],y2Label:[6,"y2Label"],colorPattern:[7,"colorPattern"],lineData:[8,"lineData"],chartId:[9,"chartId"],y2Max:[10,"y2Max"],y2Min:[11,"y2Min"]},null),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](16777216,null,null,1,null,ya)),i["\u0275did"](8,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Sa)),i["\u0275did"](10,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)>0),t(e,3,1,[n.chartData,n.chartDataColumns,n.chartDataCategories,!1,i["\u0275unv"](e,3,4,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_CASES_CONTACT_STATUS_REPORT_X_AXIS_LABEL")),i["\u0275unv"](e,3,5,i["\u0275nov"](e,5).transform("LNG_PAGE_DASHBOARD_CASES_CONTACT_STATUS_REPORT_Y_AXIS_LABEL")),i["\u0275unv"](e,3,6,i["\u0275nov"](e,6).transform("LNG_PAGE_DASHBOARD_CASES_CONTACT_STATUS_REPORT_Y2_AXIS_LABEL")),n.colorPattern,n.lineData,"c3CasesBasedOnContactStatusReport",100,0]),t(e,8,0,!n.displayLoading&&(null==n.chartData?null:n.chartData.length)<1),t(e,10,0,n.displayLoading)},null)}var Aa=function(){function t(){this.hide=new i.EventEmitter,this.moveBefore=new i.EventEmitter,this.moveAfter=new i.EventEmitter,this.displayLoading=!1}return t.prototype.onHide=function(){this.hide.emit()},t.prototype.onMoveBefore=function(){this.moveBefore.emit()},t.prototype.onMoveAfter=function(){this.moveAfter.emit()},t}(),wa=i["\u0275crt"]({encapsulation:2,styles:[[".dashlet-menu-item{height:30px!important;line-height:30px!important}@media all and (-ms-high-contrast:none){.ie-header-class app-form-input{min-width:40px!important}}app-dashboard-custom-metric-dashlet .dashboard-box{height:170px;color:#fff;margin:10px;width:auto}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header{text-align:left;padding:7px 7px 7px 15px;font-size:14px;min-height:27px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .mat-form-field-infix{padding:6px;border-top:none}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .mat-form-field-wrapper{padding-bottom:0}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .mat-form-field-underline{bottom:0;background-color:#fff}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .mat-form-field-label{color:#f0f0f0;top:12px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .mat-form-field-should-float .mat-form-field-label{display:none!important}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select{padding:0}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-select-bottom{margin-top:17px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-select-top{margin-bottom:20px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-arrow,app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-clear,app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-placeholder,app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-select-container,app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select input{color:#fff!important}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-clear-wrapper.ng-star-inserted{position:absolute;right:15px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-spinner-loader{position:absolute;right:30px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-arrow-wrapper,app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-clear-wrapper{border-top:none!important}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-value-container{padding:0 15px 0 0!important;width:300px;max-width:300px;border-top:none}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-value-container .ng-placeholder{top:0}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-select-container{align-items:normal;min-height:28px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-select-container:after{border-color:#fff}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select .ng-has-value .ng-placeholder,app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header .ng-select.ng-select-focused .ng-placeholder{display:none!important;transform:none!important}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header app-form-input{max-width:50px;text-align:center}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header app-form-daterange{max-width:240px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-header app-form-location-dropdown{min-width:200px}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-content{text-align:center;padding:15px;font-size:60px;font-weight:700;min-height:70px;line-height:normal}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-content .dashlet-loading mat-spinner{display:inline-block;width:32px!important;height:32px!important}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-content .dashlet-loading mat-spinner svg{width:32px!important;height:32px!important}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-content .dashlet-loading mat-spinner svg circle{stroke:#fff}app-dashboard-custom-metric-dashlet .dashboard-box .dashboard-box-content span[ng-reflect-router-link]{cursor:pointer}"]],data:{}});function Ta(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"span",[],null,[[null,"click"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==i["\u0275nov"](t,1).onClick()&&a),a},null,null)),i["\u0275did"](1,16384,null,0,Me.l,[Me.k,Me.a,[8,null],i.Renderer2,i.ElementRef],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(t()(),i["\u0275ted"](2,null,[" "," "]))],function(t,e){var n=e.component;t(e,1,0,n.params,n.link)},function(t,e){t(e,2,0,e.component.value)})}function La(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),i["\u0275ted"](1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.value)})}function Ea(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Ta)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),i["\u0275and"](0,[["noLink",2]],null,0,null,La))],function(t,e){t(e,2,0,e.component.link,i["\u0275nov"](e,3))},null)}function Da(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"div",[["class","dashlet-loading"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,Ce.b,Ce.a)),i["\u0275did"](2,49152,null,0,Ae.d,[i.ElementRef,V.a,[2,x.DOCUMENT],[2,M.a],Ae.a],null,null)],null,function(t,e){t(e,1,0,i["\u0275nov"](e,2)._noopAnimations,i["\u0275nov"](e,2).diameter,i["\u0275nov"](e,2).diameter)})}function Ia(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,33,"div",[["class","dashboard-box"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,27,"div",[["class","dashboard-box-header"]],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,26,"div",[["class","ie-header-class"],["fxLayout","row"],["fxLayoutAlign","space-between center"]],null,null,null,null,null)),i["\u0275did"](3,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](4,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),i["\u0275ncd"](null,0),(t()(),i["\u0275eld"](6,0,null,null,22,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](7,16777216,null,null,4,"button",[["aria-haspopup","true"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(t,e,n){var a=!0;return"mousedown"===e&&(a=!1!==i["\u0275nov"](t,9)._handleMousedown(n)&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,9)._handleKeydown(n)&&a),"click"===e&&(a=!1!==i["\u0275nov"](t,9)._handleClick(n)&&a),a},k.d,k.b)),i["\u0275did"](8,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],{disableRipple:[0,"disableRipple"]},null),i["\u0275did"](9,1196032,null,0,B.f,[H.c,i.ElementRef,i.ViewContainerRef,B.b,[2,B.c],[8,null],[2,U.b],G.h],{menu:[0,"menu"]},null),(t()(),i["\u0275eld"](10,0,null,0,1,"span",[["class","xt-icon"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["menu"])),(t()(),i["\u0275eld"](12,0,null,null,16,"mat-menu",[],null,null,null,q.d,q.a)),i["\u0275did"](13,1294336,[["actionsMenu",4]],2,B.c,[i.ElementRef,i.NgZone,B.a],null,null),i["\u0275qud"](603979776,1,{items:1}),i["\u0275qud"](335544320,2,{lazyContent:0}),i["\u0275prd"](2048,null,B.h,null,[B.c]),(t()(),i["\u0275eld"](17,0,null,0,3,"button",[["class","dashlet-menu-item mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,n){var a=!0,o=t.component;return"click"===e&&(a=!1!==i["\u0275nov"](t,18)._checkDisabled(n)&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,18)._handleMouseEnter()&&a),"click"===e&&(a=!1!==o.onHide()&&a),a},q.c,q.b)),i["\u0275did"](18,180224,[[1,4]],0,B.d,[i.ElementRef,x.DOCUMENT,G.h,[2,B.h]],null,null),(t()(),i["\u0275ted"](19,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](21,0,null,0,3,"button",[["class","dashlet-menu-item mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,n){var a=!0,o=t.component;return"click"===e&&(a=!1!==i["\u0275nov"](t,22)._checkDisabled(n)&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,22)._handleMouseEnter()&&a),"click"===e&&(a=!1!==o.onMoveBefore()&&a),a},q.c,q.b)),i["\u0275did"](22,180224,[[1,4]],0,B.d,[i.ElementRef,x.DOCUMENT,G.h,[2,B.h]],null,null),(t()(),i["\u0275ted"](23,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](25,0,null,0,3,"button",[["class","dashlet-menu-item mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,n){var a=!0,o=t.component;return"click"===e&&(a=!1!==i["\u0275nov"](t,26)._checkDisabled(n)&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,26)._handleMouseEnter()&&a),"click"===e&&(a=!1!==o.onMoveAfter()&&a),a},q.c,q.b)),i["\u0275did"](26,180224,[[1,4]],0,B.d,[i.ElementRef,x.DOCUMENT,G.h,[2,B.h]],null,null),(t()(),i["\u0275ted"](27,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](29,0,null,null,4,"div",[["class","dashboard-box-content"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Ea)),i["\u0275did"](31,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Da)),i["\u0275did"](33,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,"row"),t(e,4,0,"space-between center"),t(e,8,0,!0),t(e,9,0,i["\u0275nov"](e,13)),t(e,13,0),t(e,31,0,!n.displayLoading),t(e,33,0,n.displayLoading)},function(t,e){t(e,7,0,i["\u0275nov"](e,8).disabled||null,"NoopAnimations"===i["\u0275nov"](e,8)._animationMode,i["\u0275nov"](e,9).menuOpen||null),t(e,17,0,i["\u0275nov"](e,18).role,i["\u0275nov"](e,18)._highlighted,i["\u0275nov"](e,18)._triggersSubmenu,i["\u0275nov"](e,18)._getTabIndex(),i["\u0275nov"](e,18).disabled.toString(),i["\u0275nov"](e,18).disabled||null),t(e,19,0,i["\u0275unv"](e,19,0,i["\u0275nov"](e,20).transform("LNG_PAGE_DASHBOARD_KPI_DASHLET_MENU_HIDE_LABEL"))),t(e,21,0,i["\u0275nov"](e,22).role,i["\u0275nov"](e,22)._highlighted,i["\u0275nov"](e,22)._triggersSubmenu,i["\u0275nov"](e,22)._getTabIndex(),i["\u0275nov"](e,22).disabled.toString(),i["\u0275nov"](e,22).disabled||null),t(e,23,0,i["\u0275unv"](e,23,0,i["\u0275nov"](e,24).transform("LNG_PAGE_DASHBOARD_KPI_DASHLET_MENU_MOVE_BEFORE_LABEL"))),t(e,25,0,i["\u0275nov"](e,26).role,i["\u0275nov"](e,26)._highlighted,i["\u0275nov"](e,26)._triggersSubmenu,i["\u0275nov"](e,26)._getTabIndex(),i["\u0275nov"](e,26).disabled.toString(),i["\u0275nov"](e,26).disabled||null),t(e,27,0,i["\u0275unv"](e,27,0,i["\u0275nov"](e,28).transform("LNG_PAGE_DASHBOARD_KPI_DASHLET_MENU_MOVE_AFTER_LABEL")))})}var Oa=function(){return(Oa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},Ra=function(){function t(t,e){var n=this;this.listFilterDataService=t,this.authDataService=e,this.hide=new i.EventEmitter,this.moveBefore=new i.EventEmitter,this.moveAfter=new i.EventEmitter,this.refreshDataCaller=new Re.a(new Fe.a(function(){n.refreshData()}),100),this.authUser=this.authDataService.getAuthenticatedUser()}return Object.defineProperty(t.prototype,"globalFilterDate",{get:function(){return this._globalFilterDate},set:function(t){this._globalFilterDate=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterLocationId",{get:function(){return this._globalFilterLocationId},set:function(t){this._globalFilterLocationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalFilterClassificationId",{get:function(){return this._globalFilterClassificationId},set:function(t){this._globalFilterClassificationId=t,this.refreshDataCaller.call()},enumerable:!0,configurable:!0}),t.prototype.onHide=function(){this.hide.emit()},t.prototype.onMoveBefore=function(){this.moveBefore.emit()},t.prototype.onMoveAfter=function(){this.moveAfter.emit()},t.prototype.getGlobalFilterQB=function(t,e,n){return this.listFilterDataService.getGlobalFilterQB(t,this.globalFilterDate,e,this.globalFilterLocationId,n?this.globalFilterClassificationId:null)},t.prototype.getDashletParamsIncludingGlobalFilters=function(t){void 0===t&&(t={});var e={};return De.isEmpty(this.globalFilterDate)||(e.date=this.globalFilterDate),De.isEmpty(this.globalFilterLocationId)||(e.locationId=this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||(e.classificationId=this.globalFilterClassificationId),De.isEmpty(e)?t||{}:Oa({global:JSON.stringify(e)},t)},t.prototype.releaseSubscribers=function(){this.refreshDataCaller&&(this.refreshDataCaller.unsubscribe(),this.refreshDataCaller=null)},t}(),Fa=n("16bQ"),Pa=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.caseDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.displayLoading=!1,o.Constants=ke.b,o.CaseModel=Ne.a,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=this.getGlobalFilterQB(null,"addresses.parentLocationIdFilter",!0);e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.globalFilterDate&&e.filter.byDateRange("dateOfOutcome",{endDate:this.globalFilterDate.endOf("day").format()}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getDeceasedCasesCount(this.outbreakId,e).subscribe(function(e){t.casesDeceasedCount=e.count,t.displayLoading=!1})}},e}(Ra),ka=i["\u0275crt"]({encapsulation:2,styles:[["app-cases-deceased-dashlet .dashboard-box-header{background-color:#aa3206}app-cases-deceased-dashlet .dashboard-box-content{background-color:#f44708}"]],data:{}});function Na(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.casesDeceasedCount,a=n.CaseModel.canList(n.authUser)?"/cases":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CASES_DECEASED));t(e,1,0,i,a,o,n.displayLoading)},function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_KPI_CASES_DECEASED_TITLE")))})}var Va=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.caseDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.Constants=ke.b,o.CaseModel=Ne.a,o.displayLoading=!1,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=this.getGlobalFilterQB(null,"addresses.parentLocationIdFilter",!0);e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getHospitalisedCasesCount(this.outbreakId,this.globalFilterDate,e).subscribe(function(e){t.casesHospitalisedCount=e.count,t.displayLoading=!1})}},e}(Ra),Ga=i["\u0275crt"]({encapsulation:2,styles:[["app-cases-hospitalised-dashlet .dashboard-box-header{background-color:#aa3206}app-cases-hospitalised-dashlet .dashboard-box-content{background-color:#f44708}"]],data:{}});function Ma(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.casesHospitalisedCount,a=n.CaseModel.canList(n.authUser)?"/cases":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CASES_HOSPITALISED));t(e,1,0,i,a,o,n.displayLoading)},function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_KPI_CASES_HOSPITALISED_TITLE")))})}var Ba=n("rS/K"),Ha=n("hXUl"),Ua=n("fTuj"),ja=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.relationshipDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.Constants=ke.b,o.CaseModel=Ne.a,o.displayLoading=!1,o.triggerUpdateValues=new Re.a(new Fe.a(function(){o.refreshData()})),o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.xLessContacts=e.noLessContacts,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers(),this.triggerUpdateValues&&(this.triggerUpdateValues.unsubscribe(),this.triggerUpdateValues=null)},e.prototype.onChangeSetting=function(t){this.xLessContacts=t,this.triggerUpdateValues.call()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;e.filter.firstLevelConditions(),this.globalFilterDate&&e.filter.byDateRange("contactDate",{endDate:this.globalFilterDate.endOf("day").format()}),e.include("people").queryBuilder.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.globalFilterLocationId&&e.include("people").queryBuilder.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||e.include("people").queryBuilder.filter.where({and:[{classification:{inq:this.globalFilterClassificationId}}]});var n=De.isNumber(this.xLessContacts)||De.isEmpty(this.xLessContacts)?this.xLessContacts:De.parseInt(this.xLessContacts);De.isNumber(n)&&e.filter.byEquality("noLessContacts",n),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.relationshipDataService.getCountIdsOfCasesLessThanXContacts(this.outbreakId,e).subscribe(function(e){t.casesLessContactsCount=e.casesCount,t.displayLoading=!1})}},e}(Ra),za=i["\u0275crt"]({encapsulation:2,styles:[["app-cases-less-contacts-dashlet .dashboard-box-header{background-color:#aa3206}app-cases-less-contacts-dashlet .dashboard-box-content{background-color:#f44708}"]],data:{}});function Ya(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,18,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0,x:1}),(t()(),i["\u0275eld"](3,0,null,0,15,"div",[["fxLayout","row"],["fxLayoutGap","10px"]],null,null,null,null,null)),i["\u0275did"](4,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](5,1720320,null,0,K.f,[i.ElementRef,i.NgZone,U.b,Z.i,[2,K.l],Z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](9,0,null,null,5,"app-form-input",[["name","daysFilter"],["type","number"]],[[2,"form-element-host",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"optionChanged"]],function(t,e,n){var i=!0;return"optionChanged"===e&&(i=!1!==t.component.onChangeSetting(n)&&i),i},Ba.b,Ba.a)),i["\u0275did"](10,4243456,null,0,Ha.a,[[8,null],[2,Y.k],[2,Y.j],Oe.a],{type:[0,"type"],name:[1,"name"]},{optionChanged:"optionChanged"}),i["\u0275prd"](1024,null,Y.l,function(t){return[t]},[Ha.a]),i["\u0275did"](12,671744,null,0,Y.q,[[8,null],[8,null],[8,null],[6,Y.l]],{name:[0,"name"],model:[1,"model"]},null),i["\u0275prd"](2048,null,Y.m,null,[Y.q]),i["\u0275did"](14,16384,null,0,Y.n,[[4,Y.m]],null,null),(t()(),i["\u0275eld"](15,0,null,null,3,"div",[["fxFlexOffset","5px"]],null,null,null,null,null)),i["\u0275did"](16,671744,null,0,K.c,[i.ElementRef,U.b,[2,K.i],Z.f,Z.i],{fxFlexOffset:[0,"fxFlexOffset"]},null),(t()(),i["\u0275ted"](17,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.casesLessContactsCount,a=n.CaseModel.canList(n.authUser)?"/cases":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CASES_LESS_CONTACTS,n.xLessContacts));t(e,1,0,i,a,o,n.displayLoading),t(e,4,0,"row"),t(e,5,0,"10px"),t(e,10,0,"number","daysFilter"),t(e,12,0,"daysFilter",n.xLessContacts),t(e,16,0,"5px")},function(t,e){t(e,7,0,i["\u0275unv"](e,7,0,i["\u0275nov"](e,8).transform("LNG_PAGE_DASHBOARD_KPI_CASES_LESS_CONTACTS_TITLE_BEFORE_VALUE"))),t(e,9,0,i["\u0275nov"](e,10).isFormElement,i["\u0275nov"](e,14).ngClassUntouched,i["\u0275nov"](e,14).ngClassTouched,i["\u0275nov"](e,14).ngClassPristine,i["\u0275nov"](e,14).ngClassDirty,i["\u0275nov"](e,14).ngClassValid,i["\u0275nov"](e,14).ngClassInvalid,i["\u0275nov"](e,14).ngClassPending),t(e,17,0,i["\u0275unv"](e,17,0,i["\u0275nov"](e,18).transform("LNG_PAGE_DASHBOARD_KPI_CASES_LESS_CONTACTS_TITLE_AFTER_VALUE")))})}var Xa=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.relationshipDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.casesAmongContactsCount=0,o.newCases=0,o.Constants=ke.b,o.CaseModel=Ne.a,o.displayLoading=!1,o.triggerUpdateValues=new Re.a(new Fe.a(function(){o.refreshData()})),o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.xDaysAmongContacts=e.noDaysAmongContacts,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.triggerUpdateValues&&(this.triggerUpdateValues.unsubscribe(),this.triggerUpdateValues=null),this.releaseSubscribers()},e.prototype.onChangeSetting=function(t){this.xDaysAmongContacts=t,this.triggerUpdateValues.call()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=this.getGlobalFilterQB(null,"addresses.parentLocationIdFilter",!0);e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),e.filter.firstLevelConditions(),this.globalFilterDate&&e.filter.where({dateOfReporting:{lte:Object(Ni.a)(this.globalFilterDate).toISOString()}});var n=De.isNumber(this.xDaysAmongContacts)||De.isEmpty(this.xDaysAmongContacts)?this.xDaysAmongContacts:De.parseInt(this.xDaysAmongContacts);De.isNumber(n)&&(this.globalFilterDate&&(n+=Object(Ni.a)().endOf("day").diff(Object(Ni.a)(this.globalFilterDate).endOf("day"),"days")),e.filter.byEquality("noDaysAmongContacts",n)),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.relationshipDataService.getCountIdsOfCasesAmongKnownContacts(this.outbreakId,e).subscribe(function(e){t.casesAmongContactsCount=e.newCasesAmongKnownContactsCount,t.newCases=e.newCasesCount,t.displayLoading=!1})}},e}(Ra),Wa=i["\u0275crt"]({encapsulation:2,styles:[["app-new-cases-previous-days-contacts-dashlet .dashboard-box-header{background-color:#aa3206}app-new-cases-previous-days-contacts-dashlet .dashboard-box-content{background-color:#f44708}"]],data:{}});function qa(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,18,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0,x:1}),(t()(),i["\u0275eld"](3,0,null,0,15,"div",[["fxLayout","row"],["fxLayoutGap","10px"]],null,null,null,null,null)),i["\u0275did"](4,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](5,1720320,null,0,K.f,[i.ElementRef,i.NgZone,U.b,Z.i,[2,K.l],Z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](9,0,null,null,5,"app-form-input",[["name","daysFilter"],["type","number"]],[[2,"form-element-host",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"optionChanged"]],function(t,e,n){var i=!0;return"optionChanged"===e&&(i=!1!==t.component.onChangeSetting(n)&&i),i},Ba.b,Ba.a)),i["\u0275did"](10,4243456,null,0,Ha.a,[[8,null],[2,Y.k],[2,Y.j],Oe.a],{type:[0,"type"],name:[1,"name"]},{optionChanged:"optionChanged"}),i["\u0275prd"](1024,null,Y.l,function(t){return[t]},[Ha.a]),i["\u0275did"](12,671744,null,0,Y.q,[[8,null],[8,null],[8,null],[6,Y.l]],{name:[0,"name"],model:[1,"model"]},null),i["\u0275prd"](2048,null,Y.m,null,[Y.q]),i["\u0275did"](14,16384,null,0,Y.n,[[4,Y.m]],null,null),(t()(),i["\u0275eld"](15,0,null,null,3,"div",[["fxFlexOffset","5px"]],null,null,null,null,null)),i["\u0275did"](16,671744,null,0,K.c,[i.ElementRef,U.b,[2,K.i],Z.f,Z.i],{fxFlexOffset:[0,"fxFlexOffset"]},null),(t()(),i["\u0275ted"](17,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.casesAmongContactsCount+" / "+n.newCases,a=n.CaseModel.canList(n.authUser)?"/cases":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CASES_PREVIOUS_DAYS_CONTACTS,n.xDaysAmongContacts));t(e,1,0,i,a,o,n.displayLoading),t(e,4,0,"row"),t(e,5,0,"10px"),t(e,10,0,"number","daysFilter"),t(e,12,0,"daysFilter",n.xDaysAmongContacts),t(e,16,0,"5px")},function(t,e){t(e,7,0,i["\u0275unv"](e,7,0,i["\u0275nov"](e,8).transform("LNG_PAGE_DASHBOARD_KPI_CASES_NEW_PREVIOUS_DAYS_CONTACTS_BEFORE_VALUE"))),t(e,9,0,i["\u0275nov"](e,10).isFormElement,i["\u0275nov"](e,14).ngClassUntouched,i["\u0275nov"](e,14).ngClassTouched,i["\u0275nov"](e,14).ngClassPristine,i["\u0275nov"](e,14).ngClassDirty,i["\u0275nov"](e,14).ngClassValid,i["\u0275nov"](e,14).ngClassInvalid,i["\u0275nov"](e,14).ngClassPending),t(e,17,0,i["\u0275unv"](e,17,0,i["\u0275nov"](e,18).transform("LNG_PAGE_DASHBOARD_KPI_CASES_NEW_PREVIOUS_DAYS_CONTACTS_AFTER_VALUE")))})}var $a=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.caseDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.displayLoading=!1,o.Constants=ke.b,o.CaseModel=Ne.a,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=this.getGlobalFilterQB(null,"addresses.parentLocationIdFilter",!0);e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.globalFilterDate&&e.filter.byDateRange("dateOfOnset",{endDate:this.globalFilterDate.endOf("day").format()}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesRefusingTreatmentCount(this.outbreakId,e).subscribe(function(e){t.casesRefusingTreatmentCount=e.count,t.displayLoading=!1})}},e}(Ra),Qa=i["\u0275crt"]({encapsulation:2,styles:[["app-cases-refusing-treatment-dashlet .dashboard-box-header{background-color:#aa3206}app-cases-refusing-treatment-dashlet .dashboard-box-content{background-color:#f44708}"]],data:{}});function Ka(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.casesRefusingTreatmentCount,a=n.CaseModel.canList(n.authUser)?"/cases":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CASES_REFUSING_TREATMENT));t(e,1,0,i,a,o,n.displayLoading)},function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_KPI_CASES_REFUSING_TREATMENT_TITLE")))})}var Za=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.relationshipDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.casesKnownTransmissionChainsCount=0,o.totalCases=0,o.Constants=ke.b,o.CaseModel=Ne.a,o.displayLoading=!1,o.triggerUpdateValues=new Re.a(new Fe.a(function(){o.refreshData()})),o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.xPreviousDays=e.noDaysInChains,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.triggerUpdateValues&&(this.triggerUpdateValues.unsubscribe(),this.triggerUpdateValues=null),this.releaseSubscribers()},e.prototype.onChangeSetting=function(t){this.xPreviousDays=t,this.triggerUpdateValues.call()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;e.filter.firstLevelConditions();var n=De.isNumber(this.xPreviousDays)||De.isEmpty(this.xPreviousDays)?this.xPreviousDays:De.parseInt(this.xPreviousDays);De.isNumber(n)&&(this.globalFilterDate&&(n+=Object(Ni.a)().endOf("day").diff(Object(Ni.a)(this.globalFilterDate).endOf("day"),"days")),e.filter.byEquality("noDaysInChains",n)),this.globalFilterDate&&e.filter.where({contactDate:{lte:Object(Ni.a)(this.globalFilterDate).toISOString()}}),e.include("people").queryBuilder.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.globalFilterLocationId&&e.include("people").queryBuilder.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||e.include("people").queryBuilder.filter.where({and:[{classification:{inq:this.globalFilterClassificationId}}]}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.relationshipDataService.getCountOfCasesInTheTransmissionChains(this.outbreakId,e).subscribe(function(e){t.casesKnownTransmissionChainsCount=e.newCases,t.totalCases=e.total,t.displayLoading=!1})}},e}(Ra),Ja=i["\u0275crt"]({encapsulation:2,styles:[["app-new-cases-previous-days-transmission-chains-dashlet .dashboard-box-header{background-color:#aa3206}app-new-cases-previous-days-transmission-chains-dashlet .dashboard-box-content{background-color:#f44708}"]],data:{}});function to(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,17,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0,x:1}),(t()(),i["\u0275eld"](3,0,null,0,14,"div",[["fxLayout","row"],["fxLayoutGap","10px"]],null,null,null,null,null)),i["\u0275did"](4,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](5,1720320,null,0,K.f,[i.ElementRef,i.NgZone,U.b,Z.i,[2,K.l],Z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](9,0,null,null,5,"app-form-input",[["name","daysFilter"],["type","number"]],[[2,"form-element-host",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"optionChanged"]],function(t,e,n){var i=!0;return"optionChanged"===e&&(i=!1!==t.component.onChangeSetting(n)&&i),i},Ba.b,Ba.a)),i["\u0275did"](10,4243456,null,0,Ha.a,[[8,null],[2,Y.k],[2,Y.j],Oe.a],{type:[0,"type"],name:[1,"name"]},{optionChanged:"optionChanged"}),i["\u0275prd"](1024,null,Y.l,function(t){return[t]},[Ha.a]),i["\u0275did"](12,671744,null,0,Y.q,[[8,null],[8,null],[8,null],[6,Y.l]],{name:[0,"name"],model:[1,"model"]},null),i["\u0275prd"](2048,null,Y.m,null,[Y.q]),i["\u0275did"](14,16384,null,0,Y.n,[[4,Y.m]],null,null),(t()(),i["\u0275eld"](15,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](16,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.casesKnownTransmissionChainsCount+" / "+n.totalCases,a=n.CaseModel.canList(n.authUser)?"/cases":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CASES_IN_THE_TRANSMISSION_CHAINS,n.xPreviousDays));t(e,1,0,i,a,o,n.displayLoading),t(e,4,0,"row"),t(e,5,0,"10px"),t(e,10,0,"number","daysFilter"),t(e,12,0,"daysFilter",n.xPreviousDays)},function(t,e){t(e,7,0,i["\u0275unv"](e,7,0,i["\u0275nov"](e,8).transform("LNG_PAGE_DASHBOARD_KPI_NEW_CASES_PREVIOUS_DAYS_TRANSMISSION_CHAINS_BEFORE_VALUE"))),t(e,9,0,i["\u0275nov"](e,10).isFormElement,i["\u0275nov"](e,14).ngClassUntouched,i["\u0275nov"](e,14).ngClassTouched,i["\u0275nov"](e,14).ngClassPristine,i["\u0275nov"](e,14).ngClassDirty,i["\u0275nov"](e,14).ngClassValid,i["\u0275nov"](e,14).ngClassInvalid,i["\u0275nov"](e,14).ngClassPending),t(e,16,0,i["\u0275unv"](e,16,0,i["\u0275nov"](e,17).transform("LNG_PAGE_DASHBOARD_KPI_NEW_CASES_PREVIOUS_DAYS_TRANSMISSION_CHAINS_AFTER_VALUE")))})}var eo=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.caseDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.displayLoading=!1,o.Constants=ke.b,o.CaseModel=Ne.a,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=this.getGlobalFilterQB(null,"addresses.parentLocationIdFilter",!0);this.globalFilterDate&&e.filter.byDateRange("dateOfOnset",{endDate:this.globalFilterDate.endOf("day").format()}),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesPendingLabResultCount(this.outbreakId,e).subscribe(function(e){t.casesPendingLabResultCount=e.count,t.displayLoading=!1})}},e}(Ra),no=i["\u0275crt"]({encapsulation:2,styles:[["app-cases-pending-lab-results-dashlet .dashboard-box-header{background-color:#aa3206}app-cases-pending-lab-results-dashlet .dashboard-box-content{background-color:#f44708}"]],data:{}});function io(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.casesPendingLabResultCount,a=n.CaseModel.canList(n.authUser)?"/cases":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CASES_PENDING_LAB_RESULT));t(e,1,0,i,a,o,n.displayLoading)},function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_KPI_CASES_PENDING_LAB_RESULT")))})}var ao=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.caseDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.count=0,o.Constants=ke.b,o.CaseModel=Ne.a,o.displayLoading=!1,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=this.getGlobalFilterQB(null,"addresses.parentLocationIdFilter",!0);this.globalFilterDate&&e.filter.byDateRange("dateOfOnset",{endDate:this.globalFilterDate.endOf("day").format()}),e.merge(this.listFilterDataService.filterCasesNotIdentifiedThroughContacts()),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.caseDataService.getCasesCount(this.outbreakId,e).subscribe(function(e){t.count=e.count,t.displayLoading=!1})}},e}(Ra),oo=i["\u0275crt"]({encapsulation:2,styles:[["app-cases-not-identified-through-contacts-dashlet .dashboard-box-header{background-color:#aa3206}app-cases-not-identified-through-contacts-dashlet .dashboard-box-content{background-color:#f44708}"]],data:{}});function ro(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.count,a=n.CaseModel.canList(n.authUser)?"/cases":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CASES_NOT_IDENTIFIED_THROUGH_CONTACTS));t(e,1,0,i,a,o,n.displayLoading)},function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_KPI_CASES_NOT_IDENTIFIED_THROUGH_CONTACTS")))})}var lo=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.relationshipDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.displayLoading=!1,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;this.globalFilterDate&&e.filter.byDateRange("contactDate",{endDate:this.globalFilterDate.endOf("day").format()}),e.include("people").queryBuilder.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.globalFilterLocationId&&e.include("people").queryBuilder.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||e.include("people").queryBuilder.filter.where({and:[{classification:{inq:this.globalFilterClassificationId}}]}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.relationshipDataService.getMetricsOfContactsPerCase(this.outbreakId,e).subscribe(function(e){t.meanNoContactsPerCase=Math.round(e.meanNoContactsPerCase),t.displayLoading=!1})}},e}(Ra),so=i["\u0275crt"]({encapsulation:2,styles:[["app-contacts-per-case-mean-dashlet .dashboard-box-header{background-color:#af740d}app-contacts-per-case-mean-dashlet .dashboard-box-content{background-color:#faa613}"]],data:{}});function uo(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],params:[1,"params"],displayLoading:[2,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),(t()(),i["\u0275ted"](2,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,1,0,n.meanNoContactsPerCase,n.getDashletParamsIncludingGlobalFilters(),n.displayLoading)},function(t,e){t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_PER_CASE_MEAN_TITLE")))})}var co=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.relationshipDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.displayLoading=!1,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;this.globalFilterDate&&e.filter.byDateRange("contactDate",{endDate:this.globalFilterDate.endOf("day").format()}),e.include("people").queryBuilder.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.globalFilterLocationId&&e.include("people").queryBuilder.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||e.include("people").queryBuilder.filter.where({and:[{classification:{inq:this.globalFilterClassificationId}}]}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.relationshipDataService.getMetricsOfContactsPerCase(this.outbreakId,e).subscribe(function(e){t.medianNoContactsPerCase=Math.round(e.medianNoContactsPerCase),t.displayLoading=!1})}},e}(Ra),ho=i["\u0275crt"]({encapsulation:2,styles:[["app-contacts-per-case-median-dashlet .dashboard-box-header{background-color:#af740d}app-contacts-per-case-median-dashlet .dashboard-box-content{background-color:#faa613}"]],data:{}});function po(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],params:[1,"params"],displayLoading:[2,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),(t()(),i["\u0275ted"](2,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,1,0,n.medianNoContactsPerCase,n.getDashletParamsIncludingGlobalFilters(),n.displayLoading)},function(t,e){t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_PER_CASE_MEDIAN_TITLE")))})}var fo=n("LL+z"),go=n("uxMk"),bo=n("m6ct"),mo=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.followUpDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.contactsOnFollowUpListCount=0,o.Constants=ke.b,o.ContactModel=bo.a,o.dataForDate=Object(Ni.a)(),o.displayLoading=!1,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=this.getGlobalFilterQB(null,"address.parentLocationIdFilter",!1);De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.dataForDate=this.globalFilterDate?this.globalFilterDate.clone():Object(Ni.a)(),this.globalFilterDate&&e.filter.byEquality("startDate",this.globalFilterDate.startOf("day").toISOString()).byEquality("endDate",this.globalFilterDate.endOf("day").toISOString()),e.filter.firstLevelConditions(),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.followUpDataService.getCountIdsOfContactsOnTheFollowUpList(this.outbreakId,e).subscribe(function(e){t.contactsOnFollowUpListCount=e.contactsCount,t.displayLoading=!1})}},e}(Ra),vo=i["\u0275crt"]({encapsulation:2,styles:[["app-contacts-on-followup-list-dashlet .dashboard-box-header{background-color:#af740d}app-contacts-on-followup-list-dashlet .dashboard-box-content{background-color:#faa613}"]],data:{}});function xo(t){return i["\u0275vid"](0,[i["\u0275pid"](0,fo.a,[]),(t()(),i["\u0275eld"](1,0,null,null,6,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](2,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](3,{applyListFilter:0}),(t()(),i["\u0275ted"](4,0,[" ","\n"])),i["\u0275ppd"](5,1),i["\u0275pod"](6,{date:0}),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.contactsOnFollowUpListCount,a=n.ContactModel.canList(n.authUser)?"/contacts":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,3,0,n.Constants.APPLY_LIST_FILTER.CONTACTS_FOLLOWUP_LIST));t(e,2,0,i,a,o,n.displayLoading)},function(t,e){var n=e.component,a=i["\u0275unv"](e,4,0,i["\u0275nov"](e,7).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_FOLLOWUP_LIST_TITLE",t(e,6,0,i["\u0275unv"](e,4,0,t(e,5,0,i["\u0275nov"](e,0),n.dataForDate)))));t(e,4,0,a)})}var _o=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.outbreakDataService=e,o.followUpsDataService=n,o.listFilterDataService=i,o.authDataService=a,o.Constants=ke.b,o.ContactModel=bo.a,o.displayLoading=!1,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;e.filter.firstLevelConditions(),this.globalFilterDate&&e.filter.where({dateOfReporting:{lte:Object(Ni.a)(this.globalFilterDate).toISOString()}}),this.globalFilterLocationId&&e.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.followUpsDataService.getNumberOfContactsWhoAreLostToFollowUp(this.outbreakId,e).subscribe(function(e){t.noContactsLostToFollowUp=e.contactsCount,t.displayLoading=!1})}},e}(Ra),yo=i["\u0275crt"]({encapsulation:2,styles:[["app-contacts-lost-to-follow-up-dashlet .dashboard-box-header{background-color:#af740d}app-contacts-lost-to-follow-up-dashlet .dashboard-box-content{background-color:#faa613}"]],data:{}});function So(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.noContactsLostToFollowUp,a=n.ContactModel.canList(n.authUser)?"/contacts":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CONTACTS_LOST_TO_FOLLOW_UP));t(e,1,0,i,a,o,n.displayLoading)},function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_LOST_TO_FOLLOW_UP")))})}var Co=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.followUpDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.Constants=ke.b,o.ContactModel=bo.a,o.displayLoading=!1,o.triggerUpdateValues=new Re.a(new Fe.a(function(){o.refreshData()})),o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.xDaysNotSeen=e.noDaysNotSeen,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.triggerUpdateValues&&(this.triggerUpdateValues.unsubscribe(),this.triggerUpdateValues=null),this.releaseSubscribers()},e.prototype.onChangeSetting=function(t){this.xDaysNotSeen=t,this.triggerUpdateValues.call()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;e.filter.firstLevelConditions();var n=De.isNumber(this.xDaysNotSeen)||De.isEmpty(this.xDaysNotSeen)?this.xDaysNotSeen:De.parseInt(this.xDaysNotSeen);De.isNumber(n)&&(this.globalFilterDate&&(n+=Object(Ni.a)().endOf("day").diff(Object(Ni.a)(this.globalFilterDate).endOf("day"),"days")),e.filter.byEquality("noDaysNotSeen",n)),this.globalFilterDate&&e.filter.where({date:{lte:Object(Ni.a)(this.globalFilterDate).toISOString()}}),this.globalFilterLocationId&&e.include("contact").queryBuilder.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||e.filter.bySelect("classification",this.globalFilterClassificationId,!1,null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.followUpDataService.getCountIdsOfContactsNotSeen(this.outbreakId,e).subscribe(function(e){t.contactsNotSeenCount=e.contactsCount,t.displayLoading=!1})}},e}(Ra),Ao=i["\u0275crt"]({encapsulation:2,styles:[["app-contacts-not-seen-dashlet .dashboard-box-header{background-color:#af740d}app-contacts-not-seen-dashlet .dashboard-box-content{background-color:#faa613}"]],data:{}});function wo(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,18,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0,x:1}),(t()(),i["\u0275eld"](3,0,null,0,15,"div",[["fxLayout","row"],["fxLayoutGap","10px"]],null,null,null,null,null)),i["\u0275did"](4,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](5,1720320,null,0,K.f,[i.ElementRef,i.NgZone,U.b,Z.i,[2,K.l],Z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(t()(),i["\u0275eld"](6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](7,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](9,0,null,null,5,"app-form-input",[["name","daysFilter"],["type","number"]],[[2,"form-element-host",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"optionChanged"]],function(t,e,n){var i=!0;return"optionChanged"===e&&(i=!1!==t.component.onChangeSetting(n)&&i),i},Ba.b,Ba.a)),i["\u0275did"](10,4243456,null,0,Ha.a,[[8,null],[2,Y.k],[2,Y.j],Oe.a],{type:[0,"type"],name:[1,"name"]},{optionChanged:"optionChanged"}),i["\u0275prd"](1024,null,Y.l,function(t){return[t]},[Ha.a]),i["\u0275did"](12,671744,null,0,Y.q,[[8,null],[8,null],[8,null],[6,Y.l]],{name:[0,"name"],model:[1,"model"]},null),i["\u0275prd"](2048,null,Y.m,null,[Y.q]),i["\u0275did"](14,16384,null,0,Y.n,[[4,Y.m]],null,null),(t()(),i["\u0275eld"](15,0,null,null,3,"div",[["fxFlexOffset","5px"]],null,null,null,null,null)),i["\u0275did"](16,671744,null,0,K.c,[i.ElementRef,U.b,[2,K.i],Z.f,Z.i],{fxFlexOffset:[0,"fxFlexOffset"]},null),(t()(),i["\u0275ted"](17,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.contactsNotSeenCount,a=n.ContactModel.canList(n.authUser)?"/contacts":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.CONTACTS_NOT_SEEN,n.xDaysNotSeen));t(e,1,0,i,a,o,n.displayLoading),t(e,4,0,"row"),t(e,5,0,"10px"),t(e,10,0,"number","daysFilter"),t(e,12,0,"daysFilter",n.xDaysNotSeen),t(e,16,0,"5px")},function(t,e){t(e,7,0,i["\u0275unv"](e,7,0,i["\u0275nov"](e,8).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_NOT_SEEN_TITLE_BEFORE_VALUE"))),t(e,9,0,i["\u0275nov"](e,10).isFormElement,i["\u0275nov"](e,14).ngClassUntouched,i["\u0275nov"](e,14).ngClassTouched,i["\u0275nov"](e,14).ngClassPristine,i["\u0275nov"](e,14).ngClassDirty,i["\u0275nov"](e,14).ngClassValid,i["\u0275nov"](e,14).ngClassInvalid,i["\u0275nov"](e,14).ngClassPending),t(e,17,0,i["\u0275unv"](e,17,0,i["\u0275nov"](e,18).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_NOT_SEEN_TITLE_AFTER_VALUE")))})}var To=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.caseDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.CaseModel=Ne.a,o.queryParams={applyListFilter:ke.b.APPLY_LIST_FILTER.CONTACTS_BECOME_CASES},o.displayLoading=!1,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=this.getGlobalFilterQB(null,"addresses.parentLocationIdFilter",!0);this.globalFilterDate&&(e.filter.byBoolean("wasContact",!0),e.filter.byDateRange("dateBecomeCase",{endDate:this.globalFilterDate.endOf("day").format()})),e.filter.has("dateBecomeCase")||e.filter.where({wasContact:!0,dateBecomeCase:{neq:null}}),e.filter.where({classification:{neq:ke.b.CASE_CLASSIFICATION.NOT_A_CASE}}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=Object(Ke.a)(this.caseDataService.getCasesCount(this.outbreakId,e),this.caseDataService.getCasesCount(this.outbreakId)).subscribe(function(e){var n=e[1];t.contactsBecomeCasesCount=e[0].count,t.casesCount=n.count,t.displayLoading=!1})}},e}(Ra),Lo=i["\u0275crt"]({encapsulation:2,styles:[["app-contacts-become-cases-dashlet .dashboard-box-header{background-color:#af740d}app-contacts-become-cases-dashlet .dashboard-box-content{background-color:#faa613}"]],data:{}});function Eo(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,6,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),(t()(),i["\u0275eld"](2,0,null,0,4,"div",[["fxLayout","row"],["fxLayoutGap","10px"]],null,null,null,null,null)),i["\u0275did"](3,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](4,1720320,null,0,K.f,[i.ElementRef,i.NgZone,U.b,Z.i,[2,K.l],Z.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),(t()(),i["\u0275ted"](5,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,1,0,n.contactsBecomeCasesCount+" / "+n.casesCount,n.CaseModel.canList(n.authUser)?"/cases":"",n.getDashletParamsIncludingGlobalFilters(n.queryParams),n.displayLoading),t(e,3,0,"row"),t(e,4,0,"10px")},function(t,e){t(e,5,0,i["\u0275unv"](e,5,0,i["\u0275nov"](e,6).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_BECOMING_CASES_OVER_TIME_AND_PLACE")))})}var Do=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.listFilterDataService=e,i.authDataService=n,i.queryParams={applyListFilter:ke.b.APPLY_LIST_FILTER.CONTACTS_SEEN},i.dataForDate=Object(Ni.a)(),i.Constants=ke.b,i.ContactModel=bo.a,i.displayLoading=!1,i}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){this.refreshDataCaller.call()},e.prototype.ngOnDestroy=function(){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.dataForDate=this.globalFilterDate?this.globalFilterDate.clone():Object(Ni.a)(),this.displayLoading=!0,this.previousSubscriber=this.listFilterDataService.filterContactsSeen(this.globalFilterDate,this.globalFilterLocationId,this.globalFilterClassificationId).subscribe(function(e){t.contactsSeenEachDay=e.contactsSeenCount,t.displayLoading=!1})},e}(Ra),Io=i["\u0275crt"]({encapsulation:2,styles:[["app-contacts-seen-each-day-dashlet .dashboard-box-header{background-color:#af740d}app-contacts-seen-each-day-dashlet .dashboard-box-content{background-color:#faa613}app-contacts-seen-each-day-dashlet app-form-datepicker{max-width:120px}"]],data:{}});function Oo(t){return i["\u0275vid"](0,[i["\u0275pid"](0,fo.a,[]),(t()(),i["\u0275eld"](1,0,null,null,5,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](2,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275ppd"](4,1),i["\u0275pod"](5,{date:0}),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,2,0,n.contactsSeenEachDay,n.ContactModel.canList(n.authUser)?"/contacts":"",n.getDashletParamsIncludingGlobalFilters(n.queryParams),n.displayLoading)},function(t,e){var n=e.component,a=i["\u0275unv"](e,3,0,i["\u0275nov"](e,6).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_SEEN_EACH_DAY",t(e,5,0,i["\u0275unv"](e,3,0,t(e,4,0,i["\u0275nov"](e,0),n.dataForDate)))));t(e,3,0,a)})}var Ro=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.listFilterDataService=e,i.authDataService=n,i.ContactModel=bo.a,i.queryParams={applyListFilter:ke.b.APPLY_LIST_FILTER.CONTACTS_FOLLOWED_UP},i.displayLoading=!1,i.dataForDate=Object(Ni.a)(),i}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){this.refreshDataCaller.call()},e.prototype.ngOnDestroy=function(){this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.dataForDate=this.globalFilterDate?this.globalFilterDate.clone():Object(Ni.a)(),this.displayLoading=!0,this.previousSubscriber=this.listFilterDataService.filterContactsWithSuccessfulFollowup(this.globalFilterDate,this.globalFilterLocationId,this.globalFilterClassificationId).subscribe(function(e){t.contactsWithSuccessfulFollowup=e,t.displayLoading=!1})},e}(Ra),Fo=i["\u0275crt"]({encapsulation:2,styles:[["app-contacts-with-successful-follow-ups-dashlet .dashboard-box-header{background-color:#af740d}app-contacts-with-successful-follow-ups-dashlet .dashboard-box-content{background-color:#faa613}"]],data:{}});function Po(t){return i["\u0275vid"](0,[i["\u0275pid"](0,fo.a,[]),(t()(),i["\u0275eld"](1,0,null,null,5,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](2,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275ppd"](4,1),i["\u0275pod"](5,{date:0}),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,2,0,(null==n.contactsWithSuccessfulFollowup?null:n.contactsWithSuccessfulFollowup.contactsWithSuccessfulFollowupsCount)+" / "+(null==n.contactsWithSuccessfulFollowup?null:n.contactsWithSuccessfulFollowup.totalContactsWithFollowupsCount),n.ContactModel.canList(n.authUser)?"/contacts":"",n.getDashletParamsIncludingGlobalFilters(n.queryParams),n.displayLoading)},function(t,e){var n=e.component,a=i["\u0275unv"](e,3,0,i["\u0275nov"](e,6).transform("LNG_PAGE_DASHBOARD_KPI_CONTACTS_WITH_SUCCESSFUL_FOLLOW_UP",t(e,5,0,i["\u0275unv"](e,3,0,t(e,4,0,i["\u0275nov"](e,0),n.dataForDate)))));t(e,3,0,a)})}var ko=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.transmissionChainDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.displayLoading=!1,o.TransmissionChainModel=Si.a,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;if(e.filter.firstLevelConditions(),this.globalFilterDate&&e.filter.byEquality("endDate",this.globalFilterDate.endOf("day").toISOString()),this.globalFilterLocationId&&e.addChildQueryBuilder("person").filter.where({or:[{type:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_EVENT","address.parentLocationIdFilter":this.globalFilterLocationId},{type:{inq:["LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE","LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CONTACT"]},"addresses.parentLocationIdFilter":this.globalFilterLocationId}]}),!De.isEmpty(this.globalFilterClassificationId)){var n={or:[{type:{neq:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE"}},{type:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE",classification:{inq:this.globalFilterClassificationId}}]};e.filter.where(n),e.addChildQueryBuilder("person").filter.where(n)}this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.transmissionChainDataService.getCountIndependentTransmissionChains(this.outbreakId,e).subscribe(function(e){t.independentTransmissionChainsCount=e.length,t.displayLoading=!1})}},e}(Ra),No=i["\u0275crt"]({encapsulation:2,styles:[["app-independent-transmission-chains-dashlet .dashboard-box-header{background-color:#65007d}app-independent-transmission-chains-dashlet .dashboard-box-content{background-color:#9000b3}"]],data:{}});function Vo(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),(t()(),i["\u0275ted"](2,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,1,0,n.independentTransmissionChainsCount,n.TransmissionChainModel.canList(n.authUser)?"/transmission-chains/list":"",n.getDashletParamsIncludingGlobalFilters(),n.displayLoading)},function(t,e){t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform("LNG_PAGE_DASHBOARD_KPI_INDEPENDENT_TRANSMISSION_CHAINS")))})}var Go=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.transmissionChainDataService=e,o.outbreakDataService=n,o.listFilterDataService=i,o.authDataService=a,o.Constants=ke.b,o.TransmissionChainModel=Si.a,o.displayLoading=!1,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;if(e.filter.firstLevelConditions(),this.globalFilterDate&&e.filter.byEquality("endDate",this.globalFilterDate.endOf("day").toISOString()),this.globalFilterLocationId&&e.addChildQueryBuilder("person").filter.where({or:[{type:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_EVENT","address.parentLocationIdFilter":this.globalFilterLocationId},{type:{inq:["LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE","LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CONTACT"]},"addresses.parentLocationIdFilter":this.globalFilterLocationId}]}),!De.isEmpty(this.globalFilterClassificationId)){var n={or:[{type:{neq:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE"}},{type:"LNG_REFERENCE_DATA_CATEGORY_PERSON_TYPE_CASE",classification:{inq:this.globalFilterClassificationId}}]};e.filter.where(n),e.addChildQueryBuilder("person").filter.where(n)}this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.transmissionChainDataService.getCountIndependentTransmissionChains(this.outbreakId,e).subscribe(function(e){t.numberOfActiveChains=e.activeChainsCount,t.displayLoading=!1})}},e}(Ra),Mo=i["\u0275crt"]({encapsulation:2,styles:[["app-number-of-active-chains-of-transmission-dashlet .dashboard-box-header{background-color:#65007d}app-number-of-active-chains-of-transmission-dashlet .dashboard-box-content{background-color:#9000b3}"]],data:{}});function Bo(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),i["\u0275pod"](2,{applyListFilter:0}),(t()(),i["\u0275ted"](3,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component,i=n.numberOfActiveChains,a=n.TransmissionChainModel.canList(n.authUser)?"/transmission-chains/list":"",o=n.getDashletParamsIncludingGlobalFilters(t(e,2,0,n.Constants.APPLY_LIST_FILTER.NO_OF_ACTIVE_TRANSMISSION_CHAINS));t(e,1,0,i,a,o,n.displayLoading)},function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_KPI_ACTIVE_CHAINS")))})}var Ho=function(t){function e(e,n,i,a){var o=t.call(this,i,a)||this;return o.outbreakDataService=e,o.transmissionChainDataService=n,o.listFilterDataService=i,o.authDataService=a,o.queryParams={applyListFilter:ke.b.APPLY_LIST_FILTER.NO_OF_NEW_CHAINS_OF_TRANSMISSION_FROM_CONTACTS_WHO_BECOME_CASES},o.displayLoading=!1,o.TransmissionChainModel=Si.a,o}return Object(_.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.displayLoading=!0,this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&(t.outbreakId=e.id,t.refreshDataCaller.call())})},e.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.releaseSubscribers()},e.prototype.refreshData=function(){var t=this;if(this.outbreakId){var e=new Pe.d;this.globalFilterDate&&e.filter.byDateRange("contactDate",{endDate:this.globalFilterDate.endOf("day").format()}),this.globalFilterLocationId&&e.addChildQueryBuilder("case").filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),De.isEmpty(this.globalFilterClassificationId)||e.addChildQueryBuilder("case").filter.where({classification:{inq:this.globalFilterClassificationId}}),this.previousSubscriber&&(this.previousSubscriber.unsubscribe(),this.previousSubscriber=null),this.displayLoading=!0,this.previousSubscriber=this.transmissionChainDataService.getCountNewChainsOfTransmissionFromRegContactsWhoBecameCase(this.outbreakId,e).subscribe(function(e){t.numOfNewChainsOfTransmissionFromRegContactsBecomeCases=e.length,t.displayLoading=!1})}},e}(Ra),Uo=i["\u0275crt"]({encapsulation:2,styles:[["app-new-chains-of-transmission-from-registered-contacts-dashlet .dashboard-box-header{background-color:#65007d}app-new-chains-of-transmission-from-registered-contacts-dashlet .dashboard-box-content{background-color:#9000b3}"]],data:{}});function jo(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"app-dashboard-custom-metric-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.onHide()&&i),"moveBefore"===e&&(i=!1!==a.onMoveBefore()&&i),"moveAfter"===e&&(i=!1!==a.onMoveAfter()&&i),i},Ia,wa)),i["\u0275did"](1,49152,null,0,Aa,[],{value:[0,"value"],link:[1,"link"],params:[2,"params"],displayLoading:[3,"displayLoading"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"}),(t()(),i["\u0275ted"](2,0,[" ","\n"])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,1,0,n.numOfNewChainsOfTransmissionFromRegContactsBecomeCases,n.TransmissionChainModel.canList(n.authUser)?"/transmission-chains/list":"",n.getDashletParamsIncludingGlobalFilters(n.queryParams),n.displayLoading)},function(t,e){t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform("LNG_PAGE_DASHBOARD_KPI_NEW_CHAINS_OF_TRANSMISSION_FROM_REGISTERED_CONTACTS_WHO_BECAME_CASES")))})}var zo,Yo,Xo=n("sdHT"),Wo=n("w7q2"),qo=n("3tt1"),$o=n("9dEU"),Qo=n("lGez"),Ko=n("/SeR"),Zo=n("kBJ7"),Jo=n("R1af"),tr=n("K3d3"),er=n("ZRKM"),nr=n("PQuL");!function(t){t.CASE="case",t.CONTACT="contact",t.TRANSMISSION_CHAIN="transmission-chain"}(zo||(zo={})),function(t){t.CASES_DECEASED="cases-deceased",t.CASES_HOSPITALISED="cases-hospitalised",t.CASES_WITH_LESS_THAN_X_CONTACTS="cases-with-less-than-x-contacts",t.SUSPECT_CASES_REFUSING_TO_BE_TRANSFERRED_TO_A_TREATMENT_UNIT="suspect-cases-refusing-to-be-transferred-to-a-treatment-unit",t.NEW_CASES_IN_THE_PREVIOUS_X_DAYS_AMONG_KNOWN_CONTACTS="new-cases-in-the-previous-x-days-among-known-contacts",t.NEW_CASES_IN_THE_PREVIOUS_X_DAYS_OUTSIDE_THE_TRANSMISSION_CHAINS="new-cases-in-the-previous-x-days-outside-the-transmission-chains",t.SUSPECT_CASES_WITH_PENDING_LAB_RESULT="suspect-cases-with-pending-lab-result",t.CASES_NOT_IDENTIFIED_THROUGH_CONTACTS="cases-not-identified-through-contacts",t.CONTACTS_PER_CASE_MEAN="contacts-per-case-mean",t.CONTACTS_PER_CASE_MEDIAN="contacts-per-case-median",t.CONTACTS_ON_THE_FOLLOW_UP_LIST="contacts-on-the-follow-up-list",t.CONTACTS_LOST_TO_FOLLOW_UP="contacts-lost-to-follow-up",t.CONTACTS_NOT_SEEN_IN_X_DAYS="contacts-not-seen-in-x-days",t.CONTACTS_BECOMING_CASES_IN_TIME_AND_SPACE="contacts-becoming-cases-in-time-and-space",t.CONTACTS_SEEN_EACH_DAY="contacts-seen-each-day",t.CONTACTS_WITH_SUCCESSFUL_FOLLOW_UP="contacts-with-successful-follow-up",t.INDEPENDENT_TRANSMISSION_CHAINS="independent-transmission-chains",t.ACTIVE_TRANSMISSION_CHAINS="active-transmission-chains",t.TRANSMISSION_CHAINS_FROM_CONTACTS_WHO_BECAME_CASES="transmission-chains-from-contacts-who-became-cases"}(Yo||(Yo={}));var ir=n("GDTb"),ar=n("vZ6F"),or=n("gnTB"),rr=n("cLAn"),lr=n("Iab2"),sr=n("JdTO"),ur=n("J7ck"),cr=n("67Y/"),dr=n("S1nX"),hr=n("9lxH"),pr=n("OWUs"),fr=function(){function t(t,e,n,i,a,o,r,l,s,u){var c,d,h,p=this;this.authDataService=t,this.outbreakDataService=e,this.domService=n,this.importExportDataService=i,this.i18nService=a,this.genericDataService=o,this.dialogService=r,this.snackbarService=l,this.systemSettingsDataService=s,this.referenceDataDataService=u,this.breadcrumbs=[new er.a("LNG_PAGE_DASHBOARD_TITLE",".",!0)],this.kpiGroups=[{id:zo.CASE,title:"LNG_PAGE_DASHBOARD_CASES_KPI_TITLE",dashlets:[Yo.CASES_DECEASED,Yo.CASES_HOSPITALISED,Yo.CASES_WITH_LESS_THAN_X_CONTACTS,Yo.NEW_CASES_IN_THE_PREVIOUS_X_DAYS_AMONG_KNOWN_CONTACTS,Yo.SUSPECT_CASES_REFUSING_TO_BE_TRANSFERRED_TO_A_TREATMENT_UNIT,Yo.NEW_CASES_IN_THE_PREVIOUS_X_DAYS_OUTSIDE_THE_TRANSMISSION_CHAINS,Yo.SUSPECT_CASES_WITH_PENDING_LAB_RESULT,Yo.CASES_NOT_IDENTIFIED_THROUGH_CONTACTS],hasAccess:function(t){if(!p.kpiGroupsMap||!p.kpiGroupsMap[zo.CASE])return!1;var e=p.kpiGroupsMap[zo.CASE];for(var n in e.permissions)if(e.permissions[n].hasAccess(t))return!0;return!1},permissions:(c={},c[Yo.CASES_DECEASED]={hasAccess:function(t){return pr.a.canViewCaseDeceasedDashlet(t)}},c[Yo.CASES_HOSPITALISED]={hasAccess:function(t){return pr.a.canViewCaseHospitalizedDashlet(t)}},c[Yo.CASES_WITH_LESS_THAN_X_CONTACTS]={hasAccess:function(t){return pr.a.canViewCaseWithLessThanXCotactsDashlet(t)}},c[Yo.NEW_CASES_IN_THE_PREVIOUS_X_DAYS_AMONG_KNOWN_CONTACTS]={hasAccess:function(t){return pr.a.canViewNewCasesInPreviousXDaysAmongKnownContactsDashlet(t)}},c[Yo.SUSPECT_CASES_REFUSING_TO_BE_TRANSFERRED_TO_A_TREATMENT_UNIT]={hasAccess:function(t){return pr.a.canViewCasesRefusingTreatmentDashlet(t)}},c[Yo.NEW_CASES_IN_THE_PREVIOUS_X_DAYS_OUTSIDE_THE_TRANSMISSION_CHAINS]={hasAccess:function(t){return pr.a.canViewNewCasesFromKnownCOTDashlet(t)}},c[Yo.SUSPECT_CASES_WITH_PENDING_LAB_RESULT]={hasAccess:function(t){return pr.a.canViewCasesWithPendingLabResultsDashlet(t)}},c[Yo.CASES_NOT_IDENTIFIED_THROUGH_CONTACTS]={hasAccess:function(t){return pr.a.canViewCasesNotIdentifiedThroughContactsDashlet(t)}},c)},{id:zo.CONTACT,title:"LNG_PAGE_DASHBOARD_CONTACTS_KPI_TITLE",dashlets:[Yo.CONTACTS_PER_CASE_MEAN,Yo.CONTACTS_PER_CASE_MEDIAN,Yo.CONTACTS_ON_THE_FOLLOW_UP_LIST,Yo.CONTACTS_LOST_TO_FOLLOW_UP,Yo.CONTACTS_NOT_SEEN_IN_X_DAYS,Yo.CONTACTS_BECOMING_CASES_IN_TIME_AND_SPACE,Yo.CONTACTS_SEEN_EACH_DAY,Yo.CONTACTS_WITH_SUCCESSFUL_FOLLOW_UP],hasAccess:function(t){if(!p.kpiGroupsMap||!p.kpiGroupsMap[zo.CONTACT])return!1;var e=p.kpiGroupsMap[zo.CONTACT];for(var n in e.permissions)if(e.permissions[n].hasAccess(t))return!0;return!1},permissions:(d={},d[Yo.CONTACTS_PER_CASE_MEAN]={hasAccess:function(t){return pr.a.canViewContactsPerCaseMeanDashlet(t)}},d[Yo.CONTACTS_PER_CASE_MEDIAN]={hasAccess:function(t){return pr.a.canViewContactsPerCaseMedianDashlet(t)}},d[Yo.CONTACTS_ON_THE_FOLLOW_UP_LIST]={hasAccess:function(t){return pr.a.canViewContactsFromFollowUpsDashlet(t)}},d[Yo.CONTACTS_LOST_TO_FOLLOW_UP]={hasAccess:function(t){return pr.a.canViewContactsLostToFollowUpsDashlet(t)}},d[Yo.CONTACTS_NOT_SEEN_IN_X_DAYS]={hasAccess:function(t){return pr.a.canViewContactsNotSeenInXDaysDashlet(t)}},d[Yo.CONTACTS_BECOMING_CASES_IN_TIME_AND_SPACE]={hasAccess:function(t){return pr.a.canViewContactsBecomeCasesDashlet(t)}},d[Yo.CONTACTS_SEEN_EACH_DAY]={hasAccess:function(t){return pr.a.canViewContactsSeenDashlet(t)}},d[Yo.CONTACTS_WITH_SUCCESSFUL_FOLLOW_UP]={hasAccess:function(t){return pr.a.canViewContactsWithSuccessfulFollowUpsDashlet(t)}},d)},{id:zo.TRANSMISSION_CHAIN,title:"LNG_PAGE_DASHBOARD_CHAINS_OF_TRANSMISSION_KPI_TITLE",dashlets:[Yo.INDEPENDENT_TRANSMISSION_CHAINS,Yo.ACTIVE_TRANSMISSION_CHAINS,Yo.TRANSMISSION_CHAINS_FROM_CONTACTS_WHO_BECAME_CASES],hasAccess:function(t){if(!p.kpiGroupsMap||!p.kpiGroupsMap[zo.TRANSMISSION_CHAIN])return!1;var e=p.kpiGroupsMap[zo.TRANSMISSION_CHAIN];for(var n in e.permissions)if(e.permissions[n].hasAccess(t))return!0;return!1},permissions:(h={},h[Yo.INDEPENDENT_TRANSMISSION_CHAINS]={hasAccess:function(t){return pr.a.canViewIndependentCOTDashlet(t)}},h[Yo.ACTIVE_TRANSMISSION_CHAINS]={hasAccess:function(t){return pr.a.canViewActiveCOTDashlet(t)}},h[Yo.TRANSMISSION_CHAINS_FROM_CONTACTS_WHO_BECAME_CASES]={hasAccess:function(t){return pr.a.canViewNewChainsFromContactsWhoBecameCasesDashlet(t)}},h)}],this.kpiGroupsMap={},this.DashboardDashlet=Yo,this.DashboardModel=pr.a,this.noOutbreaksInSystem=!1,this.x86Architecture=!1,this.ExportDataExtension=W.b,this.casesByClassificationAndLocationReportUrl="",this.contactsFollowupSuccessRateReportUrl="",this.availableSideFilters=[],this.globalFilterDate=Object(Ni.a)(),this.globalFilterClassificationId=[],this.Constants=ke.b,this.authUser=this.authDataService.getAuthenticatedUser()}return t.prototype.ngOnInit=function(){var t=this;this.kpiGroupsMap={},this.kpiGroups.forEach(function(e){t.kpiGroupsMap[e.id]=e}),this.caseClassificationsList$=this.referenceDataDataService.getReferenceDataByCategoryAsLabelValue(Te.a.CASE_CLASSIFICATION).pipe(Object(cr.a)(function(t){return De.filter(t,function(t){return t.value!==ke.b.CASE_CLASSIFICATION.NOT_A_CASE})}),Object(dr.a)()),this.initializeDashlets(),this.outbreakDataService.getOutbreaksCount().subscribe(function(e){t.noOutbreaksInSystem=!e.count}),this.outbreakSubscriber=this.outbreakDataService.getSelectedOutbreakSubject().subscribe(function(e){e&&e.id&&(t.selectedOutbreak=e,t.casesByClassificationAndLocationReportUrl="/outbreaks/"+t.selectedOutbreak.id+"/cases/per-classification-per-location-level-report/download/",t.contactsFollowupSuccessRateReportUrl="/outbreaks/"+t.selectedOutbreak.id+"/contacts/per-location-level-tracing-report/download/")}),this.systemSettingsDataService.getAPIVersion().subscribe(function(e){e.arch===ke.b.PLATFORM_ARCH.X86&&(t.x86Architecture=!0)}),this.epiCurveViewTypes$=this.genericDataService.getEpiCurvesTypes().pipe(Object(cr.a)(function(e){return e.filter(function(e){switch(e.value){case ke.b.EPI_CURVE_TYPES.CLASSIFICATION.value:return pr.a.canViewEpiCurveStratifiedByClassificationDashlet(t.authUser);case ke.b.EPI_CURVE_TYPES.OUTCOME.value:return pr.a.canViewEpiCurveStratifiedByOutcomeDashlet(t.authUser);case ke.b.EPI_CURVE_TYPES.REPORTING.value:return pr.a.canViewEpiCurveStratifiedByClassificationOverReportTimeDashlet(t.authUser);default:return!1}})})),pr.a.canViewEpiCurveStratifiedByClassificationDashlet(this.authUser)?this.epiCurveViewType=ke.b.EPI_CURVE_TYPES.CLASSIFICATION.value:pr.a.canViewEpiCurveStratifiedByOutcomeDashlet(this.authUser)?this.epiCurveViewType=ke.b.EPI_CURVE_TYPES.OUTCOME.value:pr.a.canViewEpiCurveStratifiedByClassificationOverReportTimeDashlet(this.authUser)&&(this.epiCurveViewType=ke.b.EPI_CURVE_TYPES.REPORTING.value),this.initializeSideFilters()},t.prototype.ngOnDestroy=function(){this.outbreakSubscriber&&(this.outbreakSubscriber.unsubscribe(),this.outbreakSubscriber=null)},t.prototype.initializeSideFilters=function(){this.availableSideFilters=[new sr.d({fieldName:"locationId",fieldLabel:"LNG_GLOBAL_FILTERS_FIELD_LABEL_LOCATION",type:sr.e.LOCATION,required:!0,multipleOptions:!1,value:this.globalFilterLocationId}),new sr.d({fieldName:"date",fieldLabel:"LNG_GLOBAL_FILTERS_FIELD_LABEL_DATE",type:sr.e.DATE,required:!0,maxDate:Object(Ni.a)(),value:this.globalFilterDate}),new sr.d({fieldName:"classificationId",fieldLabel:"LNG_GLOBAL_FILTERS_FIELD_LABEL_CLASSIFICATION",type:sr.e.MULTISELECT,required:!0,options$:this.caseClassificationsList$,value:this.globalFilterClassificationId})]},t.prototype.initializeDashlets=function(){var t=this.authUser.getSettings(nr.e.DASHBOARD);De.each(this.kpiGroups,function(e){De.each(e.dashlets,function(n){t.addDashletIfNotExists(new ir.a({name:n,kpiGroup:e.id}))})}),this.refreshDashletsOrder(),this.persistUserDashboardSettings().subscribe()},t.prototype.refreshDashletsOrder=function(){var t=this.authUser.getSettings(nr.e.DASHBOARD);De.each(this.kpiGroups,function(e){e.dashlets.sort(function(e,n){var i=t.getDashlet(e),a=t.getDashlet(n);return i&&a?i.order-a.order:1})})},t.prototype.persistUserDashboardSettings=function(){return this.authDataService.updateSettingsForCurrentUser(nr.e.DASHBOARD,this.authUser.getSettings(nr.e.DASHBOARD))},t.prototype.isDashletVisible=function(t){return De.get(this.authUser.getSettings(nr.e.DASHBOARD).getDashlet(t),"visible",!0)},t.prototype.hideDashlet=function(t){this.authUser.getSettings(nr.e.DASHBOARD).hideDashlet(t),this.refreshDashletsOrder(),this.persistUserDashboardSettings().subscribe()},t.prototype.moveDashletBefore=function(t){this.authUser.getSettings(nr.e.DASHBOARD).moveDashletBefore(t),this.refreshDashletsOrder(),this.persistUserDashboardSettings().subscribe()},t.prototype.moveDashletAfter=function(t){this.authUser.getSettings(nr.e.DASHBOARD).moveDashletAfter(t),this.refreshDashletsOrder(),this.persistUserDashboardSettings().subscribe()},t.prototype.showAllDashlets=function(t){this.authUser.getSettings(nr.e.DASHBOARD).showAllDashlets(t),this.persistUserDashboardSettings().subscribe()},t.prototype.generateEpiCurveReport=function(){switch(this.showLoadingDialog(),this.epiCurveViewType){case ke.b.EPI_CURVE_TYPES.CLASSIFICATION.value:this.getEpiCurveDashlet("app-epi-curve-dashlet svg");break;case ke.b.EPI_CURVE_TYPES.OUTCOME.value:this.getEpiCurveDashlet("app-epi-curve-outcome-dashlet svg");break;case ke.b.EPI_CURVE_TYPES.REPORTING.value:this.getEpiCurveDashlet("app-epi-curve-reporting-dashlet svg")}},t.prototype.getEpiCurveDashlet=function(t){var e=this;this.domService.getPNGBase64(t,"#tempCanvas").subscribe(function(t){if(!t)return e.snackbarService.showError("LNG_PAGE_DASHBOARD_EPI_ELEMENT_NOT_VISIBLE_ERROR_MSG"),void e.closeLoadingDialog();e.importExportDataService.exportImageToPdf({image:t,responseType:"blob",splitFactor:1}).pipe(Object(tn.a)(function(t){return e.snackbarService.showApiError(t),e.closeLoadingDialog(),Object(Ze.a)(t)})).subscribe(function(t){e.downloadFile(t,"LNG_PAGE_DASHBOARD_EPI_CURVE_REPORT_LABEL")})})},t.prototype.generateKpisReport=function(){var t=this;this.showLoadingDialog(),rr.toPng(this.kpiSection.nativeElement).then(function(e){var n=e.replace("data:image/png;base64,","");t.importExportDataService.exportImageToPdf({image:n,responseType:"blob",splitFactor:1}).pipe(Object(tn.a)(function(e){return t.snackbarService.showApiError(e),t.closeLoadingDialog(),Object(Ze.a)(e)})).subscribe(function(e){t.downloadFile(e,"LNG_PAGE_DASHBOARD_KPIS_REPORT_LABEL")})})},t.prototype.downloadFile=function(t,e,n){void 0===n&&(n="pdf");var i=this.i18nService.instant(e);lr.saveAs(t,i+"."+n),this.closeLoadingDialog()},t.prototype.applySideFilters=function(t){var e=De.find(t,{filter:{fieldName:"date"}}),n=De.find(t,{filter:{fieldName:"locationId"}}),i=De.find(t,{filter:{fieldName:"classificationId"}});this.globalFilterDate=De.isEmpty(e.value)?void 0:Object(Ni.a)(e.value),this.globalFilterLocationId=De.isEmpty(n.value)?void 0:n.value,this.globalFilterClassificationId=De.isEmpty(i.value)?void 0:i.value},t.prototype.showLoadingDialog=function(){this.loadingDialog=this.dialogService.showLoadingDialog()},t.prototype.closeLoadingDialog=function(){this.loadingDialog&&(this.loadingDialog.close(),this.loadingDialog=null)},t.prototype.qbCaseByClassification=function(){var t=new Pe.d;return this.globalFilterDate&&t.filter.byDateRange("dateOfOnset",{endDate:this.globalFilterDate.endOf("day").format()}),this.globalFilterLocationId&&t.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),t},t.prototype.qbContactsFollowUpSuccessRate=function(){var t=new Pe.d;return this.globalFilterDate&&(t.filter.flag("dateOfFollowUp",this.globalFilterDate.startOf("day").format()),t.filter.byDateRange("dateOfReporting",{endDate:this.globalFilterDate.endOf("day").format()})),this.globalFilterLocationId&&t.filter.byEquality("addresses.parentLocationIdFilter",this.globalFilterLocationId),t},t.prototype.hasKpiAccess=function(){for(var t=0,e=this.kpiGroups;t<e.length;t++)if(e[t].hasAccess(this.authUser))return!0;return!1},t}(),gr=i["\u0275crt"]({encapsulation:2,styles:[[".dashboard-kpi-menu-item{height:30px!important;line-height:30px!important}app-dashboard .other-kpi-header{margin:20px 0;font-weight:700;font-size:23px}app-dashboard .other-kpi-content{clear:both;padding-bottom:20px}app-dashboard .dashboard-section{margin-bottom:10px;margin-top:10px}app-dashboard .dashlet-kpi-header{margin:20px 0;font-weight:700;font-size:23px}app-dashboard .dashlet-kpi-header.dashlet-kpi-header-100{width:100%}app-dashboard .dashlet-kpi-content{clear:both;padding-bottom:20px}app-dashboard .dashboard-gauge{padding:10px;margin:15px;min-height:250px;min-width:315px}app-dashboard .dashboard-gauge .other-kpi-header{height:50px}app-dashboard #tempCanvas{display:none}"]],data:{}});function br(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,6,"button",[["aria-haspopup","true"],["color","accent"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],function(t,e,n){var a=!0;return"mousedown"===e&&(a=!1!==i["\u0275nov"](t,2)._handleMousedown(n)&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,2)._handleKeydown(n)&&a),"click"===e&&(a=!1!==i["\u0275nov"](t,2)._handleClick(n)&&a),a},k.d,k.b)),i["\u0275did"](1,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],{color:[0,"color"]},null),i["\u0275did"](2,1196032,null,0,B.f,[H.c,i.ElementRef,i.ViewContainerRef,B.b,[2,B.c],[8,null],[2,U.b],G.h],{menu:[0,"menu"]},null),(t()(),i["\u0275ted"](3,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](5,0,null,0,1,"span",[["class","xt-icon"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["arrowDown"])),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){t(e,1,0,"accent"),t(e,2,0,i["\u0275nov"](e.parent,5))},function(t,e){t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode,i["\u0275nov"](e,2).menuOpen||null),t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_REPORTS_BUTTON_LABEL")))})}function mr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,"app-export-button",[],null,[[null,"exportStart"],[null,"exportFinished"]],function(t,e,n){var i=!0,a=t.component;return"exportStart"===e&&(i=!1!==a.showLoadingDialog()&&i),"exportFinished"===e&&(i=!1!==a.closeLoadingDialog()&&i),i},z.b,z.a)),i["\u0275prd"](5120,null,Y.l,function(t){return[t]},[X.a]),i["\u0275did"](2,49152,null,0,X.a,[W.a],{label:[0,"label"],message:[1,"message"],url:[2,"url"],fileName:[3,"fileName"],queryBuilder:[4,"queryBuilder"],menuItem:[5,"menuItem"],fileType:[6,"fileType"]},{exportStart:"exportStart",exportFinished:"exportFinished"}),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform("LNG_PAGE_DASHBOARD_CASES_BY_CLASSIFICATION_LOCATION_REPORT_LABEL")),i["\u0275unv"](e,2,1,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_CASES_BY_CLASSIFICATION_LOCATION_REPORT_LABEL")),n.casesByClassificationAndLocationReportUrl,i["\u0275unv"](e,2,3,i["\u0275nov"](e,5).transform("LNG_PAGE_DASHBOARD_CASES_BY_CLASSIFICATION_LOCATION_REPORT_LABEL")),n.qbCaseByClassification(),!0,n.ExportDataExtension.PDF)},null)}function vr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,5,"app-export-button",[],null,[[null,"exportStart"],[null,"exportFinished"]],function(t,e,n){var i=!0,a=t.component;return"exportStart"===e&&(i=!1!==a.showLoadingDialog()&&i),"exportFinished"===e&&(i=!1!==a.closeLoadingDialog()&&i),i},z.b,z.a)),i["\u0275prd"](5120,null,Y.l,function(t){return[t]},[X.a]),i["\u0275did"](2,49152,null,0,X.a,[W.a],{label:[0,"label"],message:[1,"message"],url:[2,"url"],fileName:[3,"fileName"],queryBuilder:[4,"queryBuilder"],menuItem:[5,"menuItem"],fileType:[6,"fileType"]},{exportStart:"exportStart",exportFinished:"exportFinished"}),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){var n=e.component;t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform("LNG_PAGE_DASHBOARD_CONTACTS_FOLLOWUP_SUCCESS_RATE_REPORT_LABEL")),i["\u0275unv"](e,2,1,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_CONTACTS_FOLLOWUP_SUCCESS_RATE_REPORT_LABEL")),n.contactsFollowupSuccessRateReportUrl,i["\u0275unv"](e,2,3,i["\u0275nov"](e,5).transform("LNG_PAGE_DASHBOARD_CONTACTS_FOLLOWUP_SUCCESS_RATE_REPORT_LABEL")),n.qbContactsFollowUpSuccessRate(),!0,n.ExportDataExtension.PDF)},null)}function xr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,n){var a=!0,o=t.component;return"click"===e&&(a=!1!==i["\u0275nov"](t,1)._checkDisabled(n)&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,1)._handleMouseEnter()&&a),"click"===e&&(a=!1!==o.generateEpiCurveReport()&&a),a},q.c,q.b)),i["\u0275did"](1,180224,[[2,4]],0,B.d,[i.ElementRef,x.DOCUMENT,G.h,[2,B.h]],{disabled:[0,"disabled"]},null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,1,0,e.component.x86Architecture)},function(t,e){t(e,0,0,i["\u0275nov"](e,1).role,i["\u0275nov"](e,1)._highlighted,i["\u0275nov"](e,1)._triggersSubmenu,i["\u0275nov"](e,1)._getTabIndex(),i["\u0275nov"](e,1).disabled.toString(),i["\u0275nov"](e,1).disabled||null),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform("LNG_PAGE_DASHBOARD_EPI_CURVE_REPORT_LABEL")))})}function _r(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,n){var a=!0,o=t.component;return"click"===e&&(a=!1!==i["\u0275nov"](t,1)._checkDisabled(n)&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,1)._handleMouseEnter()&&a),"click"===e&&(a=!1!==o.generateKpisReport()&&a),a},q.c,q.b)),i["\u0275did"](1,180224,[[2,4]],0,B.d,[i.ElementRef,x.DOCUMENT,G.h,[2,B.h]],{disabled:[0,"disabled"]},null),(t()(),i["\u0275ted"](2,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],function(t,e){t(e,1,0,e.component.x86Architecture)},function(t,e){t(e,0,0,i["\u0275nov"](e,1).role,i["\u0275nov"](e,1)._highlighted,i["\u0275nov"](e,1)._triggersSubmenu,i["\u0275nov"](e,1)._getTabIndex(),i["\u0275nov"](e,1).disabled.toString(),i["\u0275nov"](e,1).disabled||null),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform("LNG_PAGE_DASHBOARD_KPIS_REPORT_LABEL")))})}function yr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,15,"div",[["class","topnav-actions"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,br)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](3,0,null,null,12,"mat-menu",[],null,null,null,q.d,q.a)),i["\u0275prd"](6144,null,B.h,null,[B.c]),i["\u0275did"](5,1294336,[["quickActionsMenu",4]],2,B.c,[i.ElementRef,i.NgZone,B.a],null,null),i["\u0275qud"](603979776,2,{items:1}),i["\u0275qud"](335544320,3,{lazyContent:0}),(t()(),i["\u0275and"](16777216,null,0,1,null,mr)),i["\u0275did"](9,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,0,1,null,vr)),i["\u0275did"](11,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,0,1,null,xr)),i["\u0275did"](13,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,0,1,null,_r)),i["\u0275did"](15,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.DashboardModel.canExportCaseClassificationPerLocationReport(n.authUser)||n.DashboardModel.canExportContactFollowUpSuccessRateReport(n.authUser)||n.DashboardModel.canExportEpiCurve(n.authUser)&&(n.DashboardModel.canViewEpiCurveStratifiedByClassificationDashlet(n.authUser)||n.DashboardModel.canViewEpiCurveStratifiedByOutcomeDashlet(n.authUser)||n.DashboardModel.canViewEpiCurveStratifiedByClassificationOverReportTimeDashlet(n.authUser))||n.DashboardModel.canExportKpi(n.authUser)&&n.hasKpiAccess()),t(e,5,0),t(e,9,0,n.DashboardModel.canExportCaseClassificationPerLocationReport(n.authUser)),t(e,11,0,n.DashboardModel.canExportContactFollowUpSuccessRateReport(n.authUser)),t(e,13,0,n.DashboardModel.canExportEpiCurve(n.authUser)&&(n.DashboardModel.canViewEpiCurveStratifiedByClassificationDashlet(n.authUser)||n.DashboardModel.canViewEpiCurveStratifiedByOutcomeDashlet(n.authUser)||n.DashboardModel.canViewEpiCurveStratifiedByClassificationOverReportTimeDashlet(n.authUser))),t(e,15,0,n.DashboardModel.canExportKpi(n.authUser)&&n.hasKpiAccess())},null)}function Sr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,3,"mat-card",[["class","page-content page-section mat-card"]],null,null,null,$.b,$.a)),i["\u0275did"](2,49152,null,0,Q.a,[],null,null),(t()(),i["\u0275ted"](3,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef])],null,function(t,e){t(e,3,0,i["\u0275unv"](e,3,0,i["\u0275nov"](e,4).transform("LNG_PAGE_DASHBOARD_NO_OUTBREAKS_MESSAGE")))})}function Cr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,10,"div",[["fxFlex","33"]],null,null,null,null,null)),i["\u0275did"](1,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](2,0,null,null,8,"mat-card",[["class","dashboard-gauge mat-card"]],null,null,null,$.b,$.a)),i["\u0275did"](3,49152,null,0,Q.a,[],null,null),(t()(),i["\u0275eld"](4,0,null,0,2,"div",[["class","other-kpi-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](7,0,null,0,3,"div",[["fxLayoutAlign","center"]],null,null,null,null,null)),i["\u0275did"](8,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),i["\u0275eld"](9,0,null,null,1,"app-case-summary-dashlet",[],null,null,null,ze,Be)),i["\u0275did"](10,245760,null,0,Ge,[we.a,Le.a,Ee.a,Oe.a,Me.k,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,"33"),t(e,8,0,"center"),t(e,10,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},function(t,e){t(e,5,0,i["\u0275unv"](e,5,0,i["\u0275nov"](e,6).transform("LNG_PAGE_DASHBOARD_CASE_SUMMARY_TITLE")))})}function Ar(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,10,"div",[["fxFlex","33"]],null,null,null,null,null)),i["\u0275did"](1,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](2,0,null,null,8,"mat-card",[["class","dashboard-gauge mat-card"]],null,null,null,$.b,$.a)),i["\u0275did"](3,49152,null,0,Q.a,[],null,null),(t()(),i["\u0275eld"](4,0,null,0,2,"div",[["class","other-kpi-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](7,0,null,0,3,"div",[["fxLayoutAlign","center"]],null,null,null,null,null)),i["\u0275did"](8,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),i["\u0275eld"](9,0,null,null,1,"app-case-by-geographic-location-dashlet",[],null,null,null,Qe,Xe)),i["\u0275did"](10,245760,null,0,Ye,[we.a,Ee.a,Me.k,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,"33"),t(e,8,0,"center"),t(e,10,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},function(t,e){t(e,5,0,i["\u0275unv"](e,5,0,i["\u0275nov"](e,6).transform("LNG_PAGE_DASHBOARD_CASE_BY_GEOGRAPHIC_LOCATION_TITLE")))})}function wr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,10,"div",[["fxFlex","33"]],null,null,null,null,null)),i["\u0275did"](1,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](2,0,null,null,8,"mat-card",[["class","dashboard-gauge mat-card"]],null,null,null,$.b,$.a)),i["\u0275did"](3,49152,null,0,Q.a,[],null,null),(t()(),i["\u0275eld"](4,0,null,0,2,"div",[["class","other-kpi-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](5,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](7,0,null,0,3,"div",[["fxLayoutAlign","center"]],null,null,null,null,null)),i["\u0275did"](8,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),i["\u0275eld"](9,0,null,null,1,"app-cases-hospitalized-pie-chart-dashlet",[],null,null,null,ln,nn)),i["\u0275did"](10,245760,null,0,en,[we.a,Ee.a,Oe.a,Je.a,Me.k,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,"33"),t(e,8,0,"center"),t(e,10,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},function(t,e){t(e,5,0,i["\u0275unv"](e,5,0,i["\u0275nov"](e,6).transform("LNG_PAGE_DASHBOARD_CASE_HOSPITALIZATION_TITLE")))})}function Tr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"div",[["fxLayout","row"],["fxLayoutAlign","space-between"]],null,null,null,null,null)),i["\u0275did"](1,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](2,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Cr)),i["\u0275did"](4,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ar)),i["\u0275did"](6,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,wr)),i["\u0275did"](8,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,"row"),t(e,2,0,"space-between"),t(e,4,0,n.DashboardModel.canViewCaseSummaryDashlet(n.authUser)),t(e,6,0,n.DashboardModel.canViewCasePerLocationLevelDashlet(n.authUser)),t(e,8,0,n.DashboardModel.canViewCaseHospitalizedPieChartDashlet(n.authUser))},null)}function Lr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,12,"mat-expansion-panel",[["class","mat-expansion-panel-no-padding mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,fn,hn)),i["\u0275did"](1,1753088,null,1,sn.d,[[3,sn.a],i.ChangeDetectorRef,dn.d,i.ViewContainerRef,x.DOCUMENT,[2,M.a],[2,sn.b]],null,null),i["\u0275qud"](335544320,4,{_lazyContent:0}),i["\u0275prd"](256,null,sn.a,void 0,[]),(t()(),i["\u0275eld"](4,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==i["\u0275nov"](t,5)._toggle()&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,5)._keydown(n)&&a),a},mn,gn)),i["\u0275did"](5,180224,null,0,sn.f,[sn.d,i.ElementRef,G.h,i.ChangeDetectorRef,[2,sn.b]],null,null),i["\u0275pod"](6,{collapsedHeight:0,expandedHeight:1}),i["\u0275pod"](7,{value:0,params:1}),(t()(),i["\u0275eld"](8,0,null,2,2,"div",[["class","other-kpi-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](9,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](0,null,1,1,null,Tr)),i["\u0275did"](12,16384,[[4,4]],0,sn.e,[i.TemplateRef],null,null),(t()(),i["\u0275and"](0,null,null,0))],null,function(t,e){t(e,0,0,i["\u0275nov"](e,1).expanded,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode,i["\u0275nov"](e,1)._hasSpacing());var n=i["\u0275nov"](e,5).panel._headerId,a=i["\u0275nov"](e,5).disabled?-1:0,o=i["\u0275nov"](e,5)._getPanelId(),r=i["\u0275nov"](e,5)._isExpanded(),l=i["\u0275nov"](e,5).panel.disabled,s=i["\u0275nov"](e,5)._isExpanded(),u=t(e,7,0,i["\u0275nov"](e,5)._getExpandedState(),t(e,6,0,i["\u0275nov"](e,5).collapsedHeight,i["\u0275nov"](e,5).expandedHeight));t(e,4,0,n,a,o,r,l,s,u),t(e,9,0,i["\u0275unv"](e,9,0,i["\u0275nov"](e,10).transform("LNG_PAGE_DASHBOARD_PIE_CHARTS_TITLE")))})}function Er(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-histogram-transmission-chains-size-dashlet",[],null,null,null,Ii,wi)),i["\u0275did"](1,245760,null,0,Ai,[_i.a,Le.a,we.a,Me.k,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Dr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,12,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,fn,hn)),i["\u0275did"](1,1753088,null,1,sn.d,[[3,sn.a],i.ChangeDetectorRef,dn.d,i.ViewContainerRef,x.DOCUMENT,[2,M.a],[2,sn.b]],null,null),i["\u0275qud"](335544320,5,{_lazyContent:0}),i["\u0275prd"](256,null,sn.a,void 0,[]),(t()(),i["\u0275eld"](4,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==i["\u0275nov"](t,5)._toggle()&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,5)._keydown(n)&&a),a},mn,gn)),i["\u0275did"](5,180224,null,0,sn.f,[sn.d,i.ElementRef,G.h,i.ChangeDetectorRef,[2,sn.b]],null,null),i["\u0275pod"](6,{collapsedHeight:0,expandedHeight:1}),i["\u0275pod"](7,{value:0,params:1}),(t()(),i["\u0275eld"](8,0,null,2,2,"div",[["class","other-kpi-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](9,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](0,null,1,1,null,Er)),i["\u0275did"](12,16384,[[5,4]],0,sn.e,[i.TemplateRef],null,null),(t()(),i["\u0275and"](0,null,null,0))],null,function(t,e){t(e,0,0,i["\u0275nov"](e,1).expanded,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode,i["\u0275nov"](e,1)._hasSpacing());var n=i["\u0275nov"](e,5).panel._headerId,a=i["\u0275nov"](e,5).disabled?-1:0,o=i["\u0275nov"](e,5)._getPanelId(),r=i["\u0275nov"](e,5)._isExpanded(),l=i["\u0275nov"](e,5).panel.disabled,s=i["\u0275nov"](e,5)._isExpanded(),u=t(e,7,0,i["\u0275nov"](e,5)._getExpandedState(),t(e,6,0,i["\u0275nov"](e,5).collapsedHeight,i["\u0275nov"](e,5).expandedHeight));t(e,4,0,n,a,o,r,l,s,u),t(e,9,0,i["\u0275unv"](e,9,0,i["\u0275nov"](e,10).transform("LNG_PAGE_DASHBOARD_HISTOGRAM_CHAINS_OF_TRANSMISSION_SIZE_TITLE")))})}function Ir(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-epi-curve-dashlet",[],null,null,null,zi,Gi)),i["\u0275did"](1,245760,null,0,Vi,[Ee.a,we.a,Le.a,Oe.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Or(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-epi-curve-outcome-dashlet",[],null,null,null,Zi,Xi)),i["\u0275did"](1,245760,null,0,Yi,[Ee.a,we.a,Le.a,Oe.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Rr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-epi-curve-reporting-dashlet",[],null,null,null,ra,ta)),i["\u0275did"](1,245760,null,0,Ji,[Ee.a,we.a,Le.a,Oe.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Fr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,8,"app-form-select",[["name","epiCurveViewType"],["required","true"]],[[1,"required",0],[2,"form-element-host",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var i=!0;return"ngModelChange"===e&&(i=!1!==(t.component.epiCurveViewType=n)&&i),i},la.b,la.a)),i["\u0275did"](1,16384,null,0,Y.s,[],{required:[0,"required"]},null),i["\u0275prd"](1024,null,Y.k,function(t){return[t]},[Y.s]),i["\u0275did"](3,4243456,null,0,sa.a,[[8,null],[2,Y.k],[2,Y.j],Oe.a],{required:[0,"required"],name:[1,"name"],options:[2,"options"],clearable:[3,"clearable"]},null),i["\u0275pid"](131072,x.AsyncPipe,[i.ChangeDetectorRef]),i["\u0275prd"](1024,null,Y.l,function(t){return[t]},[sa.a]),i["\u0275did"](6,671744,null,0,Y.q,[[8,null],[6,Y.k],[8,null],[6,Y.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,Y.m,null,[Y.q]),i["\u0275did"](8,16384,null,0,Y.n,[[4,Y.m]],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ir)),i["\u0275did"](10,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Or)),i["\u0275did"](12,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Rr)),i["\u0275did"](14,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,"true"),t(e,3,0,"true","epiCurveViewType",i["\u0275unv"](e,3,2,i["\u0275nov"](e,4).transform(n.epiCurveViewTypes$)),!1),t(e,6,0,"epiCurveViewType",n.epiCurveViewType),t(e,10,0,n.epiCurveViewType===n.Constants.EPI_CURVE_TYPES.CLASSIFICATION.value&&n.DashboardModel.canViewEpiCurveStratifiedByClassificationDashlet(n.authUser)),t(e,12,0,n.epiCurveViewType===n.Constants.EPI_CURVE_TYPES.OUTCOME.value&&n.DashboardModel.canViewEpiCurveStratifiedByOutcomeDashlet(n.authUser)),t(e,14,0,n.epiCurveViewType===n.Constants.EPI_CURVE_TYPES.REPORTING.value&&n.DashboardModel.canViewEpiCurveStratifiedByClassificationOverReportTimeDashlet(n.authUser))},function(t,e){t(e,0,0,i["\u0275nov"](e,1).required?"":null,i["\u0275nov"](e,3).isFormElement,i["\u0275nov"](e,8).ngClassUntouched,i["\u0275nov"](e,8).ngClassTouched,i["\u0275nov"](e,8).ngClassPristine,i["\u0275nov"](e,8).ngClassDirty,i["\u0275nov"](e,8).ngClassValid,i["\u0275nov"](e,8).ngClassInvalid,i["\u0275nov"](e,8).ngClassPending)})}function Pr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,12,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,fn,hn)),i["\u0275did"](1,1753088,null,1,sn.d,[[3,sn.a],i.ChangeDetectorRef,dn.d,i.ViewContainerRef,x.DOCUMENT,[2,M.a],[2,sn.b]],null,null),i["\u0275qud"](335544320,6,{_lazyContent:0}),i["\u0275prd"](256,null,sn.a,void 0,[]),(t()(),i["\u0275eld"](4,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==i["\u0275nov"](t,5)._toggle()&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,5)._keydown(n)&&a),a},mn,gn)),i["\u0275did"](5,180224,null,0,sn.f,[sn.d,i.ElementRef,G.h,i.ChangeDetectorRef,[2,sn.b]],null,null),i["\u0275pod"](6,{collapsedHeight:0,expandedHeight:1}),i["\u0275pod"](7,{value:0,params:1}),(t()(),i["\u0275eld"](8,0,null,2,2,"div",[["class","other-kpi-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](9,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](0,null,1,1,null,Fr)),i["\u0275did"](12,16384,[[6,4]],0,sn.e,[i.TemplateRef],null,null),(t()(),i["\u0275and"](0,null,null,0))],null,function(t,e){t(e,0,0,i["\u0275nov"](e,1).expanded,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode,i["\u0275nov"](e,1)._hasSpacing());var n=i["\u0275nov"](e,5).panel._headerId,a=i["\u0275nov"](e,5).disabled?-1:0,o=i["\u0275nov"](e,5)._getPanelId(),r=i["\u0275nov"](e,5)._isExpanded(),l=i["\u0275nov"](e,5).panel.disabled,s=i["\u0275nov"](e,5)._isExpanded(),u=t(e,7,0,i["\u0275nov"](e,5)._getExpandedState(),t(e,6,0,i["\u0275nov"](e,5).collapsedHeight,i["\u0275nov"](e,5).expandedHeight));t(e,4,0,n,a,o,r,l,s,u),t(e,9,0,i["\u0275unv"](e,9,0,i["\u0275nov"](e,10).transform("LNG_PAGE_DASHBOARD_EPI_CURVE_TITLE")))})}function kr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contact-follow-up-overview-dashlet",[],null,null,null,va,ga)),i["\u0275did"](1,245760,null,0,fa,[pa.a,we.a,Oe.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Nr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,12,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,fn,hn)),i["\u0275did"](1,1753088,null,1,sn.d,[[3,sn.a],i.ChangeDetectorRef,dn.d,i.ViewContainerRef,x.DOCUMENT,[2,M.a],[2,sn.b]],null,null),i["\u0275qud"](335544320,7,{_lazyContent:0}),i["\u0275prd"](256,null,sn.a,void 0,[]),(t()(),i["\u0275eld"](4,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==i["\u0275nov"](t,5)._toggle()&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,5)._keydown(n)&&a),a},mn,gn)),i["\u0275did"](5,180224,null,0,sn.f,[sn.d,i.ElementRef,G.h,i.ChangeDetectorRef,[2,sn.b]],null,null),i["\u0275pod"](6,{collapsedHeight:0,expandedHeight:1}),i["\u0275pod"](7,{value:0,params:1}),(t()(),i["\u0275eld"](8,0,null,2,2,"div",[["class","other-kpi-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](9,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](0,null,1,1,null,kr)),i["\u0275did"](12,16384,[[7,4]],0,sn.e,[i.TemplateRef],null,null),(t()(),i["\u0275and"](0,null,null,0))],null,function(t,e){t(e,0,0,i["\u0275nov"](e,1).expanded,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode,i["\u0275nov"](e,1)._hasSpacing());var n=i["\u0275nov"](e,5).panel._headerId,a=i["\u0275nov"](e,5).disabled?-1:0,o=i["\u0275nov"](e,5)._getPanelId(),r=i["\u0275nov"](e,5)._isExpanded(),l=i["\u0275nov"](e,5).panel.disabled,s=i["\u0275nov"](e,5)._isExpanded(),u=t(e,7,0,i["\u0275nov"](e,5)._getExpandedState(),t(e,6,0,i["\u0275nov"](e,5).collapsedHeight,i["\u0275nov"](e,5).expandedHeight));t(e,4,0,n,a,o,r,l,s,u),t(e,9,0,i["\u0275unv"](e,9,0,i["\u0275nov"](e,10).transform("LNG_PAGE_DASHBOARD_CONTACT_FOLLOW_UP_REPORT_TITLE")))})}function Vr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-cases-based-on-contact-status-dashlet",[],null,null,null,Ca,_a)),i["\u0275did"](1,245760,null,0,xa,[Ee.a,we.a,Oe.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},null)],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Gr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,12,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,fn,hn)),i["\u0275did"](1,1753088,null,1,sn.d,[[3,sn.a],i.ChangeDetectorRef,dn.d,i.ViewContainerRef,x.DOCUMENT,[2,M.a],[2,sn.b]],null,null),i["\u0275qud"](335544320,8,{_lazyContent:0}),i["\u0275prd"](256,null,sn.a,void 0,[]),(t()(),i["\u0275eld"](4,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==i["\u0275nov"](t,5)._toggle()&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,5)._keydown(n)&&a),a},mn,gn)),i["\u0275did"](5,180224,null,0,sn.f,[sn.d,i.ElementRef,G.h,i.ChangeDetectorRef,[2,sn.b]],null,null),i["\u0275pod"](6,{collapsedHeight:0,expandedHeight:1}),i["\u0275pod"](7,{value:0,params:1}),(t()(),i["\u0275eld"](8,0,null,2,2,"div",[["class","other-kpi-header"]],null,null,null,null,null)),(t()(),i["\u0275ted"](9,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](0,null,1,1,null,Vr)),i["\u0275did"](12,16384,[[8,4]],0,sn.e,[i.TemplateRef],null,null),(t()(),i["\u0275and"](0,null,null,0))],null,function(t,e){t(e,0,0,i["\u0275nov"](e,1).expanded,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode,i["\u0275nov"](e,1)._hasSpacing());var n=i["\u0275nov"](e,5).panel._headerId,a=i["\u0275nov"](e,5).disabled?-1:0,o=i["\u0275nov"](e,5)._getPanelId(),r=i["\u0275nov"](e,5)._isExpanded(),l=i["\u0275nov"](e,5).panel.disabled,s=i["\u0275nov"](e,5)._isExpanded(),u=t(e,7,0,i["\u0275nov"](e,5)._getExpandedState(),t(e,6,0,i["\u0275nov"](e,5).collapsedHeight,i["\u0275nov"](e,5).expandedHeight));t(e,4,0,n,a,o,r,l,s,u),t(e,9,0,i["\u0275unv"](e,9,0,i["\u0275nov"](e,10).transform("LNG_PAGE_DASHBOARD_CASES_CONTACT_STATUS_REPORT_TITLE")))})}function Mr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-cases-deceased-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Na,ka)),i["\u0275did"](1,245760,null,0,Pa,[Ee.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Br(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-cases-hospitalised-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Ma,Ga)),i["\u0275did"](1,245760,null,0,Va,[Ee.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Hr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-cases-less-contacts-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Ya,za)),i["\u0275did"](1,245760,null,0,ja,[Ua.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Ur(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-new-cases-previous-days-contacts-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},qa,Wa)),i["\u0275did"](1,245760,null,0,Xa,[Ua.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function jr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-cases-refusing-treatment-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Ka,Qa)),i["\u0275did"](1,245760,null,0,$a,[Ee.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function zr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-new-cases-previous-days-transmission-chains-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},to,Ja)),i["\u0275did"](1,245760,null,0,Za,[Ua.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Yr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-cases-pending-lab-results-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},io,no)),i["\u0275did"](1,245760,null,0,eo,[Ee.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Xr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-cases-not-identified-through-contacts-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},ro,oo)),i["\u0275did"](1,245760,null,0,ao,[Ee.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Wr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contacts-per-case-mean-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},uo,so)),i["\u0275did"](1,245760,null,0,lo,[Ua.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function qr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contacts-per-case-median-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},po,ho)),i["\u0275did"](1,245760,null,0,co,[Ua.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function $r(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contacts-on-followup-list-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},xo,vo)),i["\u0275did"](1,245760,null,0,mo,[go.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Qr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contacts-lost-to-follow-up-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},So,yo)),i["\u0275did"](1,245760,null,0,_o,[we.a,go.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Kr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contacts-not-seen-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},wo,Ao)),i["\u0275did"](1,245760,null,0,Co,[go.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Zr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contacts-become-cases-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Eo,Lo)),i["\u0275did"](1,245760,null,0,To,[Ee.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function Jr(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contacts-seen-each-day-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Oo,Io)),i["\u0275did"](1,245760,null,0,Do,[Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function tl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-contacts-with-successful-follow-ups-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Po,Fo)),i["\u0275did"](1,245760,null,0,Ro,[Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function el(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-independent-transmission-chains-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Vo,No)),i["\u0275did"](1,245760,null,0,ko,[_i.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function nl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-number-of-active-chains-of-transmission-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},Bo,Mo)),i["\u0275did"](1,245760,null,0,Go,[_i.a,we.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function il(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-new-chains-of-transmission-from-registered-contacts-dashlet",[],null,[[null,"hide"],[null,"moveBefore"],[null,"moveAfter"]],function(t,e,n){var i=!0,a=t.component;return"hide"===e&&(i=!1!==a.hideDashlet(t.parent.parent.context.$implicit)&&i),"moveBefore"===e&&(i=!1!==a.moveDashletBefore(t.parent.parent.context.$implicit)&&i),"moveAfter"===e&&(i=!1!==a.moveDashletAfter(t.parent.parent.context.$implicit)&&i),i},jo,Uo)),i["\u0275did"](1,245760,null,0,Ho,[we.a,_i.a,Fa.a,Ve.a],{globalFilterDate:[0,"globalFilterDate"],globalFilterLocationId:[1,"globalFilterLocationId"],globalFilterClassificationId:[2,"globalFilterClassificationId"]},{hide:"hide",moveBefore:"moveBefore",moveAfter:"moveAfter"})],function(t,e){var n=e.component;t(e,1,0,n.globalFilterDate,n.globalFilterLocationId,n.globalFilterClassificationId)},null)}function al(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,38,null,null,null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,Mr)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Br)),i["\u0275did"](4,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Hr)),i["\u0275did"](6,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Ur)),i["\u0275did"](8,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,jr)),i["\u0275did"](10,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,zr)),i["\u0275did"](12,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Yr)),i["\u0275did"](14,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Xr)),i["\u0275did"](16,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Wr)),i["\u0275did"](18,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,qr)),i["\u0275did"](20,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,$r)),i["\u0275did"](22,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Qr)),i["\u0275did"](24,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Kr)),i["\u0275did"](26,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Zr)),i["\u0275did"](28,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Jr)),i["\u0275did"](30,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,tl)),i["\u0275did"](32,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,el)),i["\u0275did"](34,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,nl)),i["\u0275did"](36,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,il)),i["\u0275did"](38,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){var n=e.component;t(e,2,0,e.parent.context.$implicit===n.DashboardDashlet.CASES_DECEASED&&n.isDashletVisible(e.parent.context.$implicit)),t(e,4,0,e.parent.context.$implicit===n.DashboardDashlet.CASES_HOSPITALISED&&n.isDashletVisible(e.parent.context.$implicit)),t(e,6,0,e.parent.context.$implicit===n.DashboardDashlet.CASES_WITH_LESS_THAN_X_CONTACTS&&n.isDashletVisible(e.parent.context.$implicit)),t(e,8,0,e.parent.context.$implicit===n.DashboardDashlet.NEW_CASES_IN_THE_PREVIOUS_X_DAYS_AMONG_KNOWN_CONTACTS&&n.isDashletVisible(e.parent.context.$implicit)),t(e,10,0,e.parent.context.$implicit===n.DashboardDashlet.SUSPECT_CASES_REFUSING_TO_BE_TRANSFERRED_TO_A_TREATMENT_UNIT&&n.isDashletVisible(e.parent.context.$implicit)),t(e,12,0,e.parent.context.$implicit===n.DashboardDashlet.NEW_CASES_IN_THE_PREVIOUS_X_DAYS_OUTSIDE_THE_TRANSMISSION_CHAINS&&n.isDashletVisible(e.parent.context.$implicit)),t(e,14,0,e.parent.context.$implicit===n.DashboardDashlet.SUSPECT_CASES_WITH_PENDING_LAB_RESULT&&n.isDashletVisible(e.parent.context.$implicit)),t(e,16,0,e.parent.context.$implicit===n.DashboardDashlet.CASES_NOT_IDENTIFIED_THROUGH_CONTACTS&&n.isDashletVisible(e.parent.context.$implicit)),t(e,18,0,e.parent.context.$implicit===n.DashboardDashlet.CONTACTS_PER_CASE_MEAN&&n.isDashletVisible(e.parent.context.$implicit)),t(e,20,0,e.parent.context.$implicit===n.DashboardDashlet.CONTACTS_PER_CASE_MEDIAN&&n.isDashletVisible(e.parent.context.$implicit)),t(e,22,0,e.parent.context.$implicit===n.DashboardDashlet.CONTACTS_ON_THE_FOLLOW_UP_LIST&&n.isDashletVisible(e.parent.context.$implicit)),t(e,24,0,e.parent.context.$implicit===n.DashboardDashlet.CONTACTS_LOST_TO_FOLLOW_UP&&n.isDashletVisible(e.parent.context.$implicit)),t(e,26,0,e.parent.context.$implicit===n.DashboardDashlet.CONTACTS_NOT_SEEN_IN_X_DAYS&&n.isDashletVisible(e.parent.context.$implicit)),t(e,28,0,e.parent.context.$implicit===n.DashboardDashlet.CONTACTS_BECOMING_CASES_IN_TIME_AND_SPACE&&n.isDashletVisible(e.parent.context.$implicit)),t(e,30,0,e.parent.context.$implicit===n.DashboardDashlet.CONTACTS_SEEN_EACH_DAY&&n.isDashletVisible(e.parent.context.$implicit)),t(e,32,0,e.parent.context.$implicit===n.DashboardDashlet.CONTACTS_WITH_SUCCESSFUL_FOLLOW_UP&&n.isDashletVisible(e.parent.context.$implicit)),t(e,34,0,e.parent.context.$implicit===n.DashboardDashlet.INDEPENDENT_TRANSMISSION_CHAINS&&n.isDashletVisible(e.parent.context.$implicit)),t(e,36,0,e.parent.context.$implicit===n.DashboardDashlet.ACTIVE_TRANSMISSION_CHAINS&&n.isDashletVisible(e.parent.context.$implicit)),t(e,38,0,e.parent.context.$implicit===n.DashboardDashlet.TRANSMISSION_CHAINS_FROM_CONTACTS_WHO_BECAME_CASES&&n.isDashletVisible(e.parent.context.$implicit))},null)}function ol(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,al)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){var n=e.parent.parent.parent.context.$implicit.permissions[e.context.$implicit]&&e.parent.parent.parent.context.$implicit.permissions[e.context.$implicit].hasAccess(e.component.authUser);t(e,2,0,n)},null)}function rl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"div",[["fxLayout","row wrap"]],null,null,null,null,null)),i["\u0275did"](1,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ol)),i["\u0275did"](3,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,"row wrap"),t(e,3,0,e.parent.parent.context.$implicit.dashlets)},null)}function ll(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,16777216,null,null,30,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,fn,hn)),i["\u0275did"](1,1753088,null,1,sn.d,[[3,sn.a],i.ChangeDetectorRef,dn.d,i.ViewContainerRef,x.DOCUMENT,[2,M.a],[2,sn.b]],null,null),i["\u0275qud"](335544320,9,{_lazyContent:0}),i["\u0275prd"](256,null,sn.a,void 0,[]),(t()(),i["\u0275eld"](4,0,null,0,24,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"]],function(t,e,n){var a=!0;return"click"===e&&(a=!1!==i["\u0275nov"](t,5)._toggle()&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,5)._keydown(n)&&a),a},mn,gn)),i["\u0275did"](5,180224,null,0,sn.f,[sn.d,i.ElementRef,G.h,i.ChangeDetectorRef,[2,sn.b]],null,null),i["\u0275pod"](6,{collapsedHeight:0,expandedHeight:1}),i["\u0275pod"](7,{value:0,params:1}),(t()(),i["\u0275eld"](8,0,null,2,20,"div",[["class","dashlet-kpi-header dashlet-kpi-header-100"],["fxLayout","row"],["fxLayoutAlign","space-between center"]],null,null,null,null,null)),i["\u0275did"](9,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](10,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(t()(),i["\u0275eld"](11,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275ted"](12,null,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275eld"](14,0,null,null,14,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](15,16777216,null,null,4,"button",[["aria-haspopup","true"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"click"],[null,"mousedown"],[null,"keydown"]],function(t,e,n){var a=!0;return"mousedown"===e&&(a=!1!==i["\u0275nov"](t,17)._handleMousedown(n)&&a),"keydown"===e&&(a=!1!==i["\u0275nov"](t,17)._handleKeydown(n)&&a),"click"===e&&(a=!1!==i["\u0275nov"](t,17)._handleClick(n)&&a),"click"===e&&(a=!1!==n.stopPropagation()&&a),a},k.d,k.b)),i["\u0275did"](16,180224,null,0,N.b,[i.ElementRef,V.a,G.h,[2,M.a]],{disableRipple:[0,"disableRipple"]},null),i["\u0275did"](17,1196032,null,0,B.f,[H.c,i.ElementRef,i.ViewContainerRef,B.b,[2,B.c],[8,null],[2,U.b],G.h],{menu:[0,"menu"]},null),(t()(),i["\u0275eld"](18,0,null,0,1,"span",[["class","xt-icon"]],null,null,null,null,null)),(t()(),i["\u0275ted"](-1,null,["menu"])),(t()(),i["\u0275eld"](20,0,null,null,8,"mat-menu",[],null,null,null,q.d,q.a)),i["\u0275did"](21,1294336,[["actionsMenu",4]],2,B.c,[i.ElementRef,i.NgZone,B.a],null,null),i["\u0275qud"](603979776,10,{items:1}),i["\u0275qud"](335544320,11,{lazyContent:0}),i["\u0275prd"](2048,null,B.h,null,[B.c]),(t()(),i["\u0275eld"](25,0,null,0,3,"button",[["class","dashboard-kpi-menu-item mat-menu-item"],["mat-menu-item",""],["type","button"]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,n){var a=!0,o=t.component;return"click"===e&&(a=!1!==i["\u0275nov"](t,26)._checkDisabled(n)&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,26)._handleMouseEnter()&&a),"click"===e&&(a=!1!==o.showAllDashlets(t.parent.context.$implicit.id)&&a),a},q.c,q.b)),i["\u0275did"](26,180224,[[10,4]],0,B.d,[i.ElementRef,x.DOCUMENT,G.h,[2,B.h]],null,null),(t()(),i["\u0275ted"](27,0,[" "," "])),i["\u0275pid"](131072,j.j,[j.k,i.ChangeDetectorRef]),(t()(),i["\u0275and"](0,null,1,1,null,rl)),i["\u0275did"](30,16384,[[9,4]],0,sn.e,[i.TemplateRef],null,null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){t(e,9,0,"row"),t(e,10,0,"space-between center"),t(e,16,0,!0),t(e,17,0,i["\u0275nov"](e,21)),t(e,21,0)},function(t,e){t(e,0,0,i["\u0275nov"](e,1).expanded,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode,i["\u0275nov"](e,1)._hasSpacing());var n=i["\u0275nov"](e,5).panel._headerId,a=i["\u0275nov"](e,5).disabled?-1:0,o=i["\u0275nov"](e,5)._getPanelId(),r=i["\u0275nov"](e,5)._isExpanded(),l=i["\u0275nov"](e,5).panel.disabled,s=i["\u0275nov"](e,5)._isExpanded(),u=t(e,7,0,i["\u0275nov"](e,5)._getExpandedState(),t(e,6,0,i["\u0275nov"](e,5).collapsedHeight,i["\u0275nov"](e,5).expandedHeight));t(e,4,0,n,a,o,r,l,s,u),t(e,12,0,i["\u0275unv"](e,12,0,i["\u0275nov"](e,13).transform(e.parent.context.$implicit.title))),t(e,15,0,i["\u0275nov"](e,16).disabled||null,"NoopAnimations"===i["\u0275nov"](e,16)._animationMode,i["\u0275nov"](e,17).menuOpen||null),t(e,25,0,i["\u0275nov"](e,26).role,i["\u0275nov"](e,26)._highlighted,i["\u0275nov"](e,26)._triggersSubmenu,i["\u0275nov"](e,26)._getTabIndex(),i["\u0275nov"](e,26).disabled.toString(),i["\u0275nov"](e,26).disabled||null),t(e,27,0,i["\u0275unv"](e,27,0,i["\u0275nov"](e,28).transform("LNG_PAGE_DASHBOARD_KPI_SECTION_MENU_SHOW_ALL_LABEL")))})}function sl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,ll)),i["\u0275did"](2,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](0,null,null,0))],function(t,e){var n=e.context.$implicit.hasAccess(e.component.authUser);t(e,2,0,n)},null)}function ul(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,18,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"app-side-filters",[],null,[[null,"filtersCollected"]],function(t,e,n){var i=!0;return"filtersCollected"===e&&(i=!1!==t.component.applySideFilters(n)&&i),i},Xo.b,Xo.a)),i["\u0275did"](2,49152,null,0,Wo.a,[qo.a,Oe.a,$o.a,W.a,Je.a,$o.a],{filterOptions:[0,"filterOptions"],fixedFilters:[1,"fixedFilters"]},{filtersCollected:"filtersCollected"}),(t()(),i["\u0275eld"](3,0,null,null,15,"div",[["class","page-content"],["fxLayout","column"]],null,null,null,null,null)),i["\u0275did"](4,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Lr)),i["\u0275did"](6,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Dr)),i["\u0275did"](8,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Pr)),i["\u0275did"](10,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Nr)),i["\u0275did"](12,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Gr)),i["\u0275did"](14,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](15,0,[[1,0],["kpiSection",1]],null,2,"div",[],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,sl)),i["\u0275did"](17,278528,null,0,x.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),i["\u0275eld"](18,0,null,null,0,"canvas",[["id","tempCanvas"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,2,0,n.availableSideFilters,!0),t(e,4,0,"column"),t(e,6,0,n.DashboardModel.canViewCaseSummaryDashlet(n.authUser)||n.DashboardModel.canViewCasePerLocationLevelDashlet(n.authUser)||n.DashboardModel.canViewCaseHospitalizedPieChartDashlet(n.authUser)),t(e,8,0,n.DashboardModel.canViewCotSizeHistogramDashlet(n.authUser)),t(e,10,0,n.DashboardModel.canViewEpiCurveStratifiedByClassificationDashlet(n.authUser)||n.DashboardModel.canViewEpiCurveStratifiedByOutcomeDashlet(n.authUser)||n.DashboardModel.canViewEpiCurveStratifiedByClassificationOverReportTimeDashlet(n.authUser)),t(e,12,0,n.DashboardModel.canViewContactFollowUpReportDashlet(n.authUser)),t(e,14,0,n.DashboardModel.canViewContactStatusReportDashlet(n.authUser)),t(e,17,0,n.kpiGroups)},null)}function cl(t){return i["\u0275vid"](0,[i["\u0275qud"](671088640,1,{kpiSection:0}),(t()(),i["\u0275eld"](1,0,null,null,15,"div",[],null,null,null,null,null)),(t()(),i["\u0275eld"](2,0,null,null,10,"app-topnav",[],null,null,null,Qo.b,Qo.a)),i["\u0275did"](3,245760,null,0,Ko.a,[we.a,Ve.a,Zo.a,Oe.a,Je.a,W.a],null,null),(t()(),i["\u0275eld"](4,0,null,0,8,null,null,null,null,null,null,null)),(t()(),i["\u0275eld"](5,0,null,null,7,"div",[["fxFlex",""],["fxLayout","row"],["fxLayoutAlign","space-between center"]],null,null,null,null,null)),i["\u0275did"](6,671744,null,0,K.e,[i.ElementRef,Z.i,[2,K.m],Z.f],{fxLayout:[0,"fxLayout"]},null),i["\u0275did"](7,671744,null,0,K.d,[i.ElementRef,Z.i,[2,K.k],Z.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),i["\u0275did"](8,671744,null,0,K.b,[i.ElementRef,Z.i,Z.e,K.j,Z.f],{fxFlex:[0,"fxFlex"]},null),(t()(),i["\u0275eld"](9,0,null,null,1,"app-breadcrumbs",[],null,null,null,Jo.b,Jo.a)),i["\u0275did"](10,49152,null,0,tr.a,[],{items:[0,"items"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,yr)),i["\u0275did"](12,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,Sr)),i["\u0275did"](14,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,ul)),i["\u0275did"](16,16384,null,0,x.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0),t(e,6,0,"row"),t(e,7,0,"space-between center"),t(e,8,0,""),t(e,10,0,n.breadcrumbs),t(e,12,0,!(null==n.selectedOutbreak||!n.selectedOutbreak.id)),t(e,14,0,n.noOutbreaksInSystem),t(e,16,0,!n.noOutbreaksInSystem)},null)}function dl(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-dashboard",[],null,null,null,cl,gr)),i["\u0275did"](1,245760,null,0,fr,[Ve.a,we.a,ar.a,or.a,Oe.a,ur.a,W.a,Je.a,hr.a,Le.a],null,null)],function(t,e){t(e,1,0)},null)}var hl=i["\u0275ccf"]("app-dashboard",fr,dl,{},{},[]),pl=n("M2Lx"),fl=n("Wf4p"),gl=n("OkvK"),bl=n("o3x0"),ml=n("jQLj"),vl=n("v9Dh"),xl=n("uGex"),_l=n("wmQ5"),yl=n("4epT"),Sl=n("bGeK"),Cl=n("62Te"),Al=n("QpxQ"),wl=n("3pJQ"),Tl=n("V9q+"),Ll=n("/VYK"),El=n("seP3"),Dl=n("b716"),Il=n("w+lc"),Ol=n("qAlS"),Rl=n("vARd"),Fl=n("y4qS"),Pl=n("BHnd"),kl=n("kWGw"),Nl=n("La40"),Vl=n("Nsh5"),Gl=n("8mMr"),Ml=n("LC5p"),Bl=n("0/Q6"),Hl=n("/dO6"),Ul=n("Lwpp"),jl=n("SMsm"),zl=n("de3e"),Yl=n("9It4"),Xl=n("s9w1"),Wl=n("Z4CC"),ql=n("7YpI"),$l=n("+dKA"),Ql=n("S6T7"),Kl=n("PCNd"),Zl=function(){return function(){}}();n("X486"),"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var Jl=function(){return function(){}}(),ts=function(){return function(){}}(),es=function(){return function(){}}(),ns=function(){return function(){}}(),is=(n("Ckr6"),function(){return function(){}}()),as=function(){return function(){}}(),os=function(){return function(){}}(),rs=function(){return function(){}}(),ls=(Math,function(){return function(){}}()),ss=function(){return function(){}}(),us=(n("yUfG"),function(){return function(){}}()),cs=function(){return function(){}}();"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains);var ds=function(){return function(){}}(),hs=n("YSh2"),ps=n("Zynz"),fs={permissions:pr.a.canViewDashboard};Me.n.forChild([{path:"",component:fr,canActivate:[ps.a],data:fs}]),n.d(e,"DashboardModuleNgFactory",function(){return gs});var gs=i["\u0275cmf"](a,[],function(t){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,r.a,r.b,l.a,s.b,s.a,u.a,c.a,d.a,h.a,p.a,f.a,g.a,b.a,m.a,v.a,P,hl]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,x.NgLocalization,x.NgLocaleLocalization,[i.LOCALE_ID,[2,x["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,Y.w,Y.w,[]),i["\u0275mpd"](5120,i.APP_BOOTSTRAP_LISTENER,function(t,e){return[Z.j(t,e)]},[x.DOCUMENT,i.PLATFORM_ID]),i["\u0275mpd"](4608,pl.c,pl.c,[]),i["\u0275mpd"](4608,fl.d,fl.d,[]),i["\u0275mpd"](4608,et.f,fl.e,[[2,fl.i],[2,fl.n]]),i["\u0275mpd"](4608,x.LocationStrategy,x.PathLocationStrategy,[x.PlatformLocation,[2,x.APP_BASE_HREF]]),i["\u0275mpd"](4608,x.Location,x.Location,[x.LocationStrategy]),i["\u0275mpd"](4608,H.c,H.c,[H.i,H.e,i.ComponentFactoryResolver,H.h,H.f,i.Injector,i.NgZone,x.DOCUMENT,U.b,[2,x.Location]]),i["\u0275mpd"](5120,H.j,H.k,[H.c]),i["\u0275mpd"](5120,B.b,B.g,[H.c]),i["\u0275mpd"](5120,gl.d,gl.a,[[3,gl.d]]),i["\u0275mpd"](4608,fl.c,fl.x,[[2,fl.h],V.a]),i["\u0275mpd"](5120,bl.c,bl.d,[H.c]),i["\u0275mpd"](135680,bl.e,bl.e,[H.c,i.Injector,[2,x.Location],[2,bl.b],bl.c,[3,bl.e],H.e]),i["\u0275mpd"](4608,ml.i,ml.i,[]),i["\u0275mpd"](5120,ml.a,ml.b,[H.c]),i["\u0275mpd"](5120,vl.b,vl.c,[H.c]),i["\u0275mpd"](5120,xl.a,xl.b,[H.c]),i["\u0275mpd"](5120,_l.g,_l.a,[[3,_l.g]]),i["\u0275mpd"](5120,yl.c,yl.a,[[3,yl.c]]),i["\u0275mpd"](5120,"WINDOW",Sl.g,[]),i["\u0275mpd"](4608,Cl.e,Cl.e,[]),i["\u0275mpd"](4608,pt,pt,[i.ApplicationRef,i.ComponentFactoryResolver,i.Injector]),i["\u0275mpd"](4608,ft,ft,[pt]),i["\u0275mpd"](1073742336,Me.n,Me.n,[[2,Me.t],[2,Me.k]]),i["\u0275mpd"](1073742336,x.CommonModule,x.CommonModule,[]),i["\u0275mpd"](1073742336,Al.c,Al.c,[]),i["\u0275mpd"](1073742336,Y.u,Y.u,[]),i["\u0275mpd"](1073742336,Y.g,Y.g,[]),i["\u0275mpd"](1073742336,Z.c,Z.c,[]),i["\u0275mpd"](1073742336,U.a,U.a,[]),i["\u0275mpd"](1073742336,K.h,K.h,[]),i["\u0275mpd"](1073742336,Oi.d,Oi.d,[]),i["\u0275mpd"](1073742336,wl.a,wl.a,[]),i["\u0275mpd"](1073742336,Tl.a,Tl.a,[[2,Z.g],i.PLATFORM_ID]),i["\u0275mpd"](1073742336,fl.n,fl.n,[[2,fl.f],[2,et.g]]),i["\u0275mpd"](1073742336,V.b,V.b,[]),i["\u0275mpd"](1073742336,fl.w,fl.w,[]),i["\u0275mpd"](1073742336,N.c,N.c,[]),i["\u0275mpd"](1073742336,Ll.c,Ll.c,[]),i["\u0275mpd"](1073742336,pl.d,pl.d,[]),i["\u0275mpd"](1073742336,El.d,El.d,[]),i["\u0275mpd"](1073742336,Dl.c,Dl.c,[]),i["\u0275mpd"](1073742336,Il.b,Il.b,[]),i["\u0275mpd"](1073742336,cn.g,cn.g,[]),i["\u0275mpd"](1073742336,Ol.c,Ol.c,[]),i["\u0275mpd"](1073742336,H.g,H.g,[]),i["\u0275mpd"](1073742336,Rl.e,Rl.e,[]),i["\u0275mpd"](1073742336,B.e,B.e,[]),i["\u0275mpd"](1073742336,Fl.p,Fl.p,[]),i["\u0275mpd"](1073742336,Pl.l,Pl.l,[]),i["\u0275mpd"](1073742336,gl.e,gl.e,[]),i["\u0275mpd"](1073742336,kl.c,kl.c,[]),i["\u0275mpd"](1073742336,G.a,G.a,[]),i["\u0275mpd"](1073742336,Nl.k,Nl.k,[]),i["\u0275mpd"](1073742336,Q.c,Q.c,[]),i["\u0275mpd"](1073742336,fl.y,fl.y,[]),i["\u0275mpd"](1073742336,fl.p,fl.p,[]),i["\u0275mpd"](1073742336,bl.h,bl.h,[]),i["\u0275mpd"](1073742336,ml.j,ml.j,[]),i["\u0275mpd"](1073742336,Vl.h,Vl.h,[]),i["\u0275mpd"](1073742336,Gl.b,Gl.b,[]),i["\u0275mpd"](1073742336,fl.o,fl.o,[]),i["\u0275mpd"](1073742336,fl.u,fl.u,[]),i["\u0275mpd"](1073742336,Ml.b,Ml.b,[]),i["\u0275mpd"](1073742336,Bl.c,Bl.c,[]),i["\u0275mpd"](1073742336,Hl.d,Hl.d,[]),i["\u0275mpd"](1073742336,vl.e,vl.e,[]),i["\u0275mpd"](1073742336,fl.s,fl.s,[]),i["\u0275mpd"](1073742336,xl.d,xl.d,[]),i["\u0275mpd"](1073742336,Ul.e,Ul.e,[]),i["\u0275mpd"](1073742336,jl.c,jl.c,[]),i["\u0275mpd"](1073742336,_l.h,_l.h,[]),i["\u0275mpd"](1073742336,zl.c,zl.c,[]),i["\u0275mpd"](1073742336,Ae.c,Ae.c,[]),i["\u0275mpd"](1073742336,yl.d,yl.d,[]),i["\u0275mpd"](1073742336,Yl.c,Yl.c,[]),i["\u0275mpd"](1073742336,un.c,un.c,[]),i["\u0275mpd"](1073742336,sn.c,sn.c,[]),i["\u0275mpd"](1073742336,Xl.a,Xl.a,[]),i["\u0275mpd"](1073742336,Wl.b,Wl.b,[]),i["\u0275mpd"](1073742336,j.h,j.h,[]),i["\u0275mpd"](1073742336,ql.a,ql.a,[]),i["\u0275mpd"](1073742336,$l.a,$l.a,[]),i["\u0275mpd"](1073742336,Ql.FileUploadModule,Ql.FileUploadModule,[]),i["\u0275mpd"](1073742336,Sl.e,Sl.e,[]),i["\u0275mpd"](1073742336,Cl.d,Cl.d,[]),i["\u0275mpd"](1073742336,Kl.a,Kl.a,[]),i["\u0275mpd"](1073742336,Zl,Zl,[]),i["\u0275mpd"](1073742336,xt,xt,[]),i["\u0275mpd"](1073742336,Jl,Jl,[]),i["\u0275mpd"](1073742336,ts,ts,[]),i["\u0275mpd"](1073742336,es,es,[]),i["\u0275mpd"](1073742336,ns,ns,[]),i["\u0275mpd"](1073742336,is,is,[]),i["\u0275mpd"](1073742336,as,as,[]),i["\u0275mpd"](1073742336,os,os,[]),i["\u0275mpd"](1073742336,rs,rs,[]),i["\u0275mpd"](1073742336,ls,ls,[]),i["\u0275mpd"](1073742336,ss,ss,[]),i["\u0275mpd"](1073742336,us,us,[]),i["\u0275mpd"](1073742336,cs,cs,[]),i["\u0275mpd"](1073742336,ds,ds,[]),i["\u0275mpd"](1073742336,a,a,[]),i["\u0275mpd"](256,Al.d,Al.e,[]),i["\u0275mpd"](256,fl.g,fl.k,[]),i["\u0275mpd"](256,Hl.a,{separatorKeyCodes:[hs.f]},[]),i["\u0275mpd"](256,Ae.a,Xl.b,[]),i["\u0275mpd"](1024,Sl.a,function(){return[Sl.c,Sl.b]},[]),i["\u0275mpd"](1024,Me.i,function(){return[[{path:"",component:fr,canActivate:[ps.a],data:fs}]]},[])])})},LV99:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){var e=this;e.d3=window.d3?window.d3:n("VphZ"),e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}function i(t){this.internal=new e(this),this.internal.loadConfig(t),this.internal.beforeInit(t),this.internal.init(),this.internal.afterInit(t),function t(e,n,i){Object.keys(e).forEach(function(a){n[a]=e[a].bind(i),Object.keys(e[a]).length>0&&t(e[a],n[a],i)})}(i.prototype,this,this)}var a=function(t){return Math.ceil(t)+.5},o=function(t){return 10*Math.ceil(t/10)},r=function(t){return t[1]-t[0]},l=function(t,e,n){return d(t[e])?t[e]:n},s=function(t){var e=u(t),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}},u=function(t){try{return t.getBBox()}catch(e){return{x:0,y:0,width:0,height:0}}},c=function(t){return Array.isArray(t)},d=function(t){return void 0!==t},h=function(e){return null==e||g(e)&&0===e.length||"object"===t(e)&&0===Object.keys(e).length},p=function(t){return"function"==typeof t},f=function(t){return"number"==typeof t},g=function(t){return"string"==typeof t},b=function(t){return void 0===t},m=function(t){return t||0===t},v=function(t){return!h(t)},x=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t};function _(t,e){this.component=t,this.params=e||{},this.d3=t.d3,this.scale=this.d3.scaleLinear(),this.orient="bottom",this.innerTickSize=6,this.outerTickSize=this.params.withOuterTick?6:0,this.tickPadding=3,this.tickValues=null,this.tickOffset=0,this.tickCulling=!0,this.tickTextRotate=this.params.tickTextRotate,this.axis=this.generateAxis()}_.prototype.axisX=function(t,e,n){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"})},_.prototype.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},_.prototype.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},_.prototype.generateTicks=function(t){var e,n,i=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)i.push(e);return i.length>0&&i[0]>0&&i.unshift(i[0]-(i[1]-i[0])),i},_.prototype.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},_.prototype.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},_.prototype.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},_.prototype.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var n={h:11.5,w:5.5};return t.select("text").text(function(t){return e.textFormatted(t)}).each(function(t){var i=u(this),a=e.textFormatted(t),o=i.height,r=a?i.width/a.length:void 0;o&&r&&(n.h=o,n.w=r)}).text(""),e.tickTextCharSize=n,n},_.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},_.prototype.tspanData=function(t,e,n){var i=this.params.tickMultiline?this.splitTickText(t,n):[].concat(this.textFormatted(t));return this.params.tickMultiline&&this.params.tickMultilineMax>0&&(i=this.ellipsify(i,this.params.tickMultilineMax)),i.map(function(t){return{index:e,splitted:t,length:i.length}})},_.prototype.splitTickText=function(t,e){var n,i,a=this,o=a.textFormatted(t),r=a.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(o)?o:((!r||r<=0)&&(r=a.isVertical()?95:a.params.isCategory?Math.ceil(e(1)-e(0))-12:110),function t(e,o){i=void 0;for(var l=1;l<o.length;l++)if(" "===o.charAt(l)&&(i=l),n=o.substr(0,l+1),r<a.tickTextCharSize.w*n.length)return t(e.concat(o.substr(0,i||l)),o.slice(i?i+1:l));return e.concat(o)}([],o+""))},_.prototype.ellipsify=function(t,e){if(t.length<=e)return t;for(var n=t.slice(0,e),i=3,a=e-1;a>=0;a--){var o=n[a].length;if(n[a]=n[a].substr(0,o-i).padEnd(o,"."),(i-=o)<=0)break}return n},_.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},_.prototype.lineY2=function(t){var e=this.scale(t)+(this.tickCentered?0:this.tickOffset);return this.range[0]<e&&e<this.range[1]?this.innerTickSize:0},_.prototype.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):this.tickLength},_.prototype.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},_.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},_.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},_.prototype.tspanDy=function(t,e){var n=this.tickTextCharSize.h;return 0===e&&(n=this.isVertical()?-(this.tickTextCharSize.h/2*(t.length-1)-3):".71em"),n},_.prototype.generateAxis=function(){var t=this,e=t.d3,n=t.params;function i(a,o){var r;return a.each(function(){var a,l,s,u=i.g=e.select(this),c=this.__chart__||t.scale,d=this.__chart__=t.copyScale(),h=t.tickValues?t.tickValues:t.generateTicks(d),p=u.selectAll(".tick").data(h,d),f=p.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),g=p.exit().remove(),b=p.merge(f);n.isCategory?(t.tickOffset=Math.ceil((d(1)-d(0))/2),l=t.tickCentered?0:t.tickOffset,s=t.tickCentered?t.tickOffset:0):t.tickOffset=l=0,t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(u.select(".tick"));var m=b.select("line").merge(f.append("line")),v=b.select("text").merge(f.append("text")),x=b.selectAll("text").selectAll("tspan").data(function(e,n){return t.tspanData(e,n,d)}),_=x.enter().append("tspan").merge(x).text(function(t){return t.splitted});x.exit().remove();var y=u.selectAll(".domain").data([0]),S=y.enter().append("path").merge(y).attr("class","domain");switch(t.orient){case"bottom":a=t.axisX,m.attr("x1",l).attr("x2",l).attr("y2",function(e,n){return t.lineY2(e,n)}),v.attr("x",0).attr("y",function(e,n){return t.textY(e,n)}).attr("transform",function(e,n){return t.textTransform(e,n)}).style("text-anchor",function(e,n){return t.textTextAnchor(e,n)}),_.attr("x",0).attr("dy",function(e,n){return t.tspanDy(e,n)}).attr("dx",function(e,n){return t.tspanDx(e,n)}),S.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":a=t.axisX,m.attr("x1",l).attr("x2",l).attr("y2",function(e,n){return-1*t.lineY2(e,n)}),v.attr("x",0).attr("y",function(e,i){return-1*t.textY(e,i)-(n.isCategory?2:t.tickLength-2)}).attr("transform",function(e,n){return t.textTransform(e,n)}).style("text-anchor",function(e,n){return t.textTextAnchor(e,n)}),_.attr("x",0).attr("dy",function(e,n){return t.tspanDy(e,n)}).attr("dx",function(e,n){return t.tspanDx(e,n)}),S.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":a=t.axisY,m.attr("x2",-t.innerTickSize).attr("y1",s).attr("y2",s),v.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),_.attr("x",-t.tickLength).attr("dy",function(e,n){return t.tspanDy(e,n)}),S.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":a=t.axisY,m.attr("x2",t.innerTickSize).attr("y1",s).attr("y2",s),v.attr("x",t.tickLength).attr("y",t.tickOffset).style("text-anchor","start"),_.attr("x",t.tickLength).attr("dy",function(e,n){return t.tspanDy(e,n)}),S.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(d.rangeBand){var C=d,A=C.rangeBand()/2;c=d=function(t){return C(t)+A}}else c.rangeBand?c=d:g.call(a,d,t.tickOffset);f.call(a,c,t.tickOffset),r=(o?b.transition(o):b).style("opacity",1).call(a,d,t.tickOffset)}),r}return i.scale=function(e){return arguments.length?(t.scale=e,i):t.scale},i.orient=function(e){return arguments.length?(t.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",i):t.orient},i.tickFormat=function(e){return arguments.length?(t.tickFormat=e,i):t.tickFormat},i.tickCentered=function(e){return arguments.length?(t.tickCentered=e,i):t.tickCentered},i.tickOffset=function(){return t.tickOffset},i.tickInterval=function(){var e;return(e=n.isCategory?2*t.tickOffset:(i.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize)/i.g.selectAll("line").size())===1/0?0:e},i.ticks=function(){return arguments.length?(t.tickArguments=arguments,i):t.tickArguments},i.tickCulling=function(e){return arguments.length?(t.tickCulling=e,i):t.tickCulling},i.tickValues=function(e){if("function"==typeof e)t.tickValues=function(){return e(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=e}return i},i};var y={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},S=function t(e){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.owner=e,this.d3=e.d3,this.internal=_};S.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",y.axis+" "+y.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",y.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",y.axis+" "+y.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",y.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",y.axis+" "+y.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",y.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},S.prototype.getXAxis=function(t,e,n,i,a,o,r){var l=this.owner,s=l.config,u={isCategory:l.isCategorized(),withOuterTick:a,tickMultiline:s.axis_x_tick_multiline,tickMultilineMax:s.axis_x_tick_multiline?Number(s.axis_x_tick_multilineMax):0,tickWidth:s.axis_x_tick_width,tickTextRotate:r?0:s.axis_x_tick_rotate,withoutTransition:o},c=new this.internal(this,u).axis.scale(t).orient(e);return l.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(t){return l.parseDate(t)})),c.tickFormat(n).tickValues(i),l.isCategorized()&&(c.tickCentered(s.axis_x_tick_centered),h(s.axis_x_tick_culling)&&(s.axis_x_tick_culling=!1)),c},S.prototype.updateXAxisTickValues=function(t,e){var n,i=this.owner,a=i.config;return(a.axis_x_tick_fit||a.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(t),a.axis_x_tick_count,i.isTimeSeries())),e?e.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},S.prototype.getYAxis=function(t,e,n,i,a,o,r){var l=this.owner,s=l.config,u=s["axis_".concat(t,"_tick_format")];!u&&l.isAxisNormalized(t)&&(u=function(t){return"".concat(t,"%")});var c=new this.internal(this,{withOuterTick:a,withoutTransition:o,tickTextRotate:r?0:s.axis_y_tick_rotate}).axis.scale(e).orient(n);return u&&c.tickFormat(u),l.isTimeSeriesY()?c.ticks(s.axis_y_tick_time_type,s.axis_y_tick_time_interval):c.tickValues(i),c},S.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},S.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t};return e.axis_x_tick_format&&(p(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),p(n)?function(e){return n.call(t,e)}:n},S.prototype.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},S.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},S.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},S.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},S.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},S.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return g(e)?e:e?e.text:null},S.prototype.setLabelText=function(t,e){var n=this.owner.config,i=this.getLabelOptionByAxisId(t);g(i)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):i&&(i.text=e)},S.prototype.getLabelPosition=function(e,n){var i=this.getLabelOptionByAxisId(e),a=i&&"object"===t(i)&&i.position?i.position:n;return{isInner:a.indexOf("inner")>=0,isOuter:a.indexOf("outer")>=0,isLeft:a.indexOf("left")>=0,isCenter:a.indexOf("center")>=0,isRight:a.indexOf("right")>=0,isTop:a.indexOf("top")>=0,isMiddle:a.indexOf("middle")>=0,isBottom:a.indexOf("bottom")>=0}},S.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},S.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},S.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},S.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},S.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},S.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},S.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},S.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},S.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},S.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},S.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},S.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},S.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},S.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},S.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},S.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},S.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):n.isInner?"-0.5em":t.getHorizontalAxisHeight("x")-10},S.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},S.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},S.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},S.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},S.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},S.prototype.getMaxTickWidth=function(t,e){var n,i,a,o,r=this.owner,l=0;return e&&r.currentMaxTickWidths[t]?r.currentMaxTickWidths[t]:(r.svg&&(n=r.filterTargetsToShow(r.data.targets),"y"===t?(i=r.y.copy().domain(r.getYDomain(n,"y")),a=this.getYAxis(t,i,r.yOrient,r.yAxisTickValues,!1,!0,!0)):"y2"===t?(i=r.y2.copy().domain(r.getYDomain(n,"y2")),a=this.getYAxis(t,i,r.y2Orient,r.y2AxisTickValues,!1,!0,!0)):(i=r.x.copy().domain(r.getXDomain(n)),a=this.getXAxis(i,r.xOrient,r.xAxisTickFormat,r.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,a)),(o=r.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(a).each(function(){r.d3.select(this).selectAll("text").each(function(){var t=u(this);l<t.width&&(l=t.width)}),o.remove()})),r.currentMaxTickWidths[t]=l<=0?r.currentMaxTickWidths[t]:l,r.currentMaxTickWidths[t])},S.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+y.axisX+" ."+y.axisXLabel),i=e.main.select("."+y.axisY+" ."+y.axisYLabel),a=e.main.select("."+y.axisY2+" ."+y.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?a.transition():a).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},S.prototype.getPadding=function(t,e,n,i){var a="number"==typeof t?t:t[e];return m(a)?"ratio"===t.unit?t[e]*i:this.convertPixelsToAxisPadding(a,i):n},S.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},S.prototype.generateTickValues=function(t,e,n){var i,a,o,r,l,s,u,c=t;if(e)if(1===(i=p(e)?e():e))c=[t[0]];else if(2===i)c=[t[0],t[t.length-1]];else if(i>2){for(l=((o=t[t.length-1])-(a=t[0]))/(1+(r=i-2)),c=[a],s=0;s<r;s++)u=+a+l*(s+1),c.push(n?new Date(u):u);c.push(o)}return n||(c=c.sort(function(t,e){return t-e})),c},S.prototype.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},S.prototype.redraw=function(t,e){var n=this.owner,i=t?n.d3.transition().duration(t):null;n.axes.x.style("opacity",e?0:1).call(n.xAxis,i),n.axes.y.style("opacity",e?0:1).call(n.yAxis,i),n.axes.y2.style("opacity",e?0:1).call(n.y2Axis,i),n.axes.subx.style("opacity",e?0:1).call(n.subXAxis,i)};var C={version:"0.7.8",chart:{fn:i.prototype,internal:{fn:e.prototype,axis:{fn:S.prototype,internal:{fn:_.prototype}}}},generate:function(t){return new i(t)}};function A(t){return t/Math.pow(10,Math.ceil(Math.log(t)/Math.LN10-1e-12))==1}e.prototype.beforeInit=function(){},e.prototype.afterInit=function(){},e.prototype.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},e.prototype.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(n.data_xLocaltime?e.timeParse:e.utcParse)(t.config.data_xFormat),t.axisTimeFormat=n.axis_x_localtime?e.timeFormat:e.utcFormat,t.defaultAxisTimeFormat=function(t){return t.getMilliseconds()?e.timeFormat(".%L")(t):t.getSeconds()?e.timeFormat(":%S")(t):t.getMinutes()?e.timeFormat("%I:%M")(t):t.getHours()?e.timeFormat("%I %p")(t):t.getDay()&&1!==t.getDate()?e.timeFormat("%-m/%-d")(t):1!==t.getDate()?e.timeFormat("%-m/%-d")(t):t.getMonth()?e.timeFormat("%-m/%-d")(t):e.timeFormat("%Y/%-m/%-d")(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?n.axis_x_inner?"right":"left":n.axis_x_inner?"top":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},e.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},e.prototype.initWithData=function(t){var e,n,i=this,a=i.d3,o=i.config,r=!0;i.axis=new S(i),i.selectChart=o.bindto?"function"==typeof o.bindto.node?o.bindto:a.select(o.bindto):a.selectAll([]),i.selectChart.empty()&&(i.selectChart=a.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),r=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),o.data_filter&&(i.data.targets=i.data.targets.filter(o.data_filter)),o.data_hide&&i.addHiddenTargetIds(!0===o.data_hide?i.mapToIds(i.data.targets):o.data_hide),o.legend_hide&&i.addHiddenLegendIds(!0===o.legend_hide?i.mapToIds(i.data.targets):o.legend_hide),i.isStanfordGraphType()&&i.initStanfordData(),i.updateSizes(),i.updateScales(),i.x.domain(a.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(i)}).on("mouseleave",function(){return o.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initPie&&i.initPie(),i.initDragZoom&&i.initDragZoom(),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),i.initZoom&&i.initZoom(),i.isStanfordGraphType()&&i.drawColorScale(),i.initSubchartBrush&&i.initSubchartBrush(),n.append("text").attr("class",y.text+" "+y.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",y.chart),o.grid_lines_front&&i.initGridLines(),i.initStanfordElements(),i.initEventRect(),i.initChartElements(),i.axis.init(),i.updateTargets(i.data.targets),o.axis_x_selection&&i.brush.selectionAsValue(i.getDefaultSelection()),r&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.bindWindowFocus(),i.api.element=i.selectChart.node()},e.prototype.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),a=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(a),y2:Math.ceil(o)})})},e.prototype.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,i=t.legend?t.getLegendWidth():0,a=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),r=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),l=e.subchart_show&&!o?e.subchart_size_height+r:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+a+t.getCurrentPaddingBottom(),left:l+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:r+l+a+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+a,left:t.rotated_padding_left}:{top:t.currentHeight-l-a,right:NaN,bottom:r+a,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,i),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?i+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},e.prototype.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},e.prototype.showTargets=function(){var t=this;t.svg.selectAll("."+y.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},e.prototype.redraw=function(t,e){var n,i,a,o,r,s,u,c,d,h,p,f,g,b,m,v,x,_,S,C,A,w,T,L,E,D,I,O,R,F,P,k=this,N=k.main,V=k.d3,G=k.config,M=k.getShapeIndices(k.isAreaType),B=k.getShapeIndices(k.isBarType),H=k.getShapeIndices(k.isLineType),U=k.hasArcType(),j=k.filterTargetsToShow(k.data.targets),z=k.xv.bind(k);if(n=l(t=t||{},"withY",!0),i=l(t,"withSubchart",!0),a=l(t,"withTransition",!0),s=l(t,"withTransform",!1),u=l(t,"withUpdateXDomain",!1),c=l(t,"withUpdateOrgXDomain",!1),d=l(t,"withTrimXDomain",!0),g=l(t,"withUpdateXAxis",u),h=l(t,"withLegend",!1),p=l(t,"withEventRect",!0),f=l(t,"withDimension",!0),o=l(t,"withTransitionForExit",a),r=l(t,"withTransitionForAxis",a),S=a?G.transition_duration:0,C=o?S:0,A=r?S:0,e=e||k.axis.generateTransitions(A),h&&G.legend_show?k.updateLegend(k.mapToIds(k.data.targets),t,e):f&&k.updateDimension(!0),k.isCategorized()&&0===j.length&&k.x.domain([0,k.axes.x.selectAll(".tick").size()]),j.length?(k.updateXDomain(j,u,c,d),G.axis_x_tick_values||(D=k.axis.updateXAxisTickValues(j))):(k.xAxis.tickValues([]),k.subXAxis.tickValues([])),G.zoom_rescale&&!t.flow&&(R=k.x.orgDomain()),k.y.domain(k.getYDomain(j,"y",R)),k.y2.domain(k.getYDomain(j,"y2",R)),!G.axis_y_tick_values&&G.axis_y_tick_count&&k.yAxis.tickValues(k.axis.generateTickValues(k.y.domain(),G.axis_y_tick_count)),!G.axis_y2_tick_values&&G.axis_y2_tick_count&&k.y2Axis.tickValues(k.axis.generateTickValues(k.y2.domain(),G.axis_y2_tick_count)),k.axis.redraw(A,U),k.axis.updateLabels(a),(u||g)&&j.length)if(G.axis_x_tick_culling&&D){for(I=1;I<D.length;I++)if(D.length/I<G.axis_x_tick_culling_max){O=I;break}k.svg.selectAll("."+y.axisX+" .tick text").each(function(t){var e=D.indexOf(t);e>=0&&V.select(this).style("display",e%O?"none":"block")})}else k.svg.selectAll("."+y.axisX+" .tick text").style("display","block");b=k.generateDrawArea?k.generateDrawArea(M,!1):void 0,m=k.generateDrawBar?k.generateDrawBar(B):void 0,v=k.generateDrawLine?k.generateDrawLine(H,!1):void 0,x=k.generateXYForText(M,B,H,!0),_=k.generateXYForText(M,B,H,!1),k.updateCircleY(),F=(k.config.axis_rotated?k.circleY:k.circleX).bind(k),P=(k.config.axis_rotated?k.circleX:k.circleY).bind(k),n&&(k.subY.domain(k.getYDomain(j,"y")),k.subY2.domain(k.getYDomain(j,"y2"))),k.updateXgridFocus(),N.select("text."+y.text+"."+y.empty).attr("x",k.width/2).attr("y",k.height/2).text(G.data_empty_label_text).transition().style("opacity",j.length?0:1),p&&k.redrawEventRect(),k.updateGrid(S),k.updateStanfordElements(S),k.updateRegion(S),k.updateBar(C),k.updateLine(C),k.updateArea(C),k.updateCircle(F,P),k.hasDataLabel()&&k.updateText(x,_,C),k.redrawTitle&&k.redrawTitle(),k.redrawArc&&k.redrawArc(S,C,s),k.redrawSubchart&&k.redrawSubchart(i,e,S,C,M,B,H),k.isStanfordGraphType()&&k.drawColorScale(),N.selectAll("."+y.selectedCircles).filter(k.isBarType.bind(k)).selectAll("circle").remove(),t.flow&&(L=k.generateFlow({targets:j,flow:t.flow,duration:t.flow.duration,drawBar:m,drawLine:v,drawArea:b,cx:F,cy:P,xv:z,xForText:x,yForText:_})),S&&k.isTabVisible()?(E=V.transition().duration(S),w=[],[k.redrawBar(m,!0,E),k.redrawLine(v,!0,E),k.redrawArea(b,!0,E),k.redrawCircle(F,P,!0,E),k.redrawText(x,_,t.flow,!0,E),k.redrawRegion(!0,E),k.redrawGrid(!0,E)].forEach(function(t){t.forEach(function(t){w.push(t)})}),T=k.generateWait(),w.forEach(function(t){T.add(t)}),T(function(){L&&L(),G.onrendered&&G.onrendered.call(k)})):(k.redrawBar(m),k.redrawLine(v),k.redrawArea(b),k.redrawCircle(F,P),k.redrawText(x,_,t.flow),k.redrawRegion(),k.redrawGrid(),L&&L(),G.onrendered&&G.onrendered.call(k)),k.mapToIds(k.data.targets).forEach(function(t){k.withoutFadeIn[t]=!0})},e.prototype.updateAndRedraw=function(t){var e,n=this,i=n.config;(t=t||{}).withTransition=l(t,"withTransition",!0),t.withTransform=l(t,"withTransform",!1),t.withLegend=l(t,"withLegend",!1),t.withUpdateXDomain=l(t,"withUpdateXDomain",!0),t.withUpdateOrgXDomain=l(t,"withUpdateOrgXDomain",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=l(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&i.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},e.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},e.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},e.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},e.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||v(t.data_xs))},e.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},e.prototype.getTranslate=function(t){var e,n,i=this,o=i.config;return"main"===t?(e=a(i.margin.left),n=a(i.margin.top)):"context"===t?(e=a(i.margin2.left),n=a(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=o.axis_rotated?0:i.height):"y"===t?(e=0,n=o.axis_rotated?i.height:0):"y2"===t?(e=o.axis_rotated?0:i.width,n=o.axis_rotated?1:0):"subx"===t?(e=0,n=o.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2-(i.hasType("gauge")?6:0)),"translate("+e+","+n+")"},e.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},e.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},e.prototype.opacityForCircle=function(t){var e=(p(this.config.point_show)?this.config.point_show(t):this.config.point_show)||this.isStanfordType(t)?1:0;return m(t.value)?this.isScatterType(t)?.5:e:0},e.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},e.prototype.xx=function(t){return t?this.x(t.x):null},e.prototype.xvCustom=function(t,e){var n=this,i=e?t[e]:t.value;return n.isTimeSeries()?i=n.parseDate(t.value):n.isCategorized()&&"string"==typeof t.value&&(i=n.config.axis_x_categories.indexOf(t.value)),Math.ceil(n.x(i))},e.prototype.yvCustom=function(t,e){return Math.ceil((t.axis&&"y2"===t.axis?this.y2:this.y)(e?t[e]:t.value))},e.prototype.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},e.prototype.yv=function(t){return Math.ceil((t.axis&&"y2"===t.axis?this.y2:this.y)(t.value))},e.prototype.subxx=function(t){return t?this.subX(t.x):null},e.prototype.transformMain=function(t,e){var n,i,a,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+y.axisX),t&&(n=n.transition())),e&&e.axisY?i=e.axisY:(i=o.main.select("."+y.axisY),t&&(i=i.transition())),e&&e.axisY2?a=e.axisY2:(a=o.main.select("."+y.axisY2),t&&(a=a.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),i.attr("transform",o.getTranslate("y")),a.attr("transform",o.getTranslate("y2")),o.main.select("."+y.chartArcs).attr("transform",o.getTranslate("arc"))},e.prototype.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},e.prototype.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .overlay");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.selectChart.style("max-height",t.currentHeight+"px")},e.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},e.prototype.observeInserted=function(t){var e,n=this;"undefined"!=typeof MutationObserver?(e=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=window.setInterval(function(){t.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})})).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},e.prototype.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.attachEvent)window.attachEvent("onresize",t.resizeIfElementDisplayed);else if(window.addEventListener)window.addEventListener("resize",t.resizeIfElementDisplayed,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=t.generateResize()).add(window.onresize):n=t.generateResize(),n.add(t.resizeFunction),window.onresize=function(){t.api.element.offsetParent&&n()}}},e.prototype.bindWindowFocus=function(){var t=this;this.windowFocusHandler||(this.windowFocusHandler=function(){t.redraw()},window.addEventListener("focus",this.windowFocusHandler))},e.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},e.prototype.generateResize=function(){var t=[];function e(){t.forEach(function(t){t()})}return e.add=function(e){t.push(e)},e.remove=function(e){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}},e},e.prototype.endall=function(t,e){var n=0;t.each(function(){++n}).on("end",function(){--n||e.apply(this,arguments)})},e.prototype.generateWait=function(){var t=this,e=[],n=function(n){var i=setInterval(function(){if(t.isTabVisible()){var a=0;e.forEach(function(t){if(t.empty())a+=1;else try{t.transition()}catch(e){a+=1}}),a===e.length&&(clearInterval(i),n&&n())}},50)};return n.add=function(t){e.push(t)},n},e.prototype.parseDate=function(e){var n;return e instanceof Date?n=e:"string"==typeof e?n=this.dataTimeParse(e):"object"===t(e)?n=new Date(+e):"number"!=typeof e||isNaN(e)||(n=new Date(+e)),n&&!isNaN(+n)||window.console.error("Failed to parse x '"+e+"' to Date object"),n},e.prototype.isTabVisible=function(){return!document.hidden},e.prototype.getPathBox=s,e.prototype.CLASS=y,"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,a,o,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=a,this._x2=o,this._y2=r},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,i,a,o,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=a,this._x2=o,this._y2=r},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=a},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=a},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,i,a,o,r,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=a,this._angle=o,this._largeArcFlag=r,this._sweepFlag=l},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,i,a,o,r,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=a,this._angle=o,this._largeArcFlag=r,this._sweepFlag=l},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=a},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=a},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,a,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,a,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,a,o){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,a,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,a,o,r){return new window.SVGPathSegArcAbs(void 0,t,e,n,i,a,o,r)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,a,o,r){return new window.SVGPathSegArcRel(void 0,t,e,n,i,a,o,r)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach(function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var i=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,n=1,i=0,a=1,o=1,r=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,a=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var l=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=l)for(var s=this._currentIndex-1,u=1;s>=l;)e+=u*(this._string.charAt(s--)-"0"),u*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=r&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=e+i;if(c*=a,t&&(c*=Math.pow(10,o*t)),r!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var a=new n,o=new i(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var r=o.parseSegment();if(!r)return[];a.appendSegment(r)}return a.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),(i.prototype.axis=function(){}).labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},i.prototype.axis.max=function(e){var n=this.internal,i=n.config;if(!arguments.length)return{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max};"object"===t(e)?(m(e.x)&&(i.axis_x_max=e.x),m(e.y)&&(i.axis_y_max=e.y),m(e.y2)&&(i.axis_y2_max=e.y2)):i.axis_y_max=i.axis_y2_max=e,n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},i.prototype.axis.min=function(e){var n=this.internal,i=n.config;if(!arguments.length)return{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min};"object"===t(e)?(m(e.x)&&(i.axis_x_min=e.x),m(e.y)&&(i.axis_y_min=e.y),m(e.y2)&&(i.axis_y2_min=e.y2)):i.axis_y_min=i.axis_y2_min=e,n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},i.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};d(t.max)&&this.axis.max(t.max),d(t.min)&&this.axis.min(t.min)},i.prototype.category=function(t,e){var n=this.internal,i=n.config;return arguments.length>1&&(i.axis_x_categories[t]=e,n.redraw()),i.axis_x_categories[t]},i.prototype.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},i.prototype.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},i.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},i.prototype.destroy=function(){var t=this.internal;if(window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.detachEvent)window.detachEvent("onresize",t.resizeIfElementDisplayed);else if(window.removeEventListener)window.removeEventListener("resize",t.resizeIfElementDisplayed);else{var e=window.onresize;e&&e.add&&e.remove&&e.remove(t.resizeFunction)}return t.resizeFunction.remove(),t.unbindWindowFocus(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(e){t[e]=null}),null},i.prototype.color=function(t){return this.internal.color(t)},(i.prototype.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})}).shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},i.prototype.data.values=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=null;if(t){var i=this.data(t);i&&c(i)&&(n=i.reduce(function(t,n){var i=n.values.map(function(t){return t.value});return e?t=t.concat(i):t.push(i),t},[]))}return n},i.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},i.prototype.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},i.prototype.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},i.prototype.data.stackNormalized=function(t){if(void 0===t)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!t,this.internal.redraw()},(i.prototype.donut=function(){}).padAngle=function(t){if(void 0===t)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=t,this.flush()},i.prototype.flow=function(t){var e,n,i,a,o,r,l,s=this.internal,u=[],c=s.getMaxDataCount(),h=0,p=0;if(t.json)n=s.convertJsonToData(t.json,t.keys);else if(t.rows)n=s.convertRowsToData(t.rows);else{if(!t.columns)return;n=s.convertColumnsToData(t.columns)}e=s.convertDataToTargets(n,!0),s.data.targets.forEach(function(t){var n,i,a=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(a=!0,t.values[t.values.length-1]&&(p=t.values[t.values.length-1].index+1),h=e[n].values.length,i=0;i<h;i++)e[n].values[i].index=p+i,s.isTimeSeries()||(e[n].values[i].x=p+i);t.values=t.values.concat(e[n].values),e.splice(n,1);break}a||u.push(t.id)}),s.data.targets.forEach(function(t){var e,n;for(e=0;e<u.length;e++)if(t.id===u[e])for(p=t.values[t.values.length-1].index+1,n=0;n<h;n++)t.values.push({id:t.id,index:p+n,x:s.isTimeSeries()?s.getOtherTargetX(p+n):p+n,value:null})}),s.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=s.data.targets[0].values[0].index;e<p;e++)n.push({id:t.id,index:e,x:s.isTimeSeries()?s.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=p,s.isTimeSeries()||(t.x+=p)}),t.values=n.concat(t.values)}),s.data.targets=s.data.targets.concat(e),s.getMaxDataCount(),o=(a=s.data.targets[0]).values[0],d(t.to)?(h=0,l=s.isTimeSeries()?s.parseDate(t.to):t.to,a.values.forEach(function(t){t.x<l&&h++})):d(t.length)&&(h=t.length),c?1===c&&s.isTimeSeries()&&(r=(a.values[a.values.length-1].x-o.x)/2,i=[new Date(+o.x-r),new Date(+o.x+r)],s.updateXDomain(null,!0,!0,!1,i)):(r=s.isTimeSeries()?a.values.length>1?a.values[a.values.length-1].x-o.x:o.x-s.getXDomain(s.data.targets)[0]:1,s.updateXDomain(null,!0,!0,!1,i=[o.x-r,o.x])),s.updateTargets(s.data.targets),s.redraw({flow:{index:o.index,length:h,duration:m(t.duration)?t.duration:s.config.transition_duration,done:t.done,orgDataCount:c},withLegend:!0,withTransition:c>1,withTrimXDomain:!1,withUpdateXAxis:!0})},e.prototype.generateFlow=function(t){var e=this,n=e.config,i=e.d3;return function(){var a,o,l,s,u,c,d,h,p,f,g,b=t.targets,m=t.flow,v=t.drawBar,x=t.drawLine,_=t.drawArea,S=t.cx,C=t.cy,A=t.xv,w=t.xForText,T=t.yForText,L=t.duration,E=m.index,D=m.length,I=e.getValueOnIndex(e.data.targets[0].values,E),O=e.getValueOnIndex(e.data.targets[0].values,E+D),R=e.x.domain(),F=m.duration||L,P=m.done||function(){},k=e.generateWait();e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,D)}),l=e.updateXDomain(b,!0,!0),e.updateXGrid&&e.updateXGrid(!0),s=e.xgrid||i.selectAll([]),u=e.xgridLines||i.selectAll([]),c=e.mainRegion||i.selectAll([]),d=e.mainText||i.selectAll([]),h=e.mainBar||i.selectAll([]),p=e.mainLine||i.selectAll([]),f=e.mainArea||i.selectAll([]),g=e.mainCircle||i.selectAll([]),m.orgDataCount?a=1===m.orgDataCount||(I&&I.x)===(O&&O.x)?e.x(R[0])-e.x(l[0]):e.isTimeSeries()?e.x(R[0])-e.x(l[0]):e.x(I.x)-e.x(O.x):1!==e.data.targets[0].values.length?a=e.x(R[0])-e.x(l[0]):e.isTimeSeries()?(I=e.getValueOnIndex(e.data.targets[0].values,0),O=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),a=e.x(I.x)-e.x(O.x)):a=r(l)/2,o="translate("+a+",0) scale("+r(R)/r(l)+",1)",e.hideXGridFocus();var N=i.transition().ease(i.easeLinear).duration(F);k.add(e.xAxis(e.axes.x,N)),k.add(h.transition(N).attr("transform",o)),k.add(p.transition(N).attr("transform",o)),k.add(f.transition(N).attr("transform",o)),k.add(g.transition(N).attr("transform",o)),k.add(d.transition(N).attr("transform",o)),k.add(c.filter(e.isRegionOnX).transition(N).attr("transform",o)),k.add(s.transition(N).attr("transform",o)),k.add(u.transition(N).attr("transform",o)),k(function(){var t,i=[],a=[];if(D){for(t=0;t<D;t++)i.push("."+y.shape+"-"+(E+t)),a.push("."+y.text+"-"+(E+t));e.svg.selectAll("."+y.shapes).selectAll(i).remove(),e.svg.selectAll("."+y.texts).selectAll(a).remove(),e.svg.select("."+y.xgrid).remove()}s.attr("transform",null).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),u.attr("transform",null),u.select("line").attr("x1",n.axis_rotated?0:A).attr("x2",n.axis_rotated?e.width:A),u.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",A),h.attr("transform",null).attr("d",v),p.attr("transform",null).attr("d",x),f.attr("transform",null).attr("d",_),g.attr("transform",null).attr("cx",S).attr("cy",C),d.attr("transform",null).attr("x",w).attr("y",T).style("fill-opacity",e.opacityForText.bind(e)),c.attr("transform",null),c.filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),P(),e.flowing=!1})}},i.prototype.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(y.focused,!0).classed(y.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},i.prototype.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(y.focused,!1).classed(y.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),e.defocusedTargetIds=t},i.prototype.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(y.focused,!1).classed(y.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(y.legendItemFocused)}).classed(y.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},(i.prototype.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines}).add=function(t){return this.xgrids(this.internal.config.grid_x_lines.concat(t||[]))},i.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},(i.prototype.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines}).add=function(t){return this.ygrids(this.internal.config.grid_y_lines.concat(t||[]))},i.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},i.prototype.groups=function(t){var e=this.internal,n=e.config;return b(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},(i.prototype.legend=function(){}).show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},i.prototype.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!1})},i.prototype.load=function(t){var e=this.internal,n=e.config;t.xs&&e.addXs(t.xs),"names"in t&&i.prototype.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?e.load(e.getCaches(t.cacheIds),t.done):t.unload?e.unload(e.mapToTargetIds(!0===t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t)},i.prototype.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},(i.prototype.pie=function(){}).padAngle=function(t){if(void 0===t)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=t,this.flush()},(i.prototype.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions}).add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},i.prototype.regions.remove=function(t){var e,n,i,a=this.internal,o=a.config;return e=l(t=t||{},"duration",o.transition_duration),n=l(t,"classes",[y.region]),i=a.main.select("."+y.regions).selectAll(n.map(function(t){return"."+t})),(e?i.transition().duration(e):i).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e)}),o.regions},i.prototype.selected=function(t){var e=this.internal,n=e.d3;return e.main.selectAll("."+y.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+y.shape).filter(function(){return n.select(this).classed(y.SELECTED)}).nodes().map(function(t){var e=t.__data__;return e.data?e.data:e})},i.prototype.select=function(t,e,n){var i=this.internal,a=i.d3,o=i.config;o.data_selection_enabled&&i.main.selectAll("."+y.shapes).selectAll("."+y.shape).each(function(r,l){var s=a.select(this),u=r.data?r.data.id:r.id,c=i.getToggle(this,r).bind(i),h=o.data_selection_grouped||!t||t.indexOf(u)>=0,p=!e||e.indexOf(l)>=0,f=s.classed(y.SELECTED);s.classed(y.line)||s.classed(y.area)||(h&&p?o.data_selection_isselectable(r)&&!f&&c(!0,s.classed(y.SELECTED,!0),r,l):d(n)&&n&&f&&c(!1,s.classed(y.SELECTED,!1),r,l))})},i.prototype.unselect=function(t,e){var n=this.internal,i=n.d3,a=n.config;a.data_selection_enabled&&n.main.selectAll("."+y.shapes).selectAll("."+y.shape).each(function(o,r){var l=i.select(this),s=o.data?o.data.id:o.id,u=n.getToggle(this,o).bind(n),c=a.data_selection_grouped||!t||t.indexOf(s)>=0,d=!e||e.indexOf(r)>=0,h=l.classed(y.SELECTED);l.classed(y.line)||l.classed(y.area)||c&&d&&a.data_selection_isselectable(o)&&h&&u(!1,l.classed(y.SELECTED,!1),o,r)})},i.prototype.show=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.removeHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("display","initial","important").style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&i.showLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},i.prototype.hide=function(t,e){var n,i=this.internal;t=i.mapToTargetIds(t),e=e||{},i.addHiddenTargetIds(t),(n=i.svg.selectAll(i.selectorTargets(t))).transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0),n.style("display","none")}),e.withLegend&&i.hideLegend(t),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},i.prototype.toggle=function(t,e){var n=this,i=this.internal;i.mapToTargetIds(t).forEach(function(t){i.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},(i.prototype.tooltip=function(){}).show=function(t){var e,n,i=this.internal,a={};t.mouse?a=t.mouse:(t.data?n=t.data:void 0!==t.x&&(e=t.id?i.data.targets.filter(function(e){return e.id===t.id}):i.data.targets,n=i.filterByX(e,t.x).slice(0,1)[0]),a=n?i.getMousePosition(n):null),i.dispatchEvent("mousemove",a),i.config.tooltip_onshow.call(i,n)},i.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},i.prototype.transform=function(t,e){var n=this.internal,i=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,i)},e.prototype.transformTo=function(t,e,n){var i=this,a=!i.hasArcType(),o=n||{withTransitionForAxis:a};o.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(t,e),i.updateTargets(i.data.targets),i.updateAndRedraw(o)},i.prototype.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},i.prototype.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},(i.prototype.zoom=function(t){var e=this.internal;return t?(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.config.subchart_show?e.brush.selectionAsValue(t,!0):(e.updateXDomain(null,!0,!1,!1,t),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1})),e.config.zoom_onzoom.call(this,e.x.orgDomain()),t):e.x.domain()}).enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},i.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},i.prototype.zoom.max=function(t){var e=this.internal,n=e.config;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=e.d3.max([e.orgXDomain[1],t])},i.prototype.zoom.min=function(t){var e=this.internal,n=e.config;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=e.d3.min([e.orgXDomain[0],t])},i.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};d(t.max)&&this.domain.max(t.max),d(t.min)&&this.domain.min(t.min)},e.prototype.initPie=function(){var t=this;t.pie=t.d3.pie().padAngle(this.getPadAngle.bind(this)).value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)});var e=t.getOrderFunction();if(e&&(t.isOrderAsc()||t.isOrderDesc())){var n=e;e=function(t,e){return-1*n(t,e)}}t.pie.sort(e||null)},e.prototype.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width,i=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=n||(i<=t.radius-t.innerRadius?t.radius-t.innerRadius:i<=t.radius?i:t.radius)},e.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},e.prototype.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},e.prototype.updateAngle=function(t){var e,n,i,a,o=this,r=o.config,l=!1,s=0;return r?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(e){l||e.data.id!==t.data.id||(l=!0,(t=e).index=s),s++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),o.isGaugeType(t.data)&&(e=r.gauge_min,n=r.gauge_max,i=Math.PI*(r.gauge_fullCircle?2:1)/(n-e),a=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=r.gauge_startingAngle,t.endAngle=t.startAngle+i*a),l?t:null):null},e.prototype.getSvgArc=function(){var t=this,e=t.hasType("gauge"),n=t.gaugeArcWidth/t.filterTargetsToShow(t.data.targets).length,i=t.d3.arc().outerRadius(function(i){return e?t.radius-n*i.index:t.radius}).innerRadius(function(i){return e?t.radius-n*(i.index+1):t.innerRadius}),a=function(e,n){var a;return n?i(e):(a=t.updateAngle(e))?i(a):"M 0 0"};return a.centroid=i.centroid,a},e.prototype.getSvgArcExpanded=function(t){t=t||1;var e=this,n=e.hasType("gauge"),i=e.gaugeArcWidth/e.filterTargetsToShow(e.data.targets).length,a=Math.min(e.radiusExpanded*t-e.radius,.8*i-100*(1-t)),o=e.d3.arc().outerRadius(function(o){return n?e.radius-i*o.index+a:e.radiusExpanded*t}).innerRadius(function(t){return n?e.radius-i*(t.index+1):e.innerRadius});return function(t){var n=e.updateAngle(t);return n?o(n):"M 0 0"}},e.prototype.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},e.prototype.transformForArcLabel=function(t){var e,n,i,a,o,r=this,l=r.config,s=r.updateAngle(t),u="",c=r.hasType("gauge");if(s&&!c)e=this.svgArc.centroid(s),n=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1],a=Math.sqrt(n*n+i*i),u="translate("+n*(o=r.hasType("donut")&&l.donut_label_ratio?p(l.donut_label_ratio)?l.donut_label_ratio(t,r.radius,a):l.donut_label_ratio:r.hasType("pie")&&l.pie_label_ratio?p(l.pie_label_ratio)?l.pie_label_ratio(t,r.radius,a):l.pie_label_ratio:r.radius&&a?(36/r.radius>.375?1.175-36/r.radius:.8)*r.radius/a:0)+","+i*o+")";else if(s&&c&&r.filterTargetsToShow(r.data.targets).length>1){var d=Math.sin(s.endAngle-Math.PI/2);u="translate("+(n=Math.cos(s.endAngle-Math.PI/2)*(r.radiusExpanded+25))+","+(i=d*(r.radiusExpanded+15-Math.abs(10*d))+3)+")"}return u},e.prototype.getArcRatio=function(t){return this.getRatio("arc",t)},e.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio("arc",t),index:t.index})},e.prototype.textForArcLabel=function(t){var e,n,i,a,o,r=this;return r.shouldShowArcLabel()?(n=(e=r.updateAngle(t))?e.value:null,i=r.getRatio("arc",e),a=t.data.id,r.hasType("gauge")||r.meetsArcLabelThreshold(i)?(o=r.getArcLabelFormat())?o(n,i,a):r.defaultArcValueFormat(n,i):""):""},e.prototype.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},e.prototype.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval(function(){n.transiting||(window.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))},10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+y.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},e.prototype.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+y.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+y.arc))},e.prototype.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},e.prototype.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},e.prototype.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},e.prototype.meetsArcLabelThreshold=function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},e.prototype.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},e.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},e.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},e.prototype.updateTargetsForArc=function(t){var e,n=this,i=n.main,a=n.classChartArc.bind(n),o=n.classArcs.bind(n),r=n.classFocus.bind(n);(e=i.select("."+y.chartArcs).selectAll("."+y.chartArc).data(n.pie(t)).attr("class",function(t){return a(t)+r(t.data)}).enter().append("g").attr("class",a)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},e.prototype.initArc=function(){var t=this;t.arcs=t.main.select("."+y.chart).append("g").attr("class",y.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",y.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},e.prototype.redrawArc=function(t,e,n){var i,a,o,r,l=this,s=l.d3,u=l.config,c=l.main,d=l.hasType("gauge");if(a=(i=c.selectAll("."+y.arcs).selectAll("."+y.arc).data(l.arcData.bind(l))).enter().append("path").attr("class",l.classArc.bind(l)).style("fill",function(t){return l.color(t.data)}).style("cursor",function(t){return u.interaction_enabled&&u.data_selection_isselectable(t)?"pointer":null}).each(function(t){l.isGaugeType(t.data)&&(t.startAngle=t.endAngle=u.gauge_startingAngle),this._current=t}).merge(i),d&&(r=(o=c.selectAll("."+y.arcs).selectAll("."+y.arcLabelLine).data(l.arcData.bind(l))).enter().append("rect").attr("class",function(t){return y.arcLabelLine+" "+y.target+" "+y.target+"-"+t.data.id}).merge(o),1===l.filterTargetsToShow(l.data.targets).length?r.style("display","none"):r.style("fill",function(t){return l.levelColor?l.levelColor(t.data.values[0].value):l.color(t.data)}).style("display",u.gauge_labelLine_show?"":"none").each(function(t){var e=0,n=0,i=0,a="";if(l.hiddenTargetIds.indexOf(t.data.id)<0){var o=l.updateAngle(t),r=l.gaugeArcWidth/l.filterTargetsToShow(l.data.targets).length*(o.index+1),u=o.endAngle-Math.PI/2,c=l.radius-r,d=u-(0===c?0:1/c);e=l.radiusExpanded-l.radius+r,n=Math.cos(d)*c,i=Math.sin(d)*c,a="rotate("+180*u/Math.PI+", "+n+", "+i+")"}s.select(this).attr("x",n).attr("y",i).attr("width",e).attr("height",2).attr("transform",a).style("stroke-dasharray","0, "+(e+2)+", 0")})),a.attr("transform",function(t){return!l.isGaugeType(t.data)&&n?"scale(0)":""}).on("mouseover",u.interaction_enabled?function(t){var e,n;l.transiting||(e=l.updateAngle(t))&&(n=l.convertToArcData(e),l.expandArc(e.data.id),l.api.focus(e.data.id),l.toggleFocusLegend(e.data.id,!0),l.config.data_onmouseover(n,this))}:null).on("mousemove",u.interaction_enabled?function(t){var e,n=l.updateAngle(t);n&&(e=l.convertToArcData(n),l.showTooltip([e],this))}:null).on("mouseout",u.interaction_enabled?function(t){var e,n;l.transiting||(e=l.updateAngle(t))&&(n=l.convertToArcData(e),l.unexpandArc(e.data.id),l.api.revert(),l.revertLegend(),l.hideTooltip(),l.config.data_onmouseout(n,this))}:null).on("click",u.interaction_enabled?function(t,e){var n,i=l.updateAngle(t);i&&(n=l.convertToArcData(i),l.toggleShape&&l.toggleShape(this,n,e),l.config.data_onclick.call(l.api,n,this))}:null).each(function(){l.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=l.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=s.interpolate(this._current,n),this._current=e(0),function(n){if(null===l.config)return"M 0 0";var i=e(n);return i.data=t.data,l.getArc(i,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return l.levelColor?l.levelColor(t.data.values[0].value):l.color(t.data.id)}).call(l.endall,function(){l.transiting=!1}),i.exit().transition().duration(e).style("opacity",0).remove(),c.selectAll("."+y.chartArc).select("text").style("opacity",0).attr("class",function(t){return l.isGaugeType(t.data)?y.gaugeValue:""}).text(l.textForArcLabel.bind(l)).attr("transform",l.transformForArcLabel.bind(l)).style("font-size",function(t){return l.isGaugeType(t.data)&&1===l.filterTargetsToShow(l.data.targets).length?Math.round(l.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return l.isTargetToShow(t.data.id)&&l.isArcType(t.data)?1:0}),c.select("."+y.chartArcsTitle).style("opacity",l.hasType("donut")||d?1:0),d){var h=0,p=l.arcs.select("g."+y.chartArcsBackground).selectAll("path."+y.chartArcsBackground).data(l.data.targets);p.enter().append("path").attr("class",function(t,e){return y.chartArcsBackground+" "+y.chartArcsBackground+"-"+e}).merge(p).attr("d",function(t){if(l.hiddenTargetIds.indexOf(t.id)>=0)return"M 0 0";var e={data:[{value:u.gauge_max}],startAngle:u.gauge_startingAngle,endAngle:-1*u.gauge_startingAngle*(u.gauge_fullCircle?Math.PI:1),index:h++};return l.getArc(e,!0,!0)}),p.exit().remove(),l.arcs.select("."+y.chartArcsGaugeUnit).attr("dy",".75em").text(u.gauge_label_show?u.gauge_units:""),l.arcs.select("."+y.chartArcsGaugeMin).attr("dx",-1*(l.innerRadius+(l.radius-l.innerRadius)/(u.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(u.gauge_label_show?l.textForGaugeMinMax(u.gauge_min,!1):""),l.arcs.select("."+y.chartArcsGaugeMax).attr("dx",l.innerRadius+(l.radius-l.innerRadius)/(u.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(u.gauge_label_show?l.textForGaugeMinMax(u.gauge_max,!0):"")}},e.prototype.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",y.chartArcsBackground),t.append("text").attr("class",y.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",y.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",y.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},e.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},e.prototype.addToCache=function(t,e){this.cache["$".concat(t)]=e},e.prototype.getFromCache=function(t){return this.cache["$".concat(t)]},e.prototype.resetCache=function(){var t=this;Object.keys(this.cache).filter(function(t){return/^\$/.test(t)}).forEach(function(e){delete t.cache[e]})},e.prototype.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},e.prototype.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},e.prototype.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},e.prototype.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},e.prototype.generateTargetClass=function(t){return t||0===t?("-"+t).replace(/\s/g,"-"):""},e.prototype.generateClass=function(t,e){return" "+t+" "+t+this.generateTargetClass(e)},e.prototype.classText=function(t){return this.generateClass(y.text,t.index)},e.prototype.classTexts=function(t){return this.generateClass(y.texts,t.id)},e.prototype.classShape=function(t){return this.generateClass(y.shape,t.index)},e.prototype.classShapes=function(t){return this.generateClass(y.shapes,t.id)},e.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(y.line,t.id)},e.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(y.lines,t.id)},e.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(y.circle,t.index)},e.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(y.circles,t.id)},e.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(y.bar,t.index)},e.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(y.bars,t.id)},e.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(y.arc,t.data.id)},e.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(y.arcs,t.data.id)},e.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(y.area,t.id)},e.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(y.areas,t.id)},e.prototype.classRegion=function(t,e){return this.generateClass(y.region,e)+" "+("class"in t?t.class:"")},e.prototype.classEvent=function(t){return this.generateClass(y.eventRect,t.index)},e.prototype.classTarget=function(t){var e=this.config.data_classes[t],n="";return e&&(n=" "+y.target+"-"+e),this.generateClass(y.target,t)+n},e.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},e.prototype.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?y.focused:"")},e.prototype.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?y.defocused:"")},e.prototype.classChartText=function(t){return y.chartText+this.classTarget(t.id)},e.prototype.classChartLine=function(t){return y.chartLine+this.classTarget(t.id)},e.prototype.classChartBar=function(t){return y.chartBar+this.classTarget(t.id)},e.prototype.classChartArc=function(t){return y.chartArc+this.classTarget(t.data.id)},e.prototype.getTargetSelectorSuffix=function(t){var e=this.generateTargetClass(t);return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},e.prototype.selectorTarget=function(t,e){return(e||"")+"."+y.target+this.getTargetSelectorSuffix(t)},e.prototype.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map(function(t){return n.selectorTarget(t,e)}):null},e.prototype.selectorLegend=function(t){return"."+y.legendItem+this.getTargetSelectorSuffix(t)},e.prototype.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},e.prototype.getClipPath=function(t){return"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},e.prototype.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},e.prototype.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},e.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},e.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},e.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},e.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},e.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},e.prototype.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return t?this.width+2+e+n:this.margin.left+20},e.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},e.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},e.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},e.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},e.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},e.prototype.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,i=v(t.color_pattern)?t.color_pattern:e.schemeCategory10,a=t.data_color,o=[];return function(t){var e,r=t.id||t.data&&t.data.id||t;return n[r]instanceof Function?e=n[r](t):n[r]?e=n[r]:(o.indexOf(r)<0&&o.push(r),e=i[o.indexOf(r)%i.length],n[r]=e),a instanceof Function?a(e,t):e}},e.prototype.generateLevelColor=function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,i="value"===n.unit,a=n.values&&n.values.length?n.values:[],o=n.max||100;return v(n)&&v(e)?function(t){var n,r=e[e.length-1];for(n=0;n<a.length;n++)if((i?t:100*t/o)<a[n]){r=e[n];break}return r}:null},e.prototype.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,i){return this.getTooltipContent?this.getTooltipContent(t,e,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},e.prototype.additionalConfig={},e.prototype.loadConfig=function(e){var n,i,a,o=this.config;Object.keys(o).forEach(function(r){n=e,i=r.split("_"),a=function e(){var a=i.shift();return a&&n&&"object"===t(n)&&a in n?(n=n[a],e()):a?void 0:n}(),d(a)&&(o[r]=a)})},e.prototype.convertUrlToData=function(t,e,n,i,a){var o,r,l=this,s=e||"csv";"json"===s?(o=l.d3.json,r=l.convertJsonToData):"tsv"===s?(o=l.d3.tsv,r=l.convertXsvToData):(o=l.d3.csv,r=l.convertXsvToData),o(t,n).then(function(t){a.call(l,r.call(l,t,i))}).catch(function(t){throw t})},e.prototype.convertXsvToData=function(t){var e=t.columns;return 0===t.length?{keys:e,rows:[e.reduce(function(t,e){return Object.assign(t,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:null,enumerable:!0,configurable:!0,writable:!0}):t[e]=null,t}({},e))},{})]}:{keys:e,rows:[].concat(t)}},e.prototype.convertJsonToData=function(t,e){var n,i,a=this,o=[];return e?(e.x?(n=e.value.concat(e.x),a.config.data_x=e.x):n=e.value,o.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var i=a.findValueInJson(t,n);b(i)&&(i=null),e.push(i)}),o.push(e)}),i=a.convertRowsToData(o)):(Object.keys(t).forEach(function(e){o.push([e].concat(t[e]))}),i=a.convertColumnsToData(o)),i},e.prototype.findValueInJson=function(t,e){for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<n.length;++i){var a=n[i];if(!(a in t))return;t=t[a]}return t},e.prototype.convertRowsToData=function(t){for(var e=[],n=t[0],i=1;i<t.length;i++){for(var a={},o=0;o<t[i].length;o++){if(b(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");a[n[o]]=t[i][o]}e.push(a)}return{keys:n,rows:e}},e.prototype.convertColumnsToData=function(t){for(var e=[],n=[],i=0;i<t.length;i++){for(var a=t[i][0],o=1;o<t[i].length;o++){if(b(e[o-1])&&(e[o-1]={}),b(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");e[o-1][a]=t[i][o]}n.push(a)}return{keys:n,rows:e}},e.prototype.convertDataToTargets=function(t,e){var n,i,a,o,r,l=this,s=l.config;if(c(t)?o=Object.keys(t[0]):(o=t.keys,t=t.rows),a=o.filter(l.isX,l),l.isStanfordGraphType()){if(r=o.filter(l.isEpochs,l),i=o.filter(l.isNotXAndNotEpochs,l),1!==a.length||1!==r.length||1!==i.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else i=o.filter(l.isNotX,l);return i.forEach(function(n){var i=l.getXKey(n);l.isCustomX()||l.isTimeSeries()?a.indexOf(i)>=0?l.data.xs[n]=(e&&l.data.xs[n]?l.data.xs[n]:[]).concat(t.map(function(t){return t[i]}).filter(m).map(function(t,e){return l.generateTargetX(t,n,e)})):s.data_x?l.data.xs[n]=l.getOtherTargetXs():v(s.data_xs)&&(l.data.xs[n]=l.getXValuesOfXKey(i,l.data.targets)):l.data.xs[n]=t.map(function(t,e){return e})}),i.forEach(function(t){if(!l.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(n=i.map(function(e,n){var i=s.data_idConverter(e);return{id:i,id_org:e,values:t.map(function(t,a){var o,u,c=t[l.getXKey(e)],d=null===t[e]||isNaN(t[e])?null:+t[e];return l.isCustomX()&&l.isCategorized()&&!b(c)?(0===n&&0===a&&(s.axis_x_categories=[]),-1===(o=s.axis_x_categories.indexOf(c))&&(o=s.axis_x_categories.length,s.axis_x_categories.push(c))):o=l.generateTargetX(c,e,a),(b(t[e])||l.data.xs[e].length<=a)&&(o=void 0),u={x:o,value:d,id:i},l.isStanfordGraphType()&&(u.epochs=t[r]),u}).filter(function(t){return d(t.x)})}})).forEach(function(t){var e;s.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),l.data.xs[t.id].sort(function(t,e){return t-e})}),l.hasNegativeValue=l.hasNegativeValueInTargets(n),l.hasPositiveValue=l.hasPositiveValueInTargets(n),s.data_type&&l.setTargetType(l.mapToIds(n).filter(function(t){return!(t in s.data_types)}),s.data_type),n.forEach(function(t){l.addCache(t.id_org,t)}),n},e.prototype.isEpochs=function(t){var e=this.config;return e.data_epochs&&t===e.data_epochs},e.prototype.isX=function(t){var e,n,i,a=this.config;return a.data_x&&t===a.data_x||v(a.data_xs)&&(e=a.data_xs,n=t,i=!1,Object.keys(e).forEach(function(t){e[t]===n&&(i=!0)}),i)},e.prototype.isNotX=function(t){return!this.isX(t)},e.prototype.isNotXAndNotEpochs=function(t){return!this.isX(t)&&!this.isEpochs(t)},e.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},e.prototype.isAxisNormalized=function(t){var e=this;return!!e.isStackNormalized()&&e.data.targets.filter(function(n){return e.axis.getId(n.id)===t}).some(function(t){return e.isTargetNormalized(t.id)})},e.prototype.isTargetNormalized=function(t){return this.isStackNormalized()&&this.config.data_groups.some(function(e){return e.includes(t)})},e.prototype.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:v(e.data_xs)?e.data_xs[t]:null},e.prototype.getTotalPerIndex=function(t){var e=this;if(!e.isStackNormalized())return null;var n=e.getFromCache("getTotalPerIndex");if(void 0!==n)return n[t];var i={y:[],y2:[]};return e.data.targets.filter(function(t){return e.isTargetNormalized(t.id)}).filter(function(t){return e.isTargetToShow(t.id)}).forEach(function(t){var n=i[e.axis.getId(t.id)];t.values.forEach(function(t,e){n[e]||(n[e]=0),n[e]+=f(t.value)?t.value:0})}),e.addToCache("getTotalPerIndex",i),i[t]},e.prototype.getTotalDataSum=function(){var t=this,e=t.getFromCache("getTotalDataSum");if(void 0!==e)return e;var n,i,a=(n=t.data.targets.filter(function(e){return t.isTargetToShow(e.id)}).map(function(t){return t.values}),Array.isArray(n)?(i=[]).concat.apply(i,function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(n)):[]).map(function(t){return t.value}).reduce(function(t,e){return t+e},0);return t.addToCache("getTotalDataSum",a),a},e.prototype.getXValuesOfXKey=function(t,e){var n,i=this;return(e&&v(e)?i.mapToIds(e):[]).forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},e.prototype.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&m(this.data.xs[t][e])?this.data.xs[t][e]:e},e.prototype.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},e.prototype.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},e.prototype.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},e.prototype.addName=function(t){var e;return t&&(t.name=void 0!==(e=this.config.data_names[t.id])?e:t.id),t},e.prototype.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},e.prototype.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(i,a){i.x=n.generateTargetX(e[a],t.id,a)}),n.data.xs[t.id]=e})},e.prototype.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},e.prototype.generateTargetX=function(t,e,n){var i=this;return i.isTimeSeries()?i.parseDate(t||i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?m(t)?+t:i.getXValue(e,n):n},e.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},e.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(t){return t.values.length})},e.prototype.mapToIds=function(t){return t.map(function(t){return t.id})},e.prototype.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},e.prototype.hasTarget=function(t,e){var n,i=this.mapToIds(t);for(n=0;n<i.length;n++)if(i[n]===e)return!0;return!1},e.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},e.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},e.prototype.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},e.prototype.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN})},e.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]));this.resetCache()},e.prototype.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0}),this.resetCache()},e.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},e.prototype.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},e.prototype.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},e.prototype.checkValueInTargets=function(t,e){var n,i,a,o=Object.keys(t);for(n=0;n<o.length;n++)for(a=t[o[n]].values,i=0;i<a.length;i++)if(e(a[i].value))return!0;return!1},e.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},e.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},e.prototype.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},e.prototype.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},e.prototype.getOrderFunction=function(){var t=this.config,e=this.isOrderAsc(),n=this.isOrderDesc();if(e||n){var i=function(t,e){return t+Math.abs(e.value)};return function(t,n){var a=t.values.reduce(i,0),o=n.values.reduce(i,0);return e?o-a:a-o}}if(p(t.data_order))return t.data_order;if(c(t.data_order)){var a=t.data_order;return function(t,e){return a.indexOf(t.id)-a.indexOf(e.id)}}},e.prototype.orderTargets=function(t){var e=this.getOrderFunction();return e&&t.sort(e),t},e.prototype.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},e.prototype.filterRemoveNull=function(t){return t.filter(function(t){return m(t.value)})},e.prototype.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},e.prototype.hasDataLabel=function(){var e=this.config;return!("boolean"!=typeof e.data_labels||!e.data_labels)||!("object"!==t(e.data_labels)||!v(e.data_labels))},e.prototype.getDataLabelLength=function(t,e,n){var i=this,a=[0,0];return i.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return i.dataLabelFormat(t.id)(t)}).each(function(t,e){a[e]=1.3*u(this)[n]}).remove(),a},e.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},e.prototype.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},e.prototype.findClosestFromTargets=function(t,e){var n,i=this;return n=t.map(function(t){return i.findClosest(t.values,e)}),i.findClosest(n,e)},e.prototype.findClosest=function(t,e){var n,i=this,a=i.config.point_sensitivity;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+y.bars+i.getTargetSelectorSuffix(t.id)+" ."+y.bar+"-"+t.index).node();!n&&i.isWithinBar(i.d3.mouse(e),e)&&(n=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var o=i.config.tooltip_horizontal?i.horizontalDistance(t,e):i.dist(t,e);o<a&&(a=o,n=t)}),n},e.prototype.dist=function(t,e){var n=this.config,i=n.axis_rotated?1:0,a=n.axis_rotated?0:1,o=this.circleY(t,t.index),r=this.x(t.x);return Math.sqrt(Math.pow(r-e[i],2)+Math.pow(o-e[a],2))},e.prototype.horizontalDistance=function(t,e){var n=this.config.axis_rotated?1:0,i=this.x(t.x);return Math.abs(i-e[n])},e.prototype.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},e.prototype.getRatio=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this,a=i.api,o=0;if(e&&a.data.shown.call(a).length)if(o=e.ratio||e.value,"arc"===t)if(i.hasType("gauge"))o=(e.endAngle-e.startAngle)/(Math.PI*(i.config.gauge_fullCircle?2:1));else{var r=i.getTotalDataSum();o=e.value/r}else if("index"===t){var l=i.getTotalPerIndex(i.axis.getId(e.id));e.ratio=f(e.value)&&l&&l[e.index]>0?e.value/l[e.index]:0,o=e.ratio}return n&&o?100*o:o},e.prototype.updateDataAttributes=function(t,e){var n=this.config["data_"+t];return void 0===e?n:(Object.keys(e).forEach(function(t){n[t]=e[t]}),this.redraw({withLegend:!0}),n)},e.prototype.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){n.setTargetType(t.id,e.types&&e.types[t.id]?e.types[t.id]:e.type)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},e.prototype.loadFromArgs=function(t){var e=this;e.resetCache(),t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):e.load(t.json?e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)):t.rows?e.convertDataToTargets(e.convertRowsToData(t.rows)):t.columns?e.convertDataToTargets(e.convertColumnsToData(t.columns)):null,t)},e.prototype.unload=function(t,e){var n=this;n.resetCache(),e||(e=function(){}),(t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}))&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+y.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):e()},e.prototype.getYDomainMin=function(t){var e,n,i,a,o,r,l=this,s=l.config,u=l.mapToIds(t),c=l.getValuesAsIdKeyed(t);if(s.data_groups.length>0)for(r=l.hasNegativeValueInTargets(t),e=0;e<s.data_groups.length;e++)if(0!==(a=s.data_groups[e].filter(function(t){return u.indexOf(t)>=0})).length)for(i=a[0],r&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t<0?t:0}),n=1;n<a.length;n++)c[o=a[n]]&&c[o].forEach(function(t,e){l.axis.getId(o)!==l.axis.getId(i)||!c[i]||r&&+t>0||(c[i][e]+=+t)});return l.d3.min(Object.keys(c).map(function(t){return l.d3.min(c[t])}))},e.prototype.getYDomainMax=function(t){var e,n,i,a,o,r,l=this,s=l.config,u=l.mapToIds(t),c=l.getValuesAsIdKeyed(t);if(s.data_groups.length>0)for(r=l.hasPositiveValueInTargets(t),e=0;e<s.data_groups.length;e++)if(0!==(a=s.data_groups[e].filter(function(t){return u.indexOf(t)>=0})).length)for(i=a[0],r&&c[i]&&c[i].forEach(function(t,e){c[i][e]=t>0?t:0}),n=1;n<a.length;n++)c[o=a[n]]&&c[o].forEach(function(t,e){l.axis.getId(o)!==l.axis.getId(i)||!c[i]||r&&+t<0||(c[i][e]+=+t)});return l.d3.max(Object.keys(c).map(function(t){return l.d3.max(c[t])}))},e.prototype.getYDomain=function(t,e,n){var i=this,a=i.config;if(i.isAxisNormalized(e))return[0,100];var o,l,s,u,c,d,h,p,f,g,b=t.filter(function(t){return i.axis.getId(t.id)===e}),x=n?i.filterByXDomain(b,n):b,_="y2"===e?a.axis_y2_min:a.axis_y_min,y="y2"===e?a.axis_y2_max:a.axis_y_max,S=i.getYDomainMin(x),C=i.getYDomainMax(x),A="y2"===e?a.axis_y2_center:a.axis_y_center,w=i.hasType("bar",x)&&a.bar_zerobased||i.hasType("area",x)&&a.area_zerobased,T="y2"===e?a.axis_y2_inverted:a.axis_y_inverted,L=i.hasDataLabel()&&a.axis_rotated,E=i.hasDataLabel()&&!a.axis_rotated;return S=m(_)?_:m(y)?S<y?S:y-10:S,C=m(y)?y:m(_)?_<C?C:_+10:C,0===x.length?"y2"===e?i.y2.domain():i.y.domain():(isNaN(S)&&(S=0),isNaN(C)&&(C=S),S===C&&(S<0?C=0:S=0),f=S>=0&&C>=0,g=S<=0&&C<=0,(m(_)&&f||m(y)&&g)&&(w=!1),w&&(f&&(S=0),g&&(C=0)),s=u=.1*(l=Math.abs(C-S)),void 0!==A&&(C=A+(c=Math.max(Math.abs(S),Math.abs(C))),S=A-c),L?(d=i.getDataLabelLength(S,C,"width"),h=r(i.y.range()),s+=l*((p=[d[0]/h,d[1]/h])[1]/(1-p[0]-p[1])),u+=l*(p[0]/(1-p[0]-p[1]))):E&&(d=i.getDataLabelLength(S,C,"height"),s+=i.axis.convertPixelsToAxisPadding(d[1],l),u+=i.axis.convertPixelsToAxisPadding(d[0],l)),"y"===e&&v(a.axis_y_padding)&&(s=i.axis.getPadding(a.axis_y_padding,"top",s,l),u=i.axis.getPadding(a.axis_y_padding,"bottom",u,l)),"y2"===e&&v(a.axis_y2_padding)&&(s=i.axis.getPadding(a.axis_y2_padding,"top",s,l),u=i.axis.getPadding(a.axis_y2_padding,"bottom",u,l)),w&&(f&&(u=S),g&&(s=-C)),o=[S-u,C+s],T?o.reverse():o)},e.prototype.getXDomainMin=function(t){var e=this,n=e.config;return d(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},e.prototype.getXDomainMax=function(t){var e=this,n=e.config;return d(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},e.prototype.getXDomainPadding=function(e){var n,i,a,o,r=this.config,l=e[1]-e[0];return i=this.isCategorized()?0:this.hasType("bar")?(n=this.getMaxDataCount())>1?l/(n-1)/2:.5:.01*l,"object"===t(r.axis_x_padding)&&v(r.axis_x_padding)?(a=m(r.axis_x_padding.left)?r.axis_x_padding.left:i,o=m(r.axis_x_padding.right)?r.axis_x_padding.right:i):a=o="number"==typeof r.axis_x_padding?r.axis_x_padding:i,{left:a,right:o}},e.prototype.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],i=n[0],a=n[1],o=e.getXDomainPadding(n),r=0,l=0;return i-a!=0||e.isCategorized()||(e.isTimeSeries()?(i=new Date(.5*i.getTime()),a=new Date(1.5*a.getTime())):(i=0===i?1:.5*i,a=0===a?-1:1.5*a)),(i||0===i)&&(r=e.isTimeSeries()?new Date(i.getTime()-o.left):i-o.left),(a||0===a)&&(l=e.isTimeSeries()?new Date(a.getTime()+o.right):a+o.right),[r,l]},e.prototype.updateXDomain=function(t,e,n,i,a){var o=this,r=o.config;return n&&(o.x.domain(a||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),r.zoom_enabled&&o.zoom.update(),o.subX.domain(o.x.domain()),o.brush&&o.brush.updateScale(o.subX)),e&&o.x.domain(a||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.selectionAsValue())),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},e.prototype.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],i=e[1];return t[0]<=n&&(t[1]=n-t[0]+ +t[1],t[0]=n),i<=t[1]&&(t[0]=+t[0]-(t[1]-i),t[1]=i),t},e.prototype.drag=function(t){var e,n,i,a,o,r,l,u,c=this,d=c.config,h=c.main,p=c.d3;c.hasArcType()||d.data_selection_enabled&&d.data_selection_multiple&&(e=c.dragStart[0],n=c.dragStart[1],i=t[0],a=t[1],o=Math.min(e,i),r=Math.max(e,i),l=d.data_selection_grouped?c.margin.top:Math.min(n,a),u=d.data_selection_grouped?c.height:Math.max(n,a),h.select("."+y.dragarea).attr("x",o).attr("y",l).attr("width",r-o).attr("height",u-l),h.selectAll("."+y.shapes).selectAll("."+y.shape).filter(function(t){return d.data_selection_isselectable(t)}).each(function(t,e){var n,i,a,d,h=p.select(this),f=h.classed(y.SELECTED),g=h.classed(y.INCLUDED),b=!1;if(h.classed(y.circle))n=1*h.attr("cx"),i=1*h.attr("cy"),a=c.togglePoint,b=o<n&&n<r&&l<i&&i<u;else{if(!h.classed(y.bar))return;i=(d=s(this)).y,a=c.togglePath,b=!(r<(n=d.x)||n+d.width<o||u<i||i+d.height<l)}b^g&&(h.classed(y.INCLUDED,!g),h.classed(y.SELECTED,!f),a.call(c,!f,h,t,e))}))},e.prototype.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+y.chart).append("rect").attr("class",y.dragarea).style("opacity",.1),e.dragging=!0)},e.prototype.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+y.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+y.shape).classed(y.INCLUDED,!1),t.dragging=!1)},e.prototype.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,a,o){return("y2"===e.axis.getId(o)?i:n).call(e,t,a)}},e.prototype.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},e.prototype.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},e.prototype.defaultValueFormat=function(t){return m(t)?+t:""},e.prototype.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},e.prototype.dataLabelFormat=function(e){var n=this.config.data_labels,i=function(t){return m(t)?+t:""};return"function"==typeof n.format?n.format:"object"===t(n.format)?n.format[e]?!0===n.format[e]?i:n.format[e]:function(){return""}:i},e.prototype.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",y.grid),e.grid_x_show&&t.grid.append("g").attr("class",y.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",y.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",y.xgridFocus).append("line").attr("class",y.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},e.prototype.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",y.grid+" "+y.gridLines),t.gridLines.append("g").attr("class",y.xgridLines),t.gridLines.append("g").attr("class",y.ygridLines),t.xgridLines=e.selectAll([])},e.prototype.updateXGrid=function(t){var e=this,n=e.config,i=e.d3,a=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgridAttr.opacity=function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1};var r=e.main.select("."+y.xgrids).selectAll("."+y.xgrid).data(a),l=r.enter().append("line").attr("class",y.xgrid).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",0);e.xgrid=l.merge(r),t||e.xgrid.attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),r.exit().remove()},e.prototype.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks),i=t.main.select("."+y.ygrids).selectAll("."+y.ygrid).data(n),a=i.enter().append("line").attr("class",y.ygrid);t.ygrid=a.merge(i),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),i.exit().remove(),t.smoothLines(t.ygrid,"grid")},e.prototype.gridTextAnchor=function(t){return t.position?t.position:"end"},e.prototype.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},e.prototype.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},e.prototype.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},e.prototype.updateGrid=function(t){var e,n,i,a,o=this,r=o.main,l=o.config,s=o.xv.bind(o),u=o.yv.bind(o),c=o.xGridTextX.bind(o),d=o.yGridTextX.bind(o);o.grid.style("visibility",o.hasArcType()?"hidden":"visible"),r.select("line."+y.xgridFocus).style("visibility","hidden"),l.grid_x_show&&o.updateXGrid(),(n=(e=r.select("."+y.xgridLines).selectAll("."+y.xgridLine).data(l.grid_x_lines)).enter().append("g").attr("class",function(t){return y.xgridLine+(t.class?" "+t.class:"")})).append("line").attr("x1",l.axis_rotated?0:s).attr("x2",l.axis_rotated?o.width:s).attr("y1",l.axis_rotated?s:0).attr("y2",l.axis_rotated?s:o.height).style("opacity",0),n.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",l.axis_rotated?"":"rotate(-90)").attr("x",l.axis_rotated?d:c).attr("y",s).attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.xgridLines=n.merge(e),e.exit().transition().duration(t).style("opacity",0).remove(),l.grid_y_show&&o.updateYGrid(),(a=(i=r.select("."+y.ygridLines).selectAll("."+y.ygridLine).data(l.grid_y_lines)).enter().append("g").attr("class",function(t){return y.ygridLine+(t.class?" "+t.class:"")})).append("line").attr("x1",l.axis_rotated?u:0).attr("x2",l.axis_rotated?u:o.width).attr("y1",l.axis_rotated?0:u).attr("y2",l.axis_rotated?o.height:u).style("opacity",0),a.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",l.axis_rotated?"rotate(-90)":"").attr("x",l.axis_rotated?c:d).attr("y",u).attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.ygridLines=a.merge(i),o.ygridLines.select("line").transition().duration(t).attr("x1",l.axis_rotated?u:0).attr("x2",l.axis_rotated?u:o.width).attr("y1",l.axis_rotated?0:u).attr("y2",l.axis_rotated?o.height:u).style("opacity",1),o.ygridLines.select("text").transition().duration(t).attr("x",l.axis_rotated?o.xGridTextX.bind(o):o.yGridTextX.bind(o)).attr("y",u).text(function(t){return t.text}).style("opacity",1),i.exit().transition().duration(t).style("opacity",0).remove()},e.prototype.redrawGrid=function(t,e){var n=this,i=n.config,a=n.xv.bind(n),o=n.xgridLines.select("line"),r=n.xgridLines.select("text");return[(t?o.transition(e):o).attr("x1",i.axis_rotated?0:a).attr("x2",i.axis_rotated?n.width:a).attr("y1",i.axis_rotated?a:0).attr("y2",i.axis_rotated?a:n.height).style("opacity",1),(t?r.transition(e):r).attr("x",i.axis_rotated?n.yGridTextX.bind(n):n.xGridTextX.bind(n)).attr("y",a).text(function(t){return t.text}).style("opacity",1)]},e.prototype.showXGridFocus=function(t){var e=this,n=e.config,i=t.filter(function(t){return t&&m(t.value)}),a=e.main.selectAll("line."+y.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasType("stanford")||e.hasArcType()||(a.style("visibility","visible").data([i[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(a,"grid")))},e.prototype.hideXGridFocus=function(){this.main.select("line."+y.xgridFocus).style("visibility","hidden")},e.prototype.updateXgridFocus=function(){var t=this.config;this.main.select("line."+y.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},e.prototype.generateGridData=function(t,e){var n,i,a,o,r=[],l=this.main.select("."+y.axisX).selectAll(".tick").size();if("year"===t)for(i=(n=this.getXDomain())[0].getFullYear(),a=n[1].getFullYear(),o=i;o<=a;o++)r.push(new Date(o+"-01-01 00:00:00"));else(r=e.ticks(10)).length>l&&(r=r.filter(function(t){return(""+t).indexOf(".")<0}));return r},e.prototype.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)}),n}:function(){return!0}},e.prototype.removeGridLines=function(t,e){var n=this.config,i=this.getGridFilterToRemove(t),a=function(t){return!i(t)},o=e?y.xgridLine:y.ygridLine;this.main.select("."+(e?y.xgridLines:y.ygridLines)).selectAll("."+o).filter(i).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(a):n.grid_y_lines=n.grid_y_lines.filter(a)},e.prototype.initEventRect=function(){var t=this,e=t.config;t.main.select("."+y.chart).append("g").attr("class",y.eventRects).style("fill-opacity",0),t.eventRect=t.main.select("."+y.eventRects).append("rect").attr("class",y.eventRect),e.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on("dblclick.zoom",null),e.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(e.zoom_initialRange)))},e.prototype.redrawEventRect=function(){var t,e,n=this,i=n.d3,a=n.config;function o(){n.svg.select("."+y.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}t=n.width,e=n.height,n.main.select("."+y.eventRects).style("cursor",a.zoom_enabled?a.axis_rotated?"ns-resize":"ew-resize":null),n.eventRect.attr("x",0).attr("y",0).attr("width",t).attr("height",e).on("mouseout",a.interaction_enabled?function(){a&&(n.hasArcType()||o())}:null).on("mousemove",a.interaction_enabled?function(){var t,e,r,l;n.dragging||n.hasArcType(t)||(t=n.filterTargetsToShow(n.data.targets),e=i.mouse(this),r=n.findClosestFromTargets(t,e),!n.mouseover||r&&r.id===n.mouseover.id||(a.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),r?(l=(n.isScatterOrStanfordType(r)||!a.tooltip_grouped?[r]:n.filterByX(t,r.x)).map(function(t){return n.addName(t)}),n.showTooltip(l,this),a.point_focus_expand_enabled&&(n.unexpandCircles(),l.forEach(function(t){n.expandCircles(t.index,t.id,!1)})),n.expandBars(r.index,r.id,!0),n.showXGridFocus(l),(n.isBarType(r.id)||n.dist(r,e)<a.point_sensitivity)&&(n.svg.select("."+y.eventRect).style("cursor","pointer"),n.mouseover||(a.data_onmouseover.call(n.api,r),n.mouseover=r))):o())}:null).on("click",a.interaction_enabled?function(){var t,e,o;n.hasArcType(t)||(t=n.filterTargetsToShow(n.data.targets),e=i.mouse(this),(o=n.findClosestFromTargets(t,e))&&(n.isBarType(o.id)||n.dist(o,e)<a.point_sensitivity)&&(n.isScatterOrStanfordType(o)||!a.data_selection_grouped?[o]:n.filterByX(t,o.x)).forEach(function(t){n.main.selectAll("."+y.shapes+n.getTargetSelectorSuffix(t.id)).selectAll("."+y.shape+"-"+t.index).each(function(){(a.data_selection_grouped||n.isWithinShape(this,t))&&(n.toggleShape(this,t,t.index),a.data_onclick.call(n.api,t,this))})}))}:null).call(a.interaction_enabled&&a.data_selection_draggable&&n.drag?i.drag().on("drag",function(){n.drag(i.mouse(this))}).on("start",function(){n.dragstart(i.mouse(this))}).on("end",function(){n.dragend()}):function(){})},e.prototype.getMousePosition=function(t){return[this.x(t.x),this.getYScale(t.id)(t.value)]},e.prototype.dispatchEvent=function(t,e){var n=this.main.select("."+y.eventRect).node(),i=n.getBoundingClientRect(),a=i.left+(e?e[0]:0),o=i.top+(e?e[1]:0),r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,0,a,o,a,o,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},e.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},e.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},e.prototype.updateSizeForLegend=function(t,e){var n=this,i=n.config,a={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?a.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?a.left:0}},e.prototype.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},e.prototype.updateLegendStep=function(t){this.legendStep=t},e.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},e.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},e.prototype.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},e.prototype.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},e.prototype.opacityForLegend=function(t){return t.classed(y.legendItemHidden)?null:1},e.prototype.opacityForUnfocusedLegend=function(t){return t.classed(y.legendItemHidden)?null:.3},e.prototype.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+y.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(y.legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},e.prototype.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+y.legendItem).classed(y.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},e.prototype.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},e.prototype.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&h(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},e.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},e.prototype.updateLegend=function(t,e,n){var i,a,o,r,s,u,c,h,p,f,g,b,m,v,x,_,S=this,C=S.config,A=4,w=10,T=0,L=0,E=10,D=C.legend_item_tile_width+5,I=0,O={},R={},F={},P=[0],k={},N=0;function V(e,n,i){var a,o,r=0===i,l=i===t.length-1,s=function(t,e){return S.legendItemTextBox[e]||(S.legendItemTextBox[e]=S.getTextRect(t.textContent,y.legendItem,t)),S.legendItemTextBox[e]}(e,n),u=s.width+D+(!l||S.isLegendRight||S.isLegendInset?w:0)+C.legend_padding,c=s.height+A,d=S.isLegendRight||S.isLegendInset?c:u,h=S.isLegendRight||S.isLegendInset?S.getLegendHeight():S.getLegendWidth();function p(t,e){e||(a=(h-I-d)/2)<E&&(a=(h-d)/2,I=0,N++),k[t]=N,P[N]=S.isLegendInset?10:a,O[t]=I,I+=d}r&&(I=0,N=0,T=0,L=0),!C.legend_show||S.isLegendToShow(n)?(R[n]=u,F[n]=c,(!T||u>=T)&&(T=u),(!L||c>=L)&&(L=c),o=S.isLegendRight||S.isLegendInset?L:T,C.legend_equally?(Object.keys(R).forEach(function(t){R[t]=T}),Object.keys(F).forEach(function(t){F[t]=L}),(a=(h-o*t.length)/2)<E?(I=0,N=0,t.forEach(function(t){p(t)})):p(n,!0)):p(n)):R[n]=F[n]=k[n]=O[n]=0}t=t.filter(function(t){return!d(C.data_names[t])||null!==C.data_names[t]}),g=l(e=e||{},"withTransition",!0),b=l(e,"withTransitionForTransform",!0),S.isLegendInset&&S.updateLegendStep(N=C.legend_inset_step?C.legend_inset_step:t.length),S.isLegendRight?(i=function(t){return T*k[t]},r=function(t){return P[k[t]]+O[t]}):S.isLegendInset?(i=function(t){return T*k[t]+10},r=function(t){return P[k[t]]+O[t]}):(i=function(t){return P[k[t]]+O[t]},r=function(t){return L*k[t]}),a=function(t,e){return i(t,e)+4+C.legend_item_tile_width},s=function(t,e){return r(t,e)+9},o=function(t,e){return i(t,e)},u=function(t,e){return r(t,e)-5},c=function(t,e){return i(t,e)-2},h=function(t,e){return i(t,e)-2+C.legend_item_tile_width},p=function(t,e){return r(t,e)+4},(f=S.legend.selectAll("."+y.legendItem).data(t).enter().append("g").attr("class",function(t){return S.generateClass(y.legendItem,t)}).style("visibility",function(t){return S.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){C.legend_item_onclick?C.legend_item_onclick.call(S,t):S.d3.event.altKey?(S.api.hide(),S.api.show(t)):(S.api.toggle(t),S.isTargetToShow(t)?S.api.focus(t):S.api.revert())}).on("mouseover",function(t){C.legend_item_onmouseover?C.legend_item_onmouseover.call(S,t):(S.d3.select(this).classed(y.legendItemFocused,!0),!S.transiting&&S.isTargetToShow(t)&&S.api.focus(t))}).on("mouseout",function(t){C.legend_item_onmouseout?C.legend_item_onmouseout.call(S,t):(S.d3.select(this).classed(y.legendItemFocused,!1),S.api.revert())})).append("text").text(function(t){return d(C.data_names[t])?C.data_names[t]:t}).each(function(t,e){V(this,t,e)}).style("pointer-events","none").attr("x",S.isLegendRight||S.isLegendInset?a:-200).attr("y",S.isLegendRight||S.isLegendInset?-200:s),f.append("rect").attr("class",y.legendItemEvent).style("fill-opacity",0).attr("x",S.isLegendRight||S.isLegendInset?o:-200).attr("y",S.isLegendRight||S.isLegendInset?-200:u),f.append("line").attr("class",y.legendItemTile).style("stroke",S.color).style("pointer-events","none").attr("x1",S.isLegendRight||S.isLegendInset?c:-200).attr("y1",S.isLegendRight||S.isLegendInset?-200:p).attr("x2",S.isLegendRight||S.isLegendInset?h:-200).attr("y2",S.isLegendRight||S.isLegendInset?-200:p).attr("stroke-width",C.legend_item_tile_height),_=S.legend.select("."+y.legendBackground+" rect"),S.isLegendInset&&T>0&&0===_.size()&&(_=S.legend.insert("g","."+y.legendItem).attr("class",y.legendBackground).append("rect")),m=S.legend.selectAll("text").data(t).text(function(t){return d(C.data_names[t])?C.data_names[t]:t}).each(function(t,e){V(this,t,e)}),(g?m.transition():m).attr("x",a).attr("y",s),v=S.legend.selectAll("rect."+y.legendItemEvent).data(t),(g?v.transition():v).attr("width",function(t){return R[t]}).attr("height",function(t){return F[t]}).attr("x",o).attr("y",u),x=S.legend.selectAll("line."+y.legendItemTile).data(t),(g?x.transition():x).style("stroke",S.levelColor?function(t){return S.levelColor(S.cache[t].values[0].value)}:S.color).attr("x1",c).attr("y1",p).attr("x2",h).attr("y2",p),_&&(g?_.transition():_).attr("height",S.getLegendHeight()-12).attr("width",T*(N+1)+10),S.legend.selectAll("."+y.legendItem).classed(y.legendItemHidden,function(t){return!S.isTargetToShow(t)}),S.updateLegendItemWidth(T),S.updateLegendItemHeight(L),S.updateLegendStep(N),S.updateSizes(),S.updateScales(),S.updateSvgSize(),S.transformAll(b,n),S.legendHasRendered=!0},e.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",y.regions)},e.prototype.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible");var i=e.main.select("."+y.regions).selectAll("."+y.region).data(n.regions),a=i.enter().append("rect").attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",0);e.mainRegion=a.merge(i).attr("class",e.classRegion.bind(e)),i.exit().transition().duration(t).style("opacity",0).remove()},e.prototype.redrawRegion=function(t,e){var n=this,i=n.mainRegion;return[(t?i.transition(e):i).attr("x",n.regionX.bind(n)).attr("y",n.regionY.bind(n)).attr("width",n.regionWidth.bind(n)).attr("height",n.regionHeight.bind(n)).style("fill-opacity",function(t){return m(t.opacity)?t.opacity:.1})]},e.prototype.regionX=function(t){var e=this,n=e.config;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?("y"===t.axis?e.y:e.y2)(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},e.prototype.regionY=function(t){var e=this,n=e.config;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?("y"===t.axis?e.y:e.y2)(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},e.prototype.regionWidth=function(t){var e,n=this,i=n.config,a=n.regionX(t);return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated&&"end"in t?("y"===t.axis?n.y:n.y2)(t.end):n.width:i.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<a?0:e-a},e.prototype.regionHeight=function(t){var e,n=this,i=n.config,a=this.regionY(t);return(e="y"===t.axis||"y2"===t.axis?i.axis_rotated?n.height:"start"in t?("y"===t.axis?n.y:n.y2)(t.start):n.height:i.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<a?0:e-a},e.prototype.isRegionOnX=function(t){return!t.axis||"x"===t.axis},e.prototype.getScale=function(t,e,n){return(n?this.d3.scaleTime():this.d3.scaleLinear()).range([t,e])},e.prototype.getX=function(t,e,n,i){var a,o=this.getScale(t,e,this.isTimeSeries()),r=n?o.domain(n):o;for(a in this.isCategorized()?(i=i||function(){return 0},o=function(t,e){var n=r(t)+i(t);return e?n:Math.ceil(n)}):o=function(t,e){var n=r(t);return e?n:Math.ceil(n)},r)o[a]=r[a];return o.orgDomain=function(){return r.domain()},this.isCategorized()&&(o.domain=function(t){return arguments.length?(r.domain(t),o):[(t=this.orgDomain())[0],t[1]+1]}),o},e.prototype.getY=function(t,e,n){var i=this.getScale(t,e,this.isTimeSeriesY());return n&&i.domain(n),i},e.prototype.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},e.prototype.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},e.prototype.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis("y",t.y,t.yOrient,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis("y2",t.y2,t.y2Orient,t.y2AxisTickValues,e.axis_y2_tick_outer),n||t.brush&&t.brush.updateScale(t.subX),t.updateArc&&t.updateArc()},e.prototype.selectPoint=function(t,e,n){var i=this,a=i.config,o=(a.axis_rotated?i.circleY:i.circleX).bind(i),r=(a.axis_rotated?i.circleX:i.circleY).bind(i),l=i.pointSelectR.bind(i);a.data_onselected.call(i.api,e,t.node()),i.main.select("."+y.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+y.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return i.generateClass(y.selectedCircle,n)}).attr("cx",o).attr("cy",r).attr("stroke",function(){return i.color(e)}).attr("r",function(t){return 1.4*i.pointSelectR(t)}).transition().duration(100).attr("r",l)},e.prototype.unselectPoint=function(t,e,n){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+y.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+y.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},e.prototype.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},e.prototype.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},e.prototype.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return n.color(e)})},e.prototype.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},e.prototype.getToggle=function(t,e){var n;return"circle"===t.nodeName?n=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(n=this.togglePath),n},e.prototype.toggleShape=function(t,e,n){var i=this,a=i.d3,o=i.config,r=a.select(t),l=r.classed(y.SELECTED),s=i.getToggle(t,e).bind(i);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||i.main.selectAll("."+y.shapes+(o.data_selection_grouped?i.getTargetSelectorSuffix(e.id):"")).selectAll("."+y.shape).each(function(t,e){var n=a.select(this);n.classed(y.SELECTED)&&s(!1,n.classed(y.SELECTED,!1),t,e)}),r.classed(y.SELECTED,!l),s(!l,r,e,n))},e.prototype.initBar=function(){this.main.select("."+y.chart).append("g").attr("class",y.chartBars)},e.prototype.updateTargetsForBar=function(t){var e=this,n=e.config,i=e.classChartBar.bind(e),a=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+y.chartBars).selectAll("."+y.chartBar).data(t).attr("class",function(t){return i(t)+o(t)}).enter().append("g").attr("class",i).style("pointer-events","none").append("g").attr("class",a).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null})},e.prototype.updateBar=function(t){var e=this,n=e.barData.bind(e),i=e.classBar.bind(e),a=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)},r=e.main.selectAll("."+y.bars).selectAll("."+y.bar).data(n),l=r.enter().append("path").attr("class",i).style("stroke",o).style("fill",o);e.mainBar=l.merge(r).style("opacity",a),r.exit().transition().duration(t).style("opacity",0)},e.prototype.redrawBar=function(t,e,n){return[(e?this.mainBar.transition(n):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},e.prototype.getBarW=function(t,e){var n=this.config,i="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},e.prototype.getBars=function(t,e){return(e?this.main.selectAll("."+y.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+y.bar+(m(t)?"-"+t:""))},e.prototype.expandBars=function(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(y.EXPANDED,!0)},e.prototype.unexpandBars=function(t){this.getBars(t).classed(y.EXPANDED,!1)},e.prototype.generateDrawBar=function(t,e){var n=this.config,i=this.generateGetBarPoints(t,e);return function(t,e){var a=i(t,e),o=n.axis_rotated?1:0,r=n.axis_rotated?0:1;return"M "+a[0][o]+","+a[0][r]+" L"+a[1][o]+","+a[1][r]+" L"+a[2][o]+","+a[2][r]+" L"+a[3][o]+","+a[3][r]+" z"}},e.prototype.generateGetBarPoints=function(t,e){var n=this,i=t.__max__+1,a=n.getBarW(e?n.subXAxis:n.xAxis,i),o=n.getShapeX(a,i,t,!!e),r=n.getShapeY(!!e),l=n.getShapeOffset(n.isBarType,t,!!e),s=a*(n.config.bar_space/2),u=e?n.getSubYScale:n.getYScale;return function(t,e){var i=u.call(n,t.id)(0),c=l(t,e)||i,d=o(t),h=r(t);return n.config.axis_rotated&&(0<t.value&&h<i||t.value<0&&i<h)&&(h=i),[[d+s,c],[d+s,h-=i-c],[d+a-s,h],[d+a-s,c]]}},e.prototype.isWithinBar=function(t,e){if(e.pathSegList.numberOfItems<2)return!1;var n=u(e),i=e.pathSegList.getItem(0),a=e.pathSegList.getItem(1),o=Math.min(i.x,a.x),r=Math.min(i.y,a.y);return o-2<t[0]&&t[0]<o+n.width+2&&r-2<t[1]&&t[1]<r+n.height+2},e.prototype.getShapeIndices=function(t){var e,n,i=this.config,a={},o=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in a){a[t.id]=a[i.data_groups[e][n]];break}b(a[t.id])&&(a[t.id]=o++)}),a.__max__=o-1,a},e.prototype.getShapeX=function(t,e,n,i){var a=i?this.subX:this.x;return function(i){var o=i.id in n?n[i.id]:0;return i.x||0===i.x?a(i.x)-t*(e/2-o):0}},e.prototype.getShapeY=function(t){var e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(e.isTargetNormalized(n.id)?e.getRatio("index",n,!0):n.value)}},e.prototype.getShapeOffset=function(t,e,n){var i=this,a=i.orderTargets(i.filterTargetsToShow(i.data.targets.filter(t,i))),o=a.map(function(t){return t.id});return function(t,r){var l=n?i.getSubYScale(t.id):i.getYScale(t.id),s=l(0),u=s;return a.forEach(function(n){var a=i.isStepType(t)?i.convertValuesToStep(n.values):n.values,c=i.isTargetNormalized(t.id),d=a.map(function(t){return c?i.getRatio("index",t,!0):t.value});n.id!==t.id&&e[n.id]===e[t.id]&&o.indexOf(n.id)<o.indexOf(t.id)&&((b(a[r])||+a[r].x!=+t.x)&&(r=-1,a.forEach(function(e,n){(e.x.constructor===Date?+e.x:e.x)===(t.x.constructor===Date?+t.x:t.x)&&(r=n)})),r in a&&a[r].value*t.value>=0&&(u+=l(d[r])-s))}),u}},e.prototype.isWithinShape=function(t,e){var n,i=this,a=i.d3.select(t);return i.isTargetToShow(e.id)?"circle"===t.nodeName?n=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(n=!a.classed(y.bar)||i.isWithinBar(i.d3.mouse(t),t)):n=!1,n},e.prototype.getInterpolate=function(t){var e=this,n=e.d3,i={linear:n.curveLinear,"linear-closed":n.curveLinearClosed,basis:n.curveBasis,"basis-open":n.curveBasisOpen,"basis-closed":n.curveBasisClosed,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-open":n.curveCardinalOpen,"cardinal-closed":n.curveCardinalClosed,monotone:n.curveMonotoneX,step:n.curveStep,"step-before":n.curveStepBefore,"step-after":n.curveStepAfter};return e.isSplineType(t)?i[e.config.spline_interpolation_type]||i.cardinal:e.isStepType(t)?i[e.config.line_step_type]:i.linear},e.prototype.initLine=function(){this.main.select("."+y.chart).append("g").attr("class",y.chartLines)},e.prototype.updateTargetsForLine=function(t){var e,n=this,i=n.config,a=n.classChartLine.bind(n),o=n.classLines.bind(n),r=n.classAreas.bind(n),l=n.classCircles.bind(n),s=n.classFocus.bind(n);(e=n.main.select("."+y.chartLines).selectAll("."+y.chartLine).data(t).attr("class",function(t){return a(t)+s(t)}).enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",r),e.append("g").attr("class",function(t){return n.generateClass(y.selectedCircles,t.id)}),e.append("g").attr("class",l).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){n.main.selectAll("."+y.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+y.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},e.prototype.updateLine=function(t){var e=this,n=e.main.selectAll("."+y.lines).selectAll("."+y.line).data(e.lineData.bind(e)),i=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.mainLine=i.merge(n).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),n.exit().transition().duration(t).style("opacity",0)},e.prototype.redrawLine=function(t,e,n){return[(e?this.mainLine.transition(n):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},e.prototype.generateDrawLine=function(t,e){var n=this,i=n.config,a=n.d3.line(),o=n.generateGetLinePoints(t,e),r=e?n.getSubYScale:n.getYScale,l=function(t){return(e?n.subxx:n.xx).call(n,t)},s=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:r.call(n,t.id)(t.value)};return a=i.axis_rotated?a.x(s).y(l):a.x(l).y(s),i.line_connectNull||(a=a.defined(function(t){return null!=t.value})),function(t){var o,l=i.line_connectNull?n.filterRemoveNull(t.values):t.values,s=e?n.subX:n.x,u=r.call(n,t.id),c=0,d=0;return n.isLineType(t)?i.data_regions[t.id]?o=n.lineWithRegions(l,s,u,i.data_regions[t.id]):(n.isStepType(t)&&(l=n.convertValuesToStep(l)),o=a.curve(n.getInterpolate(t))(l)):(l[0]&&(c=s(l[0].x),d=u(l[0].value)),o=i.axis_rotated?"M "+d+" "+c:"M "+c+" "+d),o||"M 0 0"}},e.prototype.generateGetLinePoints=function(t,e){var n=this,i=n.config,a=n.getShapeX(0,t.__max__+1,t,!!e),o=n.getShapeY(!!e),r=n.getShapeOffset(n.isLineType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var s=l.call(n,t.id)(0),u=r(t,e)||s,c=a(t),d=o(t);return i.axis_rotated&&(0<t.value&&d<s||t.value<0&&s<d)&&(d=s),[[c,d-(s-u)],[c,d-(s-u)],[c,d-(s-u)],[c,d-(s-u)]]}},e.prototype.lineWithRegions=function(t,e,n,i){var a,o,r,l,s,u,c,h,p,f,g,m=this,v=m.config,x="M",_=m.isCategorized()?.5:0,y=[];function S(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}if(d(i))for(a=0;a<i.length;a++)y[a]={},y[a].start=b(i[a].start)?t[0].x:m.isTimeSeries()?m.parseDate(i[a].start):i[a].start,y[a].end=b(i[a].end)?t[t.length-1].x:m.isTimeSeries()?m.parseDate(i[a].end):i[a].end;function C(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(f=v.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},g=v.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},r=m.isTimeSeries()?function(t,i,a,o){var r=t.x.getTime(),l=i.x-t.x,u=new Date(r+l*a),c=new Date(r+l*(a+o));return C(v.axis_rotated?[[n(s(a)),e(u)],[n(s(a+o)),e(c)]]:[[e(u),n(s(a))],[e(c),n(s(a+o))]])}:function(t,i,a,o){return C(v.axis_rotated?[[n(s(a),!0),e(l(a))],[n(s(a+o),!0),e(l(a+o))]]:[[e(l(a),!0),n(s(a))],[e(l(a+o),!0),n(s(a+o))]])},a=0;a<t.length;a++)if(b(y)||!S(t[a].x,y))x+=" "+f(t[a])+" "+g(t[a]);else for(l=m.getScale(t[a-1].x+_,t[a].x+_,m.isTimeSeries()),s=m.getScale(t[a-1].value,t[a].value),u=e(t[a].x)-e(t[a-1].x),c=n(t[a].value)-n(t[a-1].value),p=2*(h=2/Math.sqrt(Math.pow(u,2)+Math.pow(c,2))),o=h;o<=1;o+=p)x+=r(t[a-1],t[a],o,h);return x},e.prototype.updateArea=function(t){var e=this,n=e.d3,i=e.main.selectAll("."+y.areas).selectAll("."+y.area).data(e.lineData.bind(e)),a=i.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0});e.mainArea=a.merge(i).style("opacity",e.orgAreaOpacity),i.exit().transition().duration(t).style("opacity",0)},e.prototype.redrawArea=function(t,e,n){return[(e?this.mainArea.transition(n):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},e.prototype.generateDrawArea=function(t,e){var n=this,i=n.config,a=n.d3.area(),o=n.generateGetAreaPoints(t,e),r=e?n.getSubYScale:n.getYScale,l=function(t){return(e?n.subxx:n.xx).call(n,t)},s=function(t,e){return i.data_groups.length>0?o(t,e)[0][1]:r.call(n,t.id)(n.getAreaBaseValue(t.id))},u=function(t,e){return i.data_groups.length>0?o(t,e)[1][1]:r.call(n,t.id)(t.value)};return a=i.axis_rotated?a.x0(s).x1(u).y(l):a.x(l).y0(i.area_above?0:s).y1(u),i.line_connectNull||(a=a.defined(function(t){return null!==t.value})),function(t){var e,o=i.line_connectNull?n.filterRemoveNull(t.values):t.values,r=0,l=0;return n.isAreaType(t)?(n.isStepType(t)&&(o=n.convertValuesToStep(o)),e=a.curve(n.getInterpolate(t))(o)):(o[0]&&(r=n.x(o[0].x),l=n.getYScale(t.id)(o[0].value)),e=i.axis_rotated?"M "+l+" "+r:"M "+r+" "+l),e||"M 0 0"}},e.prototype.getAreaBaseValue=function(){return 0},e.prototype.generateGetAreaPoints=function(t,e){var n=this,i=n.config,a=n.getShapeX(0,t.__max__+1,t,!!e),o=n.getShapeY(!!e),r=n.getShapeOffset(n.isAreaType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var s=l.call(n,t.id)(0),u=r(t,e)||s,c=a(t),d=o(t);return i.axis_rotated&&(0<t.value&&d<s||t.value<0&&s<d)&&(d=s),[[c,u],[c,d-(s-u)],[c,d-(s-u)],[c,u]]}},e.prototype.updateCircle=function(t,e){var n=this,i=n.main.selectAll("."+y.circles).selectAll("."+y.circle).data(n.lineOrScatterOrStanfordData.bind(n)),a=i.enter().append("circle").attr("shape-rendering",n.isStanfordGraphType()?"crispEdges":"").attr("class",n.classCircle.bind(n)).attr("cx",t).attr("cy",e).attr("r",n.pointR.bind(n)).style("color",n.isStanfordGraphType()?n.getStanfordPointColor.bind(n):n.color);n.mainCircle=a.merge(i).style("opacity",n.isStanfordGraphType()?1:n.initialOpacityForCircle.bind(n)),i.exit().style("opacity",0)},e.prototype.redrawCircle=function(t,e,n,i){var a=this,o=a.main.selectAll("."+y.selectedCircle);return[(n?a.mainCircle.transition(i):a.mainCircle).style("opacity",this.opacityForCircle.bind(a)).style("color",a.isStanfordGraphType()?a.getStanfordPointColor.bind(a):a.color).attr("cx",t).attr("cy",e),(n?o.transition(i):o).attr("cx",t).attr("cy",e)]},e.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},e.prototype.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},e.prototype.getCircles=function(t,e){return(e?this.main.selectAll("."+y.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+y.circle+(m(t)?"-"+t:""))},e.prototype.expandCircles=function(t,e,n){var i=this.pointExpandedR.bind(this);n&&this.unexpandCircles(),this.getCircles(t,e).classed(y.EXPANDED,!0).attr("r",i)},e.prototype.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(y.EXPANDED)}).classed(y.EXPANDED,!1).attr("r",n)},e.prototype.pointR=function(t){var e=this.config;return this.isStepType(t)?0:p(e.point_r)?e.point_r(t):e.point_r},e.prototype.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?p(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},e.prototype.pointSelectR=function(t){var e=this.config;return p(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},e.prototype.isWithinCircle=function(t,e){var n=this.d3,i=n.mouse(t),a=n.select(t),o=+a.attr("cx"),r=+a.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(r-i[1],2))<e},e.prototype.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},e.prototype.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},e.prototype.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},e.prototype.getCurrentPaddingTop=function(){var t=this.config,e=m(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},e.prototype.getCurrentPaddingBottom=function(){var t=this.config;return m(t.padding_bottom)?t.padding_bottom:0},e.prototype.getCurrentPaddingLeft=function(t){var e=this.config;return m(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(o(this.getAxisWidthByAxisId("x",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:o(this.getAxisWidthByAxisId("y",t))},e.prototype.getCurrentPaddingRight=function(){var t=this,e=t.config,n=0,i=t.isLegendRight?t.getLegendWidth()+20:0;return n=m(e.padding_right)?e.padding_right+1:e.axis_rotated?10+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):o(t.getAxisWidthByAxisId("y2"))+i,t.colorScale&&t.colorScale.node()&&(n+=t.getColorScalePadding()),n},e.prototype.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(i){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},e.prototype.getParentWidth=function(){return this.getParentRectValue("width")},e.prototype.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},e.prototype.getSvgLeft=function(t){var e=this,n=e.config,i=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,a=e.main.select("."+(n.axis_rotated?y.axisX:y.axisY)).node(),o=a&&i?a.getBoundingClientRect():{right:0},r=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),s=o.right-r.left-(l?0:e.getCurrentPaddingLeft(t));return s>0?s:0},e.prototype.getAxisWidthByAxisId=function(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},e.prototype.getHorizontalAxisHeight=function(t){var e=this,n=e.config,i=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(n.axis_x_tick_rotate))/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(i=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(n.axis_y_tick_rotate))/180)),i+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},e.prototype.initBrush=function(t){var e=this,n=e.d3;return e.brush=(e.config.axis_rotated?n.brushY():n.brushX()).on("brush",function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.redrawForBrush()}).on("end",function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.brush.empty()&&t&&"end"!==t.type&&e.brush.clear()}),e.brush.updateExtent=function(){var t=this.scale.range();return this.extent(e.config.axis_rotated?[[0,t[0]],[e.width2,t[1]]]:[[t[0],0],[t[1],e.height2]]),this},e.brush.updateScale=function(t){return this.scale=t,this},e.brush.update=function(t){this.updateScale(t||e.subX).updateExtent(),e.context.select("."+y.brush).call(this)},e.brush.clear=function(){e.context.select("."+y.brush).call(e.brush.move,null)},e.brush.selection=function(){return n.brushSelection(e.context.select("."+y.brush).node())},e.brush.selectionAsValue=function(t,n){var i,a;return t?(e.context&&(i=[this.scale(t[0]),this.scale(t[1])],a=e.context.select("."+y.brush),n&&(a=a.transition()),e.brush.move(a,i)),[]):(i=e.brush.selection()||[0,0],[this.scale.invert(i[0]),this.scale.invert(i[1])])},e.brush.empty=function(){var t=e.brush.selection();return!t||t[0]===t[1]},e.brush.updateScale(t)},e.prototype.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility",e.subchart_show?"visible":"hidden"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",y.chart),n.select("."+y.chart).append("g").attr("class",y.chartBars),n.select("."+y.chart).append("g").attr("class",y.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",y.brush),t.axes.subx=n.append("g").attr("class",y.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis)},e.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+y.brush).call(this.brush)},e.prototype.updateTargetsForSubchart=function(t){var e,n,i,a,o=this,r=o.context,l=o.config,s=o.classChartBar.bind(o),u=o.classBars.bind(o),c=o.classChartLine.bind(o),d=o.classLines.bind(o),h=o.classAreas.bind(o);l.subchart_show&&((i=(a=r.select("."+y.chartBars).selectAll("."+y.chartBar).data(t)).enter().append("g").style("opacity",0)).merge(a).attr("class",s),i.append("g").attr("class",u),(e=(n=r.select("."+y.chartLines).selectAll("."+y.chartLine).data(t)).enter().append("g").style("opacity",0)).merge(n).attr("class",c),e.append("g").attr("class",d),e.append("g").attr("class",h),r.selectAll("."+y.brush+" rect").attr(l.axis_rotated?"width":"height",l.axis_rotated?o.width2:o.height2))},e.prototype.updateBarForSubchart=function(t){var e=this,n=e.context.selectAll("."+y.bars).selectAll("."+y.bar).data(e.barData.bind(e)),i=n.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextBar=i.merge(n).style("opacity",e.initialOpacity.bind(e))},e.prototype.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},e.prototype.updateLineForSubchart=function(t){var e=this,n=e.context.selectAll("."+y.lines).selectAll("."+y.line).data(e.lineData.bind(e)),i=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextLine=i.merge(n).style("opacity",e.initialOpacity.bind(e))},e.prototype.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},e.prototype.updateAreaForSubchart=function(t){var e=this,n=e.d3,i=e.context.selectAll("."+y.areas).selectAll("."+y.area).data(e.lineData.bind(e)),a=i.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0});i.exit().transition().duration(t).style("opacity",0).remove(),e.contextArea=a.merge(i).style("opacity",0)},e.prototype.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},e.prototype.redrawSubchart=function(t,e,n,i,a,o,r){var l,s,u,c=this,d=c.d3,h=c.config;c.context.style("visibility",h.subchart_show?"visible":"hidden"),h.subchart_show&&(d.event&&"zoom"===d.event.type&&c.brush.selectionAsValue(c.x.orgDomain()),t&&(c.brush.empty()||c.brush.selectionAsValue(c.x.orgDomain()),l=c.generateDrawArea(a,!0),s=c.generateDrawBar(o,!0),u=c.generateDrawLine(r,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(s,n,n),c.redrawLineForSubchart(u,n,n),c.redrawAreaForSubchart(l,n,n)))},e.prototype.redrawForBrush=function(){var t,e=this,n=e.x,i=e.d3;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),t=i.event.selection||e.brush.scale.range(),e.main.select("."+y.eventRect).call(e.zoom.transform,i.zoomIdentity.scale(e.width/(t[1]-t[0])).translate(-t[0],0)),e.config.subchart_onbrush.call(e.api,n.orgDomain())},e.prototype.transformContext=function(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select("."+y.axisX),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},e.prototype.getDefaultSelection=function(){var t=this,e=t.config,n=p(e.axis_x_selection)?e.axis_x_selection(t.getXDomain(t.data.targets)):e.axis_x_selection;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},e.prototype.initText=function(){this.main.select("."+y.chart).append("g").attr("class",y.chartTexts),this.mainText=this.d3.selectAll([])},e.prototype.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),i=e.classTexts.bind(e),a=e.classFocus.bind(e),o=e.main.select("."+y.chartTexts).selectAll("."+y.chartText).data(t),r=o.enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none");r.append("g").attr("class",i),r.merge(o).attr("class",function(t){return n(t)+a(t)})},e.prototype.updateText=function(t,e,n){var i=this,a=i.config,o=i.barOrLineData.bind(i),r=i.classText.bind(i),l=i.main.selectAll("."+y.texts).selectAll("."+y.text).data(o),s=l.enter().append("text").attr("class",r).attr("text-anchor",function(t){return a.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",t).attr("y",e).style("fill",function(t){return i.color(t)}).style("fill-opacity",0);i.mainText=s.merge(l).text(function(t,e,n){return i.dataLabelFormat(t.id)(t.value,t.id,e,n)}),l.exit().transition().duration(n).style("fill-opacity",0).remove()},e.prototype.redrawText=function(t,e,n,i,a){return[(i?this.mainText.transition(a):this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},e.prototype.getTextRect=function(t,e,n){var i,a=this.d3.select("body").append("div").classed("c3",!0),o=a.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),r=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",r).text(t).each(function(){i=u(this)}),a.remove(),i},e.prototype.generateXYForText=function(t,e,n,i){var a=this,o=a.generateGetAreaPoints(t,!1),r=a.generateGetBarPoints(e,!1),l=a.generateGetLinePoints(n,!1),s=i?a.getXForText:a.getYForText;return function(t,e){var n=a.isAreaType(t)?o:a.isBarType(t)?r:l;return s.call(a,n(t,e),t,this)}},e.prototype.getXForText=function(t,e,n){var i,a,o=this,r=u(n);return o.config.axis_rotated?(a=o.isBarType(e)?4:6,i=t[2][1]+a*(e.value<0?-1:1)):i=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(i>o.width?i=o.width-r.width:i<0&&(i=4)),i},e.prototype.getYForText=function(t,e,n){var i,a=this,o=u(n);return a.config.axis_rotated?i=(t[0][0]+t[2][0]+.6*o.height)/2:(i=t[2][1],e.value<0||0===e.value&&!a.hasPositiveValue?(i+=o.height,a.isBarType(e)&&a.isSafari()?i-=3:!a.isBarType(e)&&a.isChrome()&&(i+=3)):i+=a.isBarType(e)?-3:-6),null!==e.value||a.config.axis_rotated||(i<o.height?i=o.height:i>this.height&&(i=this.height-4)),i},e.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},e.prototype.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},e.prototype.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?Math.max((t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2,0):e.title_padding.left},e.prototype.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},e.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},e.prototype.drawColorScale=function(){var t,e,n,i,a,o,r,l=this,s=l.d3,u=l.config,c=l.data.targets[0];if((t=isNaN(u.stanford_scaleWidth)?20:u.stanford_scaleWidth)<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");n=s.range(u.stanford_padding.bottom,r=l.height-u.stanford_padding.bottom-u.stanford_padding.top,5),o=s.scaleSequential(c.colors).domain([n[n.length-1],n[0]]),l.colorScale&&l.colorScale.remove(),l.colorScale=l.svg.append("g").attr("width",50).attr("height",r).attr("class",y.colorScale),l.colorScale.append("g").attr("transform","translate(0, ".concat(u.stanford_padding.top,")")).selectAll("bars").data(n).enter().append("rect").attr("y",function(t,e){return 5*e}).attr("x",0).attr("width",t).attr("height",5).attr("fill",function(t){return o(t)}),a=s.scaleLog().domain([c.minEpochs,c.maxEpochs]).range([n[0]+u.stanford_padding.top+n[n.length-1]+5-1,n[0]+u.stanford_padding.top]),i=s.axisRight(a),"pow10"===u.stanford_scaleFormat?i.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):p(u.stanford_scaleFormat)?i.tickFormat(u.stanford_scaleFormat):i.tickFormat(s.format("d")),p(u.stanford_scaleValues)&&i.tickValues(u.stanford_scaleValues(c.minEpochs,c.maxEpochs)),e=l.colorScale.append("g").attr("class","legend axis").attr("transform","translate(".concat(t,",0)")).call(i),"pow10"===u.stanford_scaleFormat&&e.selectAll(".tick text").text(null).filter(A).text(10).append("tspan").attr("dy","-.7em").text(function(t){return Math.round(Math.log(t)/Math.LN10)}),l.colorScale.attr("transform","translate(".concat(l.currentWidth-l.xForColorScale(),", 0)"))},e.prototype.xForColorScale=function(){return this.config.stanford_padding.right+u(this.colorScale.node()).width},e.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},e.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},e.prototype.initStanfordData=function(){var t,e,n,i=this.d3,a=this.config,o=this.data.targets[0];if(o.values.sort(L),t=o.values.map(function(t){return t.epochs}),(n=isNaN(a.stanford_scaleMin)?i.min(t):a.stanford_scaleMin)>(e=isNaN(a.stanford_scaleMax)?i.max(t):a.stanford_scaleMax))throw Error("Number of minEpochs has to be smaller than maxEpochs");o.colors=p(a.stanford_colors)?a.stanford_colors:i.interpolateHslLong(i.hsl(250,1,.5),i.hsl(0,1,.5)),o.colorscale=i.scaleSequentialLog(o.colors).domain([n,e]),o.minEpochs=n,o.maxEpochs=e},e.prototype.getStanfordPointColor=function(t){return this.data.targets[0].colorscale(t.epochs)},e.prototype.getCentroid=function(t){var e,n,i,a,o,r=w(t),l=0,s=0;for(e=0,n=t.length-1;e<t.length;n=e,e+=1)l+=((a=t[e]).x+(o=t[n]).x)*(i=a.x*o.y-o.x*a.y),s+=(a.y+o.y)*i;return{x:l/(i=6*r),y:s/i}},e.prototype.getStanfordTooltipTitle=function(t){var e=this.axis.getLabelText("x"),n=this.axis.getLabelText("y");return"\n      <tr><th>".concat(e?x(e):"x","</th><th class='value'>").concat(t.x,"</th></tr>\n      <tr><th>").concat(n?x(n):"y","</th><th class='value'>").concat(t.value,"</th></tr>\n    ")},e.prototype.countEpochsInRegion=function(t){var e,n,i=this.data.targets[0];return e=i.values.reduce(function(t,e){return t+Number(e.epochs)},0),{value:n=i.values.reduce(function(e,n){return T(n,t)?e+Number(n.epochs):e},0),percentage:0!==n?(n/e*100).toFixed(1):0}};var w=function(t){var e,n,i,a,o=0;for(e=0,n=t.length-1;e<t.length;n=e,e+=1)o+=(i=t[e]).x*(a=t[n]).y,o-=i.y*a.x;return o/2},T=function(t,e){for(var n,i,a,o=t.x,r=t.value,l=!1,s=0,u=e.length-1;s<e.length;u=s++)n=e[s].x,(i=e[s].y)>r!=(a=e[u].y)>r&&o<(e[u].x-n)*(r-i)/(a-i)+n&&(l=!l);return l},L=function(t,e){return t.epochs<e.epochs?-1:t.epochs>e.epochs?1:0};return e.prototype.initStanfordElements=function(){var t=this;t.stanfordElements=t.main.select("."+y.chart).append("g").attr("class",y.stanfordElements),t.stanfordElements.append("g").attr("class",y.stanfordLines),t.stanfordElements.append("g").attr("class",y.stanfordTexts),t.stanfordElements.append("g").attr("class",y.stanfordRegions)},e.prototype.updateStanfordElements=function(t){var e,n,i,a,o,r,l=this,s=l.main,u=l.config,c=l.xvCustom.bind(l),d=l.yvCustom.bind(l),h=l.countEpochsInRegion.bind(l);(n=(e=s.select("."+y.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+y.stanfordLine).data(u.stanford_lines)).enter().append("g").attr("class",function(t){return y.stanfordLine+(t.class?" "+t.class:"")})).append("line").attr("x1",function(t){return u.axis_rotated?d(t,"value_y1"):c(t,"value_x1")}).attr("x2",function(t){return u.axis_rotated?d(t,"value_y2"):c(t,"value_x2")}).attr("y1",function(t){return u.axis_rotated?c(t,"value_x1"):d(t,"value_y1")}).attr("y2",function(t){return u.axis_rotated?c(t,"value_x2"):d(t,"value_y2")}).style("opacity",0),l.stanfordLines=n.merge(e),l.stanfordLines.select("line").transition().duration(t).attr("x1",function(t){return u.axis_rotated?d(t,"value_y1"):c(t,"value_x1")}).attr("x2",function(t){return u.axis_rotated?d(t,"value_y2"):c(t,"value_x2")}).attr("y1",function(t){return u.axis_rotated?c(t,"value_x1"):d(t,"value_y1")}).attr("y2",function(t){return u.axis_rotated?c(t,"value_x2"):d(t,"value_y2")}).style("opacity",1),e.exit().transition().duration(t).style("opacity",0).remove(),(r=(o=s.select("."+y.stanfordTexts).selectAll("."+y.stanfordText).data(u.stanford_texts)).enter().append("g").attr("class",function(t){return y.stanfordText+(t.class?" "+t.class:"")})).append("text").attr("x",function(t){return u.axis_rotated?d(t,"y"):c(t,"x")}).attr("y",function(t){return u.axis_rotated?c(t,"x"):d(t,"y")}).style("opacity",0),l.stanfordTexts=r.merge(o),l.stanfordTexts.select("text").transition().duration(t).attr("x",function(t){return u.axis_rotated?d(t,"y"):c(t,"x")}).attr("y",function(t){return u.axis_rotated?c(t,"x"):d(t,"y")}).text(function(t){return t.content}).style("opacity",1),o.exit().transition().duration(t).style("opacity",0).remove(),(a=(i=s.select("."+y.stanfordRegions).selectAll("."+y.stanfordRegion).data(u.stanford_regions)).enter().append("g").attr("class",function(t){return y.stanfordRegion+(t.class?" "+t.class:"")})).append("polygon").attr("points",function(t){return t.points.map(function(t){return[u.axis_rotated?d(t,"y"):c(t,"x"),u.axis_rotated?c(t,"x"):d(t,"y")].join(",")}).join(" ")}).style("opacity",0),a.append("text").attr("x",function(t){return l.getCentroid(t.points).x}).attr("y",function(t){return l.getCentroid(t.points).y}).style("opacity",0),l.stanfordRegions=a.merge(i),l.stanfordRegions.select("polygon").transition().duration(t).attr("points",function(t){return t.points.map(function(t){return[u.axis_rotated?d(t,"y"):c(t,"x"),u.axis_rotated?c(t,"x"):d(t,"y")].join(",")}).join(" ")}).style("opacity",function(t){return t.opacity?t.opacity:.2}),l.stanfordRegions.select("text").transition().duration(t).attr("x",function(t){return u.axis_rotated?d(l.getCentroid(t.points),"y"):c(l.getCentroid(t.points),"x")}).attr("y",function(t){return u.axis_rotated?c(l.getCentroid(t.points),"x"):d(l.getCentroid(t.points),"y")}).text(function(t){var e,n,i;return t.text?(l.isStanfordGraphType()&&(e=(i=h(t.points)).value,n=i.percentage),t.text(e,n)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),i.exit().transition().duration(t).style("opacity",0).remove()},e.prototype.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",y.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&g(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},e.prototype.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=t.orderTargets(t.data.targets).map(function(t){return t.id});return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var i=e.tooltip_order;void 0===i&&(i=e.data_order);var a=function(t){return t?t.value:null};if(g(i)&&"asc"===i.toLowerCase())return function(t,e){return a(t)-a(e)};if(g(i)&&"desc"===i.toLowerCase())return function(t,e){return a(e)-a(t)};if(p(i)){var o=i;return void 0===e.tooltip_order&&(o=function(t,e){return i(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),o}return c(i)?function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}:void 0},e.prototype.getTooltipContent=function(t,e,n,i){var a,o,r,l,s,u,c=this,d=c.config,h=d.tooltip_format_title||e,p=d.tooltip_format_name||function(t){return t},f=d.tooltip_format_value;f||(f=c.isTargetNormalized(t.id)?function(t,e){return"".concat((100*e).toFixed(2),"%")}:n);var g=this.getTooltipSortFunction();for(g&&t.sort(g),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)){if(c.isStanfordGraphType())a||(r=c.getStanfordTooltipTitle(t[o]),a="<table class='"+c.CLASS.tooltip+"'>"+r),u=c.getStanfordPointColor(t[o]),s=x(d.data_epochs),l=t[o].epochs;else if(a||(r=x(h?h(t[o].x,t[o].index):t[o].x),a="<table class='"+c.CLASS.tooltip+"'>"+(r||0===r?"<tr><th colspan='2'>"+r+"</th></tr>":"")),void 0!==(l=x(f(t[o].value,t[o].ratio,t[o].id,t[o].index,t)))){if(null===t[o].name)continue;s=x(p(t[o].name,t[o].ratio,t[o].id,t[o].index)),u=c.levelColor?c.levelColor(t[o].value):i(t[o].id)}void 0!==l&&(a+="<tr class='"+c.CLASS.tooltipName+"-"+c.getTargetSelectorSuffix(t[o].id)+"'>",a+="<td class='name'><span style='background-color:"+u+"'></span>"+s+"</td>",a+="<td class='value'>"+l+"</td>",a+="</tr>")}return a+"</table>"},e.prototype.tooltipPosition=function(t,e,n,i){var a,o,r,l,s,u=this,c=u.config,d=u.d3,h=u.hasArcType(),p=d.mouse(i);return h?(o=(u.width-(u.isLegendRight?u.getLegendWidth():0))/2+p[0],l=(u.hasType("gauge")?u.height:u.height/2)+p[1]+20):(a=u.getSvgLeft(!0),c.axis_rotated?(r=(o=a+p[0]+100)+e,s=u.currentWidth-u.getCurrentPaddingRight(),l=u.x(t[0].x)+20):(r=(o=a+u.getCurrentPaddingLeft(!0)+u.x(t[0].x)+20)+e,s=a+u.currentWidth-u.getCurrentPaddingRight(),l=p[1]+15),r>s&&(o-=r-s+20),l+n>u.currentHeight&&(l-=n+30)),l<0&&(l=0),{top:l,left:o}},e.prototype.showTooltip=function(t,n){var i,a,o,r=this,l=r.config,s=r.hasArcType(),u=t.filter(function(t){return t&&m(t.value)}),c=l.tooltip_position||e.prototype.tooltipPosition;0!==u.length&&l.tooltip_show&&(r.tooltip.html(l.tooltip_contents.call(r,t,r.axis.getXAxisTickFormat(),r.getYFormat(s),r.color)).style("display","block"),i=r.tooltip.property("offsetWidth"),a=r.tooltip.property("offsetHeight"),o=c.call(this,u,i,a,n),r.tooltip.style("top",o.top+"px").style("left",o.left+"px"))},e.prototype.hideTooltip=function(){this.tooltip.style("display","none")},e.prototype.setTargetType=function(t,e){var n=this,i=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===i.data_types[t],i.data_types[t]=e}),t||(i.data_type=e)},e.prototype.hasType=function(t,e){var n=this.config.data_types,i=!1;return(e=e||this.data.targets)&&e.length?e.forEach(function(e){var a=n[e.id];(a&&a.indexOf(t)>=0||!a&&"line"===t)&&(i=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(e){n[e]===t&&(i=!0)}):i=this.config.data_type===t,i},e.prototype.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},e.prototype.isLineType=function(t){var e=this.config,n=g(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},e.prototype.isStepType=function(t){var e=g(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},e.prototype.isSplineType=function(t){var e=g(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},e.prototype.isAreaType=function(t){var e=g(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},e.prototype.isBarType=function(t){var e=g(t)?t:t.id;return"bar"===this.config.data_types[e]},e.prototype.isScatterType=function(t){var e=g(t)?t:t.id;return"scatter"===this.config.data_types[e]},e.prototype.isStanfordType=function(t){var e=g(t)?t:t.id;return"stanford"===this.config.data_types[e]},e.prototype.isScatterOrStanfordType=function(t){return this.isScatterType(t)||this.isStanfordType(t)},e.prototype.isPieType=function(t){var e=g(t)?t:t.id;return"pie"===this.config.data_types[e]},e.prototype.isGaugeType=function(t){var e=g(t)?t:t.id;return"gauge"===this.config.data_types[e]},e.prototype.isDonutType=function(t){var e=g(t)?t:t.id;return"donut"===this.config.data_types[e]},e.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},e.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},e.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},e.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},e.prototype.lineOrScatterOrStanfordData=function(t){return this.isLineType(t)||this.isScatterType(t)||this.isStanfordType(t)?t.values:[]},e.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},e.prototype.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},e.prototype.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},e.prototype.initZoom=function(){var t,e=this,n=e.d3,i=e.config;return e.zoom=n.zoom().on("start",function(){if("scroll"===i.zoom_type){var a=n.event.sourceEvent;a&&"brush"===a.type||(t=a,i.zoom_onzoomstart.call(e.api,a))}}).on("zoom",function(){if("scroll"===i.zoom_type){var t=n.event.sourceEvent;t&&"brush"===t.type||(e.redrawForZoom(),i.zoom_onzoom.call(e.api,e.x.orgDomain()))}}).on("end",function(){if("scroll"===i.zoom_type){var a=n.event.sourceEvent;a&&"brush"===a.type||a&&t.clientX===a.clientX&&t.clientY===a.clientY||i.zoom_onzoomend.call(e.api,e.x.orgDomain())}}),e.zoom.updateDomain=function(){return n.event&&n.event.transform&&e.x.domain(n.event.transform.rescaleX(e.subX).domain()),this},e.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[e.width,e.height]]).extent([[0,0],[e.width,e.height]]),this},e.zoom.update=function(){return this.updateExtent().updateDomain()},e.zoom.updateExtent()},e.prototype.zoomTransform=function(t){var e=[this.x(t[0]),this.x(t[1])];return this.d3.zoomIdentity.scale(this.width/(e[1]-e[0])).translate(-e[0],0)},e.prototype.initDragZoom=function(){var t=this,e=t.d3,n=t.config,i=t.context=t.svg,a=t.margin.left+20.5,o=t.margin.top+.5;if("drag"===n.zoom_type&&n.zoom_enabled){var r=function(e){return e&&e.map(function(e){return t.x.invert(e)})},l=t.dragZoomBrush=e.brushX().on("start",function(){t.api.unzoom(),t.svg.select("."+y.dragZoom).classed("disabled",!1),n.zoom_onzoomstart.call(t.api,e.event.sourceEvent)}).on("brush",function(){n.zoom_onzoom.call(t.api,r(e.event.selection))}).on("end",function(){if(null!=e.event.selection){var i=r(e.event.selection);n.zoom_disableDefaultBehavior||t.api.zoom(i),t.svg.select("."+y.dragZoom).classed("disabled",!0),n.zoom_onzoomend.call(t.api,i)}});i.append("g").classed(y.dragZoom,!0).attr("clip-path",t.clipPath).attr("transform","translate("+a+","+o+")").call(l)}},e.prototype.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},e.prototype.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,i=t.zoom,a=t.x;n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(i.update(),n.zoom_disableDefaultBehavior||(t.isCategorized()&&a.orgDomain()[0]===t.orgXDomain[0]&&a.domain([t.orgXDomain[0]-1e-10,a.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),e.event.sourceEvent&&"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0)))},C}()},fTXP:function(t,e,n){"use strict";var i=n("CcnG"),a=n("bujt"),o=n("UodH"),r=n("dWZg"),l=n("lLAP"),s=n("wFw1"),u=n("A7o+"),c=n("2Q+G"),d=n("mVsa"),h=n("Ip0R");n("gIcY"),n("adSY"),n("x2NK"),n.d(e,"a",function(){return p}),n.d(e,"b",function(){return b});var p=i["\u0275crt"]({encapsulation:2,styles:[[""]],data:{}});function f(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["color","accent"],["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.triggerExport()&&i),i},a.d,a.b)),i["\u0275did"](1,180224,null,0,o.b,[i.ElementRef,r.a,l.h,[2,s.a]],{color:[0,"color"]},null),(t()(),i["\u0275ted"](2,0,[" ","\n"])),i["\u0275pid"](131072,u.j,[u.k,i.ChangeDetectorRef])],function(t,e){t(e,1,0,"accent")},function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).disabled||null,"NoopAnimations"===i["\u0275nov"](e,1)._animationMode),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.label)))})}function g(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,3,"button",[["class","mat-menu-item"],["mat-menu-item",""],["type","button"]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],function(t,e,n){var a=!0,o=t.component;return"click"===e&&(a=!1!==i["\u0275nov"](t,1)._checkDisabled(n)&&a),"mouseenter"===e&&(a=!1!==i["\u0275nov"](t,1)._handleMouseEnter()&&a),"click"===e&&(a=!1!==o.triggerExport()&&a),a},c.c,c.b)),i["\u0275did"](1,180224,null,0,d.d,[i.ElementRef,h.DOCUMENT,l.h,[2,d.h]],null,null),(t()(),i["\u0275ted"](2,0,[" ","\n"])),i["\u0275pid"](131072,u.j,[u.k,i.ChangeDetectorRef])],null,function(t,e){var n=e.component;t(e,0,0,i["\u0275nov"](e,1).role,i["\u0275nov"](e,1)._highlighted,i["\u0275nov"](e,1)._triggersSubmenu,i["\u0275nov"](e,1)._getTabIndex(),i["\u0275nov"](e,1).disabled.toString(),i["\u0275nov"](e,1).disabled||null),t(e,2,0,i["\u0275unv"](e,2,0,i["\u0275nov"](e,3).transform(n.label)))})}function b(t){return i["\u0275vid"](0,[(t()(),i["\u0275and"](16777216,null,null,1,null,f)),i["\u0275did"](1,16384,null,0,h.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,g)),i["\u0275did"](3,16384,null,0,h.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,!n.menuItem),t(e,3,0,n.menuItem)},null)}}}]);